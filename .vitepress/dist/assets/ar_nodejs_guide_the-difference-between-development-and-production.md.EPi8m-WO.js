import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"الفرق بين بيئة التطوير والإنتاج في Node.js","description":"فهم دور NODE_ENV في Node.js وتأثيره على بيئات التطوير والإنتاج.","frontmatter":{"title":"الفرق بين بيئة التطوير والإنتاج في Node.js","description":"فهم دور NODE_ENV في Node.js وتأثيره على بيئات التطوير والإنتاج.","head":[["meta",{"name":"og:title","content":"الفرق بين بيئة التطوير والإنتاج في Node.js | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"فهم دور NODE_ENV في Node.js وتأثيره على بيئات التطوير والإنتاج."}],["meta",{"name":"twitter:title","content":"الفرق بين بيئة التطوير والإنتاج في Node.js | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"فهم دور NODE_ENV في Node.js وتأثيره على بيئات التطوير والإنتاج."}],["link",{"rel":"canonical","href":"https://idoc.dev/ar/nodejs/guide/the-difference-between-development-and-production"}],["meta",{"property":"og:url","content":"https://idoc.dev/ar/nodejs/guide/the-difference-between-development-and-production"}]]},"headers":[],"relativePath":"ar/nodejs/guide/the-difference-between-development-and-production.md","filePath":"ar/nodejs/guide/the-difference-between-development-and-production.md","lastUpdated":1749464498000}`),a={name:`ar/nodejs/guide/the-difference-between-development-and-production.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="node-js،-الفرق-بين-التطوير-والإنتاج" tabindex="-1">Node.js، الفرق بين التطوير والإنتاج <a class="header-anchor" href="#node-js،-الفرق-بين-التطوير-والإنتاج" aria-label="Permalink to “Node.js، الفرق بين التطوير والإنتاج”">​</a></h1><p><code>لا يوجد فرق بين التطوير والإنتاج في Node.js</code>، أي لا توجد إعدادات معينة تحتاج إلى تطبيقها لجعل Node.js يعمل في تكوين الإنتاج. ومع ذلك، تتعرف بعض المكتبات في سجل npm على استخدام متغير <code>NODE_ENV</code> وتجعله افتراضيًا إلى إعداد <code>development</code>. قم دائمًا بتشغيل Node.js الخاص بك مع تعيين <code>NODE_ENV=production</code>.</p><p>تتمثل إحدى الطرق الشائعة لتكوين تطبيقك في استخدام <a href="https://12factor.net" target="_blank" rel="noreferrer">منهجية العوامل الاثني عشر</a>.</p><h2 id="node-env-في-express" tabindex="-1">NODE_ENV في Express <a class="header-anchor" href="#node-env-في-express" aria-label="Permalink to “NODE_ENV في Express”">​</a></h2><p>في إطار العمل الشهير <a href="https://expressjs.com" target="_blank" rel="noreferrer">express</a>، يضمن تعيين NODE_ENV على الإنتاج عمومًا ما يلي:</p><ul><li>يتم الاحتفاظ بالتسجيل في الحد الأدنى من المستوى الأساسي</li><li>يتم تنفيذ المزيد من مستويات التخزين المؤقت لتحسين الأداء</li></ul><p>يتم ذلك عادةً عن طريق تنفيذ الأمر</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">production</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>في shell، ولكن من الأفضل وضعه في ملف تكوين shell الخاص بك (على سبيل المثال <code>.bash_profile</code> مع Bash shell) لأنه بخلاف ذلك لا يستمر الإعداد في حالة إعادة تشغيل النظام.</p><p>يمكنك أيضًا تطبيق متغير البيئة عن طريق إلحاقه بأمر تهيئة التطبيق الخاص بك:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">production</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>على سبيل المثال، في تطبيق Express، يمكنك استخدام هذا لتعيين معالجات أخطاء مختلفة لكل بيئة:</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(express.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">errorHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ dumpExceptions: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, showStack: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(express.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">errorHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>على سبيل المثال [Pug](<a href="https://pugjs.org" target="_blank" rel="noreferrer">https://pugjs.org</a>]، يتم تجميع مكتبة القوالب المستخدمة بواسطة [Express.js](<a href="https://expressjs.com" target="_blank" rel="noreferrer">https://expressjs.com</a>] في وضع التصحيح إذا لم يتم تعيين <code>NODE_ENV</code> على <code>production</code>. يتم تجميع طرق عرض Express في كل طلب في وضع التطوير، بينما يتم تخزينها مؤقتًا في وضع الإنتاج. هناك العديد من الأمثلة الأخرى.</p><p><code>متغير البيئة هذا هو اتفاقية مستخدمة على نطاق واسع في المكتبات الخارجية، ولكن ليس داخل Node.js نفسه.</code></p><h2 id="لماذا-تعتبر-node-env-نمطًا-مضادًا؟" tabindex="-1">لماذا تعتبر NODE_ENV نمطًا مضادًا؟ <a class="header-anchor" href="#لماذا-تعتبر-node-env-نمطًا-مضادًا؟" aria-label="Permalink to “لماذا تعتبر NODE_ENV نمطًا مضادًا؟”">​</a></h2><p>البيئة عبارة عن نظام أساسي رقمي أو نظام حيث يمكن للمهندسين إنشاء واختبار ونشر وإدارة منتجات البرامج. تقليديا، هناك أربع مراحل أو أنواع من البيئات التي يتم فيها تشغيل تطبيقنا:</p><ul><li>تطوير</li><li>التدريج</li><li>إنتاج</li><li>اختبار</li></ul><p>تنشأ المشكلة الأساسية في <code>NODE_ENV</code> من قيام المطورين بدمج التحسينات وسلوك البرنامج مع البيئة التي يتم تشغيل برنامجهم عليها. والنتيجة هي التعليمات البرمجية التالية:</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;staging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;testing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>في حين أن هذا قد يبدو غير ضار، إلا أنه يجعل بيئتي الإنتاج والتدريج مختلفتين، مما يجعل الاختبار الموثوق به مستحيلاً. على سبيل المثال، يمكن أن ينجح اختبار وبالتالي وظيفة منتجك عندما يتم تعيين <code>NODE_ENV</code> على <code>development</code> ولكن يفشل عند تعيين <code>NODE_ENV</code> على <code>production</code>. لذلك، يعتبر تعيين <code>NODE_ENV</code> على أي شيء بخلاف <code>production</code> نمطًا مضادًا.</p>`,21)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};