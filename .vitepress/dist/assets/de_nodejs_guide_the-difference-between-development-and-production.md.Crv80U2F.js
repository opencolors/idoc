import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Der Unterschied zwischen Entwicklung und Produktion in Node.js","description":"Das Verständnis von NODE_ENV in Node.js und seine Auswirkungen auf die Entwicklungs- und Produktionsumgebungen.","frontmatter":{"title":"Der Unterschied zwischen Entwicklung und Produktion in Node.js","description":"Das Verständnis von NODE_ENV in Node.js und seine Auswirkungen auf die Entwicklungs- und Produktionsumgebungen.","head":[["meta",{"name":"og:title","content":"Der Unterschied zwischen Entwicklung und Produktion in Node.js | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Das Verständnis von NODE_ENV in Node.js und seine Auswirkungen auf die Entwicklungs- und Produktionsumgebungen."}],["meta",{"name":"twitter:title","content":"Der Unterschied zwischen Entwicklung und Produktion in Node.js | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Das Verständnis von NODE_ENV in Node.js und seine Auswirkungen auf die Entwicklungs- und Produktionsumgebungen."}],["link",{"rel":"canonical","href":"https://idoc.dev/de/nodejs/guide/the-difference-between-development-and-production"}],["meta",{"property":"og:url","content":"https://idoc.dev/de/nodejs/guide/the-difference-between-development-and-production"}]]},"headers":[],"relativePath":"de/nodejs/guide/the-difference-between-development-and-production.md","filePath":"de/nodejs/guide/the-difference-between-development-and-production.md","lastUpdated":1749464498000}`),a={name:`de/nodejs/guide/the-difference-between-development-and-production.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="node-js-der-unterschied-zwischen-entwicklung-und-produktion" tabindex="-1">Node.js, der Unterschied zwischen Entwicklung und Produktion <a class="header-anchor" href="#node-js-der-unterschied-zwischen-entwicklung-und-produktion" aria-label="Permalink to “Node.js, der Unterschied zwischen Entwicklung und Produktion”">​</a></h1><p><code>Es gibt keinen Unterschied zwischen Entwicklung und Produktion in Node.js</code>, d. h., es gibt keine spezifischen Einstellungen, die Sie anwenden müssen, damit Node.js in einer Produktionskonfiguration funktioniert. Einige Bibliotheken im npm-Registry erkennen jedoch die Verwendung der <code>NODE_ENV</code>-Variable und setzen sie standardmäßig auf die Einstellung <code>development</code>. Führen Sie Ihr Node.js immer mit gesetzter <code>NODE_ENV=production</code> aus.</p><p>Eine beliebte Methode zur Konfiguration Ihrer Anwendung ist die Verwendung der <a href="https://12factor.net" target="_blank" rel="noreferrer">Twelve-Factor-Methodologie</a>.</p><h2 id="node-env-in-express" tabindex="-1">NODE_ENV in Express <a class="header-anchor" href="#node-env-in-express" aria-label="Permalink to “NODE_ENV in Express”">​</a></h2><p>Im äußerst beliebten <a href="https://expressjs.com" target="_blank" rel="noreferrer">Express</a>-Framework stellt das Setzen von NODE_ENV auf Produktion im Allgemeinen sicher, dass:</p><ul><li>die Protokollierung auf ein Minimum beschränkt wird</li><li>mehr Caching-Ebenen stattfinden, um die Leistung zu optimieren</li></ul><p>Dies geschieht normalerweise durch Ausführen des Befehls</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">production</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>in der Shell, aber es ist besser, dies in Ihre Shell-Konfigurationsdatei (z. B. <code>.bash_profile</code> mit der Bash-Shell) einzutragen, da die Einstellung sonst im Falle eines Systemneustarts nicht erhalten bleibt.</p><p>Sie können die Umgebungsvariable auch anwenden, indem Sie sie dem Initialisierungsbefehl Ihrer Anwendung voranstellen:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">production</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>In einer Express-App können Sie dies beispielsweise verwenden, um verschiedene Fehlerbehandlungsroutinen pro Umgebung festzulegen:</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(express.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">errorHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ dumpExceptions: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, showStack: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(express.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">errorHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Beispielsweise wird <a href="https://pugjs.org" target="_blank" rel="noreferrer">Pug</a>, die von <a href="https://expressjs.com" target="_blank" rel="noreferrer">Express.js</a> verwendete Template-Bibliothek, im Debug-Modus kompiliert, wenn <code>NODE_ENV</code> nicht auf <code>production</code> gesetzt ist. Express-Ansichten werden im Entwicklungsmodus bei jeder Anfrage kompiliert, während sie in der Produktion zwischengespeichert werden. Es gibt noch viele weitere Beispiele.</p><p><code>Diese Umgebungsvariable ist eine Konvention, die in externen Bibliotheken weit verbreitet ist, aber nicht in Node.js selbst.</code></p><h2 id="warum-wird-node-env-als-anti-pattern-betrachtet" tabindex="-1">Warum wird NODE_ENV als Anti-Pattern betrachtet? <a class="header-anchor" href="#warum-wird-node-env-als-anti-pattern-betrachtet" aria-label="Permalink to “Warum wird NODE_ENV als Anti-Pattern betrachtet?”">​</a></h2><p>Eine Umgebung ist eine digitale Plattform oder ein System, in dem Ingenieure Softwareprodukte erstellen, testen, bereitstellen und verwalten können. Konventionell gibt es vier Stufen oder Arten von Umgebungen, in denen unsere Anwendung ausgeführt wird:</p><ul><li>Entwicklung</li><li>Staging</li><li>Produktion</li><li>Test</li></ul><p>Das grundlegende Problem von <code>NODE_ENV</code> rührt daher, dass Entwickler Optimierungen und Softwareverhalten mit der Umgebung kombinieren, in der ihre Software ausgeführt wird. Das Ergebnis ist Code wie der folgende:</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;development&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;staging&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;testing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Auch wenn dies harmlos erscheinen mag, macht es die Produktions- und Staging-Umgebungen unterschiedlich und somit zuverlässige Tests unmöglich. Beispielsweise könnte ein Test und damit eine Funktionalität Ihres Produkts bestanden werden, wenn <code>NODE_ENV</code> auf <code>development</code> gesetzt ist, aber fehlschlagen, wenn <code>NODE_ENV</code> auf <code>production</code> gesetzt ist. Daher wird das Setzen von <code>NODE_ENV</code> auf etwas anderes als <code>production</code> als Anti-Pattern betrachtet.</p>`,21)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};