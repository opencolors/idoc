import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"npm パッケージマネージャーの完全ガイド","description":"npm を使用して依存関係を管理し、パッケージをインストールおよび更新し、Node.js プロジェクトでタスクを実行する方法を学びます。","frontmatter":{"title":"npm パッケージマネージャーの完全ガイド","description":"npm を使用して依存関係を管理し、パッケージをインストールおよび更新し、Node.js プロジェクトでタスクを実行する方法を学びます。","head":[["meta",{"name":"og:title","content":"npm パッケージマネージャーの完全ガイド | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"npm を使用して依存関係を管理し、パッケージをインストールおよび更新し、Node.js プロジェクトでタスクを実行する方法を学びます。"}],["meta",{"name":"twitter:title","content":"npm パッケージマネージャーの完全ガイド | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"npm を使用して依存関係を管理し、パッケージをインストールおよび更新し、Node.js プロジェクトでタスクを実行する方法を学びます。"}],["link",{"rel":"canonical","href":"https://idoc.dev/ja/nodejs/guide/npm-package-manager"}],["meta",{"property":"og:url","content":"https://idoc.dev/ja/nodejs/guide/npm-package-manager"}]]},"headers":[],"relativePath":"ja/nodejs/guide/npm-package-manager.md","filePath":"ja/nodejs/guide/npm-package-manager.md","lastUpdated":null}`),a={name:`ja/nodejs/guide/npm-package-manager.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="npm-パッケージマネージャー入門" tabindex="-1">npm パッケージマネージャー入門 <a class="header-anchor" href="#npm-パッケージマネージャー入門" aria-label="Permalink to “npm パッケージマネージャー入門”">​</a></h1><h2 id="npm-について" tabindex="-1">npm について <a class="header-anchor" href="#npm-について" aria-label="Permalink to “npm について”">​</a></h2><p><code>npm</code> は Node.js の標準パッケージマネージャーです。</p><p>2022年9月には、210万以上のパッケージが npm レジストリに登録されていると報告されており、これは地球上で最大の単一言語コードリポジトリとなっています。そして、ほぼすべてのものに対応するパッケージがあると確信できます。</p><p>もともとは Node.js パッケージの依存関係をダウンロードおよび管理する方法として始まりましたが、それ以来、フロントエンド JavaScript でも使用されるツールになりました。</p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p><code>Yarn</code> および <code>pnpm</code> は、npm cli の代替手段です。それらもチェックアウトできます。</p></div><h2 id="パッケージ" tabindex="-1">パッケージ <a class="header-anchor" href="#パッケージ" aria-label="Permalink to “パッケージ”">​</a></h2><h3 id="すべての依存関係をインストールする" tabindex="-1">すべての依存関係をインストールする <a class="header-anchor" href="#すべての依存関係をインストールする" aria-label="Permalink to “すべての依存関係をインストールする”">​</a></h3><p><code>package.json</code> ファイルにリストされているすべての依存関係をインストールするには、以下を実行します。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>これにより、プロジェクトに必要なものがすべて <code>node_modules</code> フォルダにインストールされ、存在しない場合は作成されます。</p><h3 id="単一のパッケージをインストールする" tabindex="-1">単一のパッケージをインストールする <a class="header-anchor" href="#単一のパッケージをインストールする" aria-label="Permalink to “単一のパッケージをインストールする”">​</a></h3><p>単一のパッケージをインストールするには、以下を実行します。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>さらに、npm 5 以降、このコマンドは <code>&lt;package-name&gt;</code> を <code>package.json</code> ファイルの依存関係に追加します。バージョン 5 より前は、<code>--save</code> フラグを追加する必要がありました。</p><p>多くの場合、このコマンドにはさらにフラグが追加されています。</p><ul><li><code>--save-dev</code>（または <code>-D</code>）：<code>package.json</code> ファイルの <code>devDependencies</code> セクションにパッケージを追加します。</li><li><code>--no-save</code>：パッケージを <code>package.json</code> ファイルに保存しないようにします。</li><li><code>--no-optional</code>：オプションの依存関係のインストールを防ぎます。</li><li><code>--save-optional</code>：パッケージを <code>package.json</code> ファイルの <code>optionalDependencies</code> セクションに追加します。</li></ul><p>フラグの短縮形も使用できます。</p><ul><li><code>-S</code>: <code>--save</code></li><li><code>-D</code>: <code>--save-dev</code></li><li><code>-O</code>: <code>--save-optional</code></li></ul><p>devDependencies と dependencies の違いは、前者がテストライブラリなどの開発ツールを含み、後者が本番環境でアプリにバンドルされることです。</p><p>optionalDependencies については、依存関係のビルドの失敗がインストールを失敗させないという違いがあります。ただし、依存関係の欠如を処理するのは、プログラムの責任です。<a href="https://docs.npmjs.com/cli/v10/using-npm/config#optional" target="_blank" rel="noreferrer">オプションの依存関係</a> の詳細をお読みください。</p><h3 id="パッケージの更新" tabindex="-1">パッケージの更新 <a class="header-anchor" href="#パッケージの更新" aria-label="Permalink to “パッケージの更新”">​</a></h3><p>パッケージの更新も簡単です。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>これを実行すると、すべての依存関係が最新バージョンに更新されます。</p><p>更新するパッケージを個別に指定することもできます。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="パッケージの削除" tabindex="-1">パッケージの削除 <a class="header-anchor" href="#パッケージの削除" aria-label="Permalink to “パッケージの削除”">​</a></h3><p>パッケージを削除するには、以下を実行します。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="バージョニング" tabindex="-1">バージョニング <a class="header-anchor" href="#バージョニング" aria-label="Permalink to “バージョニング”">​</a></h3><p><code>npm</code>は、単純なダウンロードに加えて、バージョニングも管理します。これにより、パッケージの特定のバージョンを指定したり、必要なバージョンより高いバージョンまたは低いバージョンを要求したりできます。</p><p>多くの場合、ライブラリは別のライブラリのメジャーリリースとのみ互換性があることがわかります。</p><p>または、まだ修正されていないライブラリの最新リリースのバグが問題を引き起こしている可能性があります。</p><p>ライブラリの明示的なバージョンを指定すると、チーム全体が<code>package.json</code>ファイルが更新されるまで同じバージョンのパッケージを実行できるように、全員がパッケージのまったく同じバージョンを使用し続けるのにも役立ちます。</p><p>これらすべての場合において、バージョニングは非常に役立ち、<code>npm</code>は<a href="https://semver.org/" target="_blank" rel="noreferrer">セマンティックバージョニング（semver）</a>標準に従います。</p><p>パッケージの特定のバージョンをインストールするには、以下を実行します。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>パッケージの最新バージョンをインストールするには、以下を実行します。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@latest</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="タスクの実行" tabindex="-1">タスクの実行 <a class="header-anchor" href="#タスクの実行" aria-label="Permalink to “タスクの実行”">​</a></h3><p>package.jsonファイルは、以下を使用して実行できるコマンドラインタスクを指定するための形式をサポートしています。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">task-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>たとえば、package.jsonファイルに次のコンテンツが含まれている場合：</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jest&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Webpackを実行するためにこの機能を使用するのは非常に一般的です。</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;watch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webpack --watch --progress --colors --config webpack.conf.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webpack --progress --colors --config webpack.conf.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;prod&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NODE_ENV=production webpack -p --config webpack.conf.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>そのため、忘れやすく、タイプミスしやすいこれらの長いコマンドを入力する代わりに、以下を実行できます。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,49)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};