import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Node.js Paketdokumentation","description":"Erkunden Sie die offizielle Node.js-Dokumentation zu Paketen, einschließlich der Verwaltung, Erstellung und Veröffentlichung von Paketen, sowie Details zu package.json, Abhängigkeiten und Paketverwaltungstools.","frontmatter":{"title":"Node.js Paketdokumentation","description":"Erkunden Sie die offizielle Node.js-Dokumentation zu Paketen, einschließlich der Verwaltung, Erstellung und Veröffentlichung von Paketen, sowie Details zu package.json, Abhängigkeiten und Paketverwaltungstools.","head":[["meta",{"name":"og:title","content":"Node.js Paketdokumentation | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Erkunden Sie die offizielle Node.js-Dokumentation zu Paketen, einschließlich der Verwaltung, Erstellung und Veröffentlichung von Paketen, sowie Details zu package.json, Abhängigkeiten und Paketverwaltungstools."}],["meta",{"name":"twitter:title","content":"Node.js Paketdokumentation | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Erkunden Sie die offizielle Node.js-Dokumentation zu Paketen, einschließlich der Verwaltung, Erstellung und Veröffentlichung von Paketen, sowie Details zu package.json, Abhängigkeiten und Paketverwaltungstools."}],["link",{"rel":"canonical","href":"https://idoc.dev/de/nodejs/api/packages"}],["meta",{"property":"og:url","content":"https://idoc.dev/de/nodejs/api/packages"}]]},"headers":[],"relativePath":"de/nodejs/api/packages.md","filePath":"de/nodejs/api/packages.md","lastUpdated":1749464498000}`),a={name:`de/nodejs/api/packages.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="modules-packages" tabindex="-1">Module: Pakete <a class="header-anchor" href="#modules-packages" aria-label="Permalink to “Module: Pakete”">​</a></h1><div class="info custom-block"><p class="custom-block-title">[Historie]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v14.13.0, v12.20.0</td><td>Unterstützung für <code>&quot;exports&quot;</code>-Muster hinzugefügt.</td></tr><tr><td>v14.6.0, v12.19.0</td><td>Paketfeld <code>&quot;imports&quot;</code> hinzugefügt.</td></tr><tr><td>v13.7.0, v12.17.0</td><td>Bedingte Exporte freigegeben.</td></tr><tr><td>v13.7.0, v12.16.0</td><td>Option <code>--experimental-conditional-exports</code> entfernt. In 12.16.0 befinden sich bedingte Exporte noch hinter <code>--experimental-modules</code>.</td></tr><tr><td>v13.6.0, v12.16.0</td><td>Selbstbezugnahme eines Pakets über seinen Namen freigegeben.</td></tr><tr><td>v12.7.0</td><td><code>&quot;exports&quot;</code> <code>package.json</code>-Feld als leistungsfähigere Alternative zum klassischen <code>&quot;main&quot;</code>-Feld eingeführt.</td></tr><tr><td>v12.0.0</td><td>Unterstützung für ES-Module mit der Dateiendung <code>.js</code> über das <code>package.json</code>-Feld <code>&quot;type&quot;</code> hinzugefügt.</td></tr></tbody></table></div><h2 id="introduction" tabindex="-1">Einführung <a class="header-anchor" href="#introduction" aria-label="Permalink to “Einführung”">​</a></h2><p>Ein Paket ist eine Ordnerstruktur, die durch eine <code>package.json</code>-Datei beschrieben wird. Das Paket besteht aus dem Ordner, der die <code>package.json</code>-Datei enthält, und allen Unterordnern bis zum nächsten Ordner, der eine andere <code>package.json</code>-Datei enthält, oder einem Ordner namens <code>node_modules</code>.</p><p>Diese Seite bietet Anleitungen für Paketautoren, die <code>package.json</code>-Dateien schreiben, zusammen mit einer Referenz für die von Node.js definierten <a href="/de/nodejs/api/packages#nodejs-packagejson-field-definitions"><code>package.json</code></a>-Felder.</p><h2 id="determining-module-system" tabindex="-1">Bestimmung des Modulsystems <a class="header-anchor" href="#determining-module-system" aria-label="Permalink to “Bestimmung des Modulsystems”">​</a></h2><h3 id="introduction_1" tabindex="-1">Einführung <a class="header-anchor" href="#introduction_1" aria-label="Permalink to “Einführung”">​</a></h3><p>Node.js behandelt die folgenden als <a href="/de/nodejs/api/esm">ES-Module</a>, wenn sie an <code>node</code> als anfängliche Eingabe übergeben oder von <code>import</code>-Anweisungen oder <code>import()</code>-Ausdrücken referenziert werden:</p><ul><li>Dateien mit der Erweiterung <code>.mjs</code>.</li><li>Dateien mit der Erweiterung <code>.js</code>, wenn die nächstgelegene übergeordnete <code>package.json</code>-Datei ein Feld <a href="/de/nodejs/api/packages#type"><code>&quot;type&quot;</code></a> auf oberster Ebene mit dem Wert <code>&quot;module&quot;</code> enthält.</li><li>Zeichenketten, die als Argument an <code>--eval</code> übergeben oder über <code>STDIN</code> an <code>node</code> weitergeleitet werden, mit dem Flag <code>--input-type=module</code>.</li><li>Code, der Syntax enthält, die nur erfolgreich als <a href="/de/nodejs/api/esm">ES-Module</a> geparst wird, wie z. B. <code>import</code>- oder <code>export</code>-Anweisungen oder <code>import.meta</code>, ohne explizite Markierung, wie er interpretiert werden soll. Explizite Markierungen sind <code>.mjs</code>- oder <code>.cjs</code>-Erweiterungen, <code>package.json</code>-Felder <code>&quot;type&quot;</code> mit den Werten <code>&quot;module&quot;</code> oder <code>&quot;commonjs&quot;</code> oder das Flag <code>--input-type</code>. Dynamische <code>import()</code>-Ausdrücke werden entweder in CommonJS- oder ES-Modulen unterstützt und würden nicht erzwingen, dass eine Datei als ES-Modul behandelt wird. Siehe <a href="/de/nodejs/api/packages#syntax-detection">Syntaxerkennung</a>.</li></ul><p>Node.js behandelt die folgenden als <a href="/de/nodejs/api/modules">CommonJS</a>, wenn sie an <code>node</code> als anfängliche Eingabe übergeben oder von <code>import</code>-Anweisungen oder <code>import()</code>-Ausdrücken referenziert werden:</p><ul><li>Dateien mit der Erweiterung <code>.cjs</code>.</li><li>Dateien mit der Erweiterung <code>.js</code>, wenn die nächstgelegene übergeordnete <code>package.json</code>-Datei ein Feld <a href="/de/nodejs/api/packages#type"><code>&quot;type&quot;</code></a> auf oberster Ebene mit dem Wert <code>&quot;commonjs&quot;</code> enthält.</li><li>Zeichenketten, die als Argument an <code>--eval</code> oder <code>--print</code> übergeben oder über <code>STDIN</code> an <code>node</code> weitergeleitet werden, mit dem Flag <code>--input-type=commonjs</code>.</li><li>Dateien mit der Erweiterung <code>.js</code> ohne übergeordnete <code>package.json</code>-Datei oder wo der nächstgelegenen übergeordneten <code>package.json</code>-Datei ein <code>type</code>-Feld fehlt und wo der Code erfolgreich als CommonJS ausgewertet werden kann. Mit anderen Worten, Node.js versucht, solche &quot;mehrdeutigen&quot; Dateien zuerst als CommonJS auszuführen, und wird versuchen, sie als ES-Module auszuwerten, wenn die Auswertung als CommonJS fehlschlägt, weil der Parser ES-Modul-Syntax gefunden hat.</li></ul><p>Das Schreiben von ES-Modul-Syntax in &quot;mehrdeutigen&quot; Dateien verursacht Leistungseinbußen, und daher wird empfohlen, dass Autoren so explizit wie möglich sind. Insbesondere sollten Paketautoren immer das Feld <a href="/de/nodejs/api/packages#type"><code>&quot;type&quot;</code></a> in ihren <code>package.json</code>-Dateien angeben, auch in Paketen, in denen alle Quellen CommonJS sind. Explizit über den <code>type</code> des Pakets zu sein, macht das Paket zukunftssicher, falls sich der Standardtyp von Node.js jemals ändert, und es erleichtert auch Build-Tools und Ladeprogrammen die Bestimmung, wie die Dateien im Paket interpretiert werden sollen.</p><h3 id="syntax-detection" tabindex="-1">Syntaxerkennung <a class="header-anchor" href="#syntax-detection" aria-label="Permalink to “Syntaxerkennung”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historie]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v22.7.0</td><td>Syntaxerkennung ist standardmäßig aktiviert.</td></tr><tr><td>v21.1.0, v20.10.0</td><td>Hinzugefügt in: v21.1.0, v20.10.0</td></tr></tbody></table></div><div class="warning custom-block"><p class="custom-block-title">[Stabil: 1 - Experimentell]</p><p><a href="/de/nodejs/api/documentation#stability-index">Stabil: 1</a> <a href="/de/nodejs/api/documentation#stability-index">Stabilität: 1</a>.2 - Releasekandidat</p></div><p>Node.js untersucht den Quellcode von uneindeutigen Eingaben, um festzustellen, ob er ES-Modul-Syntax enthält. Wenn eine solche Syntax erkannt wird, wird die Eingabe als ES-Modul behandelt.</p><p>Uneindeutige Eingaben sind definiert als:</p><ul><li>Dateien mit der Erweiterung <code>.js</code> oder ohne Erweiterung; und entweder ohne steuernde <code>package.json</code>-Datei oder eine, die kein <code>type</code>-Feld enthält.</li><li>String-Eingabe (<code>--eval</code> oder <code>STDIN</code>), wenn <code>--input-type</code> nicht angegeben ist.</li></ul><p>ES-Modul-Syntax ist definiert als Syntax, die einen Fehler auslösen würde, wenn sie als CommonJS ausgewertet würde. Dies umfasst Folgendes:</p><ul><li><code>import</code>-Anweisungen (aber <em>nicht</em> <code>import()</code>-Ausdrücke, die in CommonJS gültig sind).</li><li><code>export</code>-Anweisungen.</li><li><code>import.meta</code>-Referenzen.</li><li><code>await</code> auf der obersten Ebene eines Moduls.</li><li>Lexikalische Neudeklarationen der CommonJS-Wrapper-Variablen (<code>require</code>, <code>module</code>, <code>exports</code>, <code>__dirname</code>, <code>__filename</code>).</li></ul><h3 id="modules-loaders" tabindex="-1">Module-Loader <a class="header-anchor" href="#modules-loaders" aria-label="Permalink to “Module-Loader”">​</a></h3><p>Node.js verfügt über zwei Systeme zum Auflösen eines Bezeichners und zum Laden von Modulen.</p><p>Es gibt den CommonJS-Modul-Loader:</p><ul><li>Er ist vollständig synchron.</li><li>Er ist für die Verarbeitung von <code>require()</code>-Aufrufen verantwortlich.</li><li>Er ist monkey-patchbar.</li><li>Er unterstützt <a href="/de/nodejs/api/modules#folders-as-modules">Ordner als Module</a>.</li><li>Wenn beim Auflösen eines Bezeichners keine genaue Übereinstimmung gefunden wird, versucht er, Erweiterungen (<code>.js</code>, <code>.json</code> und schließlich <code>.node</code>) hinzuzufügen und dann zu versuchen, <a href="/de/nodejs/api/modules#folders-as-modules">Ordner als Module</a> aufzulösen.</li><li>Er behandelt <code>.json</code> als JSON-Textdateien.</li><li><code>.node</code>-Dateien werden als kompilierte Addon-Module interpretiert, die mit <code>process.dlopen()</code> geladen werden.</li><li>Er behandelt alle Dateien ohne die Erweiterungen <code>.json</code> oder <code>.node</code> als JavaScript-Textdateien.</li><li>Er kann nur verwendet werden, um <a href="/de/nodejs/api/modules#loading-ecmascript-modules-using-require">ECMAScript-Module aus CommonJS-Modulen zu laden</a>, wenn der Modulgraf synchron ist (der kein <code>await</code> auf oberster Ebene enthält). Wenn er zum Laden einer JavaScript-Textdatei verwendet wird, die kein ECMAScript-Modul ist, wird die Datei als CommonJS-Modul geladen.</li></ul><p>Es gibt den ECMAScript-Modul-Loader:</p><ul><li>Er ist asynchron, es sei denn, er wird zum Laden von Modulen für <code>require()</code> verwendet.</li><li>Er ist für die Verarbeitung von <code>import</code>-Anweisungen und <code>import()</code>-Ausdrücken verantwortlich.</li><li>Er ist nicht monkey-patchbar, kann aber mit <a href="/de/nodejs/api/esm#loaders">Loader-Hooks</a> angepasst werden.</li><li>Er unterstützt keine Ordner als Module, Verzeichnisindizes (z. B. <code>&#39;./startup/index.js&#39;</code>) müssen vollständig angegeben werden.</li><li>Er führt keine Erweiterungssuche durch. Eine Dateierweiterung muss angegeben werden, wenn der Bezeichner eine relative oder absolute Datei-URL ist.</li><li>Er kann JSON-Module laden, aber ein Importtypattribut ist erforderlich.</li><li>Er akzeptiert nur die Erweiterungen <code>.js</code>, <code>.mjs</code> und <code>.cjs</code> für JavaScript-Textdateien.</li><li>Er kann verwendet werden, um JavaScript-CommonJS-Module zu laden. Solche Module werden durch den <code>cjs-module-lexer</code> geleitet, um zu versuchen, benannte Exporte zu identifizieren, die verfügbar sind, wenn sie durch statische Analyse bestimmt werden können. Importierte CommonJS-Module haben ihre URLs in absolute Pfade konvertiert und werden dann über den CommonJS-Modul-Loader geladen.</li></ul><h3 id="packagejson-and-file-extensions" tabindex="-1"><code>package.json</code> und Dateiendungen <a class="header-anchor" href="#packagejson-and-file-extensions" aria-label="Permalink to “package.json und Dateiendungen”">​</a></h3><p>Innerhalb eines Pakets definiert das Feld <a href="/de/nodejs/api/packages#type"><code>&quot;type&quot;</code></a> in der <a href="/de/nodejs/api/packages#nodejs-packagejson-field-definitions"><code>package.json</code></a>, wie Node.js <code>.js</code>-Dateien interpretieren soll. Wenn eine <code>package.json</code>-Datei kein <code>&quot;type&quot;</code>-Feld hat, werden <code>.js</code>-Dateien als <a href="/de/nodejs/api/modules">CommonJS</a> behandelt.</p><p>Ein <code>&quot;type&quot;</code>-Wert von <code>&quot;module&quot;</code> in einer <code>package.json</code> weist Node.js an, <code>.js</code>-Dateien innerhalb dieses Pakets als mit <a href="/de/nodejs/api/esm">ES-Modul</a>-Syntax zu interpretieren.</p><p>Das Feld <code>&quot;type&quot;</code> gilt nicht nur für initiale Einstiegspunkte (<code>node my-app.js</code>), sondern auch für Dateien, auf die von <code>import</code>-Anweisungen und <code>import()</code>-Ausdrücken verwiesen wird.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// my-app.js, wird als ES-Modul behandelt, da sich im selben Ordner eine package.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Datei mit &quot;type&quot;: &quot;module&quot; befindet.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./startup/init.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wird als ES-Modul geladen, da ./startup keine package.json-Datei enthält</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// und daher den &quot;type&quot;-Wert von einer Ebene höher erbt.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;commonjs-package&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wird als CommonJS geladen, da ./node_modules/commonjs-package/package.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// entweder kein &quot;type&quot;-Feld enthält oder &quot;type&quot;: &quot;commonjs&quot; enthält.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./node_modules/commonjs-package/index.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wird als CommonJS geladen, da ./node_modules/commonjs-package/package.json</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// entweder kein &quot;type&quot;-Feld enthält oder &quot;type&quot;: &quot;commonjs&quot; enthält.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Dateien, die mit <code>.mjs</code> enden, werden immer als <a href="/de/nodejs/api/esm">ES-Module</a> geladen, unabhängig von der nächstgelegenen übergeordneten <code>package.json</code>.</p><p>Dateien, die mit <code>.cjs</code> enden, werden immer als <a href="/de/nodejs/api/modules">CommonJS</a> geladen, unabhängig von der nächstgelegenen übergeordneten <code>package.json</code>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./legacy-file.cjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wird als CommonJS geladen, da .cjs immer als CommonJS geladen wird.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;commonjs-package/src/index.mjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wird als ES-Modul geladen, da .mjs immer als ES-Modul geladen wird.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Die Erweiterungen <code>.mjs</code> und <code>.cjs</code> können verwendet werden, um Typen innerhalb desselben Pakets zu mischen:</p><ul><li>Innerhalb eines <code>&quot;type&quot;: &quot;module&quot;</code>-Pakets kann Node.js angewiesen werden, eine bestimmte Datei als <a href="/de/nodejs/api/modules">CommonJS</a> zu interpretieren, indem sie mit der Erweiterung <code>.cjs</code> benannt wird (da sowohl <code>.js</code>- als auch <code>.mjs</code>-Dateien innerhalb eines <code>&quot;module&quot;</code>-Pakets als ES-Module behandelt werden).</li><li>Innerhalb eines <code>&quot;type&quot;: &quot;commonjs&quot;</code>-Pakets kann Node.js angewiesen werden, eine bestimmte Datei als <a href="/de/nodejs/api/esm">ES-Modul</a> zu interpretieren, indem sie mit der Erweiterung <code>.mjs</code> benannt wird (da sowohl <code>.js</code>- als auch <code>.cjs</code>-Dateien innerhalb eines <code>&quot;commonjs&quot;</code>-Pakets als CommonJS behandelt werden).</li></ul><h3 id="--input-type-flag" tabindex="-1"><code>--input-type</code>-Flag <a class="header-anchor" href="#--input-type-flag" aria-label="Permalink to “--input-type-Flag”">​</a></h3><p><strong>Hinzugefügt in: v12.0.0</strong></p><p>Zeichenketten, die als Argument an <code>--eval</code> (oder <code>-e</code>) übergeben oder über <code>STDIN</code> an <code>node</code> weitergeleitet werden, werden als <a href="/de/nodejs/api/esm">ES-Module</a> behandelt, wenn das Flag <code>--input-type=module</code> gesetzt ist.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --input-type=module</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --eval</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;import { sep } from &#39;node:path&#39;; console.log(sep);&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;import { sep } from &#39;node:path&#39;; console.log(sep);&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --input-type=module</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Der Vollständigkeit halber gibt es auch <code>--input-type=commonjs</code>, um Zeichenketteneingaben explizit als CommonJS auszuführen. Dies ist das Standardverhalten, wenn <code>--input-type</code> nicht angegeben ist.</p><h2 id="determining-package-manager" tabindex="-1">Bestimmung des Paketmanagers <a class="header-anchor" href="#determining-package-manager" aria-label="Permalink to “Bestimmung des Paketmanagers”">​</a></h2><div class="warning custom-block"><p class="custom-block-title">[Stabil: 1 - Experimentell]</p><p><a href="/de/nodejs/api/documentation#stability-index">Stabil: 1</a> <a href="/de/nodejs/api/documentation#stability-index">Stabilität: 1</a> - Experimentell</p></div><p>Obwohl erwartet wird, dass alle Node.js-Projekte nach der Veröffentlichung von allen Paketmanagern installiert werden können, müssen ihre Entwicklungsteams häufig einen bestimmten Paketmanager verwenden. Um diesen Prozess zu vereinfachen, wird Node.js mit einem Tool namens <a href="/de/nodejs/api/corepack">Corepack</a> ausgeliefert, das darauf abzielt, alle Paketmanager in Ihrer Umgebung transparent verfügbar zu machen - vorausgesetzt, Sie haben Node.js installiert.</p><p>Standardmäßig erzwingt Corepack keinen bestimmten Paketmanager und verwendet die generischen &quot;Last Known Good&quot;-Versionen, die mit jeder Node.js-Version verbunden sind, aber Sie können diese Erfahrung verbessern, indem Sie das Feld <a href="/de/nodejs/api/packages#packagemanager"><code>&quot;packageManager&quot;</code></a> in der <code>package.json</code> Ihres Projekts festlegen.</p><h2 id="package-entry-points" tabindex="-1">Paket-Einstiegspunkte <a class="header-anchor" href="#package-entry-points" aria-label="Permalink to “Paket-Einstiegspunkte”">​</a></h2><p>In der <code>package.json</code>-Datei eines Pakets können zwei Felder Einstiegspunkte für ein Paket definieren: <a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a> und <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a>. Beide Felder gelten sowohl für ES-Module als auch für CommonJS-Module-Einstiegspunkte.</p><p>Das Feld <a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a> wird in allen Versionen von Node.js unterstützt, aber seine Möglichkeiten sind begrenzt: Es definiert nur den Haupteinstiegspunkt des Pakets.</p><p>Das Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> bietet eine moderne Alternative zu <a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a> und ermöglicht die Definition mehrerer Einstiegspunkte, die Unterstützung für die bedingte Auflösung von Einträgen zwischen Umgebungen und <strong>verhindert alle anderen Einstiegspunkte außer denen, die in <a href="#exports"><code>&quot;exports&quot;</code></a> definiert sind</strong>. Diese Kapselung ermöglicht es Modulautoren, die öffentliche Schnittstelle für ihr Paket klar zu definieren.</p><p>Für neue Pakete, die auf die aktuell unterstützten Versionen von Node.js abzielen, wird das Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> empfohlen. Für Pakete, die Node.js 10 und darunter unterstützen, ist das Feld <a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a> erforderlich. Wenn sowohl <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> als auch <a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a> definiert sind, hat das Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> in unterstützten Versionen von Node.js Vorrang vor <a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a>.</p><p><a href="/de/nodejs/api/packages#conditional-exports">Bedingte Exporte</a> können innerhalb von <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> verwendet werden, um unterschiedliche Paketeinstiegspunkte pro Umgebung zu definieren, einschließlich der Frage, ob auf das Paket über <code>require</code> oder über <code>import</code> verwiesen wird. Weitere Informationen zur Unterstützung von CommonJS- und ES-Modulen in einem einzigen Paket finden Sie im Abschnitt <a href="/de/nodejs/api/packages#dual-commonjses-module-packages">Dual CommonJS/ES module packages</a>.</p><p>Vorhandene Pakete, die das Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> einführen, verhindern, dass Konsumenten des Pakets Einstiegspunkte verwenden, die nicht definiert sind, einschließlich der <a href="/de/nodejs/api/packages#nodejs-packagejson-field-definitions"><code>package.json</code></a> (z. B. <code>require(&#39;your-package/package.json&#39;)</code>). <strong>Dies wird wahrscheinlich eine Breaking Change sein.</strong></p><p>Um die Einführung von <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> nicht zu einem Breaking Change zu machen, stellen Sie sicher, dass jeder zuvor unterstützte Einstiegspunkt exportiert wird. Es ist am besten, Einstiegspunkte explizit anzugeben, damit die öffentliche API des Pakets gut definiert ist. Beispielsweise könnte ein Projekt, das zuvor <code>main</code>, <code>lib</code>, <code>feature</code> und die <code>package.json</code> exportiert hat, die folgende <code>package.exports</code> verwenden:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my-package&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./lib&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./lib/index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature/index&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./package.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./package.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Alternativ könnte ein Projekt ganze Ordner sowohl mit als auch ohne Subpfade mit Erweiterungen mithilfe von Exportmustern exportieren:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my-package&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./lib&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./lib/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./lib/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./package.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./package.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Wobei das Obige die Abwärtskompatibilität für alle kleineren Paketversionen bietet, kann eine zukünftige Hauptänderung für das Paket die Exporte dann ordnungsgemäß auf nur die spezifischen Feature-Exporte beschränken:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my-package&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./lib/index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature/internal/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="main-entry-point-export" tabindex="-1">Export des Haupteinstiegspunkts <a class="header-anchor" href="#main-entry-point-export" aria-label="Permalink to “Export des Haupteinstiegspunkts”">​</a></h3><p>Beim Schreiben eines neuen Pakets wird empfohlen, das Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> zu verwenden:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Wenn das Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> definiert ist, werden alle Subpfade des Pakets gekapselt und stehen Importeuren nicht mehr zur Verfügung. Beispielsweise wirft <code>require(&#39;pkg/subpath.js&#39;)</code> einen <a href="/de/nodejs/api/errors#err-package-path-not-exported"><code>ERR_PACKAGE_PATH_NOT_EXPORTED</code></a>-Fehler.</p><p>Diese Kapselung von Exports bietet zuverlässigere Garantien über Paketschnittstellen für Tools und bei der Handhabung von Semver-Upgrades für ein Paket. Es ist keine starke Kapselung, da ein direktes Require eines absoluten Subpfads des Pakets, wie z. B. <code>require(&#39;/path/to/node_modules/pkg/subpath.js&#39;)</code>, weiterhin <code>subpath.js</code> laden wird.</p><p>Alle derzeit unterstützten Versionen von Node.js und moderne Build-Tools unterstützen das Feld <code>&quot;exports&quot;</code>. Für Projekte, die eine ältere Version von Node.js oder ein zugehöriges Build-Tool verwenden, kann die Kompatibilität erreicht werden, indem das Feld <code>&quot;main&quot;</code> zusammen mit <code>&quot;exports&quot;</code> auf dasselbe Modul verweist:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="subpath-exports" tabindex="-1">Subpath-Exporte <a class="header-anchor" href="#subpath-exports" aria-label="Permalink to “Subpath-Exporte”">​</a></h3><p><strong>Hinzugefügt in: v12.7.0</strong></p><p>Bei Verwendung des Felds <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> können benutzerdefinierte Subpfade zusammen mit dem Haupteinstiegspunkt definiert werden, indem der Haupteinstiegspunkt als der <code>&quot;.&quot;</code>-Subpfad behandelt wird:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./submodule.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./src/submodule.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Jetzt kann nur der definierte Subpfad in <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> von einem Consumer importiert werden:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> submodule </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;es-module-package/submodule.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lädt ./node_modules/es-module-package/src/submodule.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Während andere Subpfade einen Fehler verursachen:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> submodule </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;es-module-package/private-module.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wirft ERR_PACKAGE_PATH_NOT_EXPORTED</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="extensions-in-subpaths" tabindex="-1">Erweiterungen in Subpfaden <a class="header-anchor" href="#extensions-in-subpaths" aria-label="Permalink to “Erweiterungen in Subpfaden”">​</a></h4><p>Paketautoren sollten entweder Subpfade mit Erweiterung (<code>import &#39;pkg/subpath.js&#39;</code>) oder ohne Erweiterung (<code>import &#39;pkg/subpath&#39;</code>) in ihren Exports bereitstellen. Dies stellt sicher, dass es nur einen Subpfad für jedes exportierte Modul gibt, sodass alle Abhängigen denselben konsistenten Bezeichner importieren, wodurch der Paketvertrag für Verbraucher klar bleibt und die Paket-Subpfad-Vervollständigungen vereinfacht werden.</p><p>Traditionell neigten Pakete dazu, den Stil ohne Erweiterung zu verwenden, der die Vorteile der Lesbarkeit und der Maskierung des tatsächlichen Pfads der Datei innerhalb des Pakets hat.</p><p>Da <a href="https://github.com/WICG/import-maps" target="_blank" rel="noreferrer">Import Maps</a> jetzt einen Standard für die Paketauflösung in Browsern und anderen JavaScript-Laufzeitumgebungen bereitstellen, kann die Verwendung des Stils ohne Erweiterung zu aufgeblähten Import Map-Definitionen führen. Explizite Dateierweiterungen können dieses Problem vermeiden, indem sie es der Import Map ermöglichen, eine <a href="https://github.com/WICG/import-maps#packages-via-trailing-slashes" target="_blank" rel="noreferrer">Paketordnerzuordnung</a> zu verwenden, um mehrere Subpfade nach Möglichkeit zuzuordnen, anstatt einen separaten Map-Eintrag pro Paket-Subpfad-Export. Dies spiegelt auch die Anforderung wider, <a href="/de/nodejs/api/esm#mandatory-file-extensions">den vollständigen Bezeichnerpfad</a> in relativen und absoluten Importbezeichnern zu verwenden.</p><h3 id="exports-sugar" tabindex="-1">Exports Zucker <a class="header-anchor" href="#exports-sugar" aria-label="Permalink to “Exports Zucker”">​</a></h3><p><strong>Hinzugefügt in: v12.11.0</strong></p><p>Wenn der <code>&quot;.&quot;</code> Export der einzige Export ist, bietet das Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> Zucker für diesen Fall, da es der direkte Wert des Feldes <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> ist.</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>kann geschrieben werden als:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="subpath-imports" tabindex="-1">Subpfad-Importe <a class="header-anchor" href="#subpath-imports" aria-label="Permalink to “Subpfad-Importe”">​</a></h3><p><strong>Hinzugefügt in: v14.6.0, v12.19.0</strong></p><p>Zusätzlich zum Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> gibt es ein Paketfeld <code>&quot;imports&quot;</code>, um private Zuordnungen zu erstellen, die nur für Importspezifizierer innerhalb des Pakets selbst gelten.</p><p>Einträge im Feld <code>&quot;imports&quot;</code> müssen immer mit <code>#</code> beginnen, um sicherzustellen, dass sie von externen Paketspezifizierern unterschieden werden.</p><p>Zum Beispiel kann das Imports-Feld verwendet werden, um die Vorteile bedingter Exporte für interne Module zu nutzen:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;#dep&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dep-node-native&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dep-polyfill.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dep-node-native&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>wobei <code>import &#39;#dep&#39;</code> nicht die Auflösung des externen Pakets <code>dep-node-native</code> erhält (einschließlich seiner Exporte wiederum), sondern die lokale Datei <code>./dep-polyfill.js</code> relativ zum Paket in anderen Umgebungen erhält.</p><p>Im Gegensatz zum Feld <code>&quot;exports&quot;</code> erlaubt das Feld <code>&quot;imports&quot;</code> die Zuordnung zu externen Paketen.</p><p>Die Auflösungsregeln für das Imports-Feld sind ansonsten analog zum Exports-Feld.</p><h3 id="subpath-patterns" tabindex="-1">Subpfad-Muster <a class="header-anchor" href="#subpath-patterns" aria-label="Permalink to “Subpfad-Muster”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v16.10.0, v14.19.0</td><td>Unterstützung für Musteranhänge im &quot;imports&quot;-Feld.</td></tr><tr><td>v16.9.0, v14.19.0</td><td>Unterstützung für Musteranhänge.</td></tr><tr><td>v14.13.0, v12.20.0</td><td>Hinzugefügt in: v14.13.0, v12.20.0</td></tr></tbody></table></div><p>Für Pakete mit einer geringen Anzahl von Exporten oder Importen empfehlen wir, jeden Subpfadeintrag explizit aufzulisten. Für Pakete mit einer großen Anzahl von Subpfaden kann dies jedoch zu <code>package.json</code> -Aufblähung und Wartungsproblemen führen.</p><p>Für diese Anwendungsfälle können stattdessen Subpfad-Exportmuster verwendet werden:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ./node_modules/es-module-package/package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./features/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./src/features/*.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;#internal/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./src/internal/*.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong><code>*</code>-Zuordnungen legen verschachtelte Subpfade offen, da es sich nur um eine String-Ersetzungssyntax handelt.</strong></p><p>Alle Instanzen von <code>*</code> auf der rechten Seite werden dann durch diesen Wert ersetzt, auch wenn er <code>/</code>-Trennzeichen enthält.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> featureX </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;es-module-package/features/x.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lädt ./node_modules/es-module-package/src/features/x.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> featureY </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;es-module-package/features/y/y.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lädt ./node_modules/es-module-package/src/features/y/y.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> internalZ </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;#internal/z.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lädt ./node_modules/es-module-package/src/internal/z.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Dies ist eine direkte statische Übereinstimmung und Ersetzung ohne spezielle Behandlung für Dateierweiterungen. Die Einbeziehung von <code>&quot;*.js&quot;</code> auf beiden Seiten der Zuordnung beschränkt die offengelegten Paketexporte auf JS-Dateien.</p><p>Die Eigenschaft, dass Exporte statisch aufzählbar sind, wird mit Exportmustern beibehalten, da die einzelnen Exporte für ein Paket bestimmt werden können, indem das Zielmuster auf der rechten Seite als <code>**</code> Glob gegen die Liste der Dateien innerhalb des Pakets behandelt wird. Da <code>node_modules</code>-Pfade in Exportzielen verboten sind, hängt diese Erweiterung nur von den Dateien des Pakets selbst ab.</p><p>Um private Unterordner von Mustern auszuschließen, können <code>null</code>-Ziele verwendet werden:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ./node_modules/es-module-package/package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./features/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./src/features/*.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./features/private-internal/*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> featureInternal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;es-module-package/features/private-internal/m.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wirft: ERR_PACKAGE_PATH_NOT_EXPORTED</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> featureX </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;es-module-package/features/x.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lädt ./node_modules/es-module-package/src/features/x.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="conditional-exports" tabindex="-1">Bedingte Exporte <a class="header-anchor" href="#conditional-exports" aria-label="Permalink to “Bedingte Exporte”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historie]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v13.7.0, v12.16.0</td><td>Bedingte Exporte als nicht-experimentell markiert.</td></tr><tr><td>v13.2.0, v12.16.0</td><td>Hinzugefügt in: v13.2.0, v12.16.0</td></tr></tbody></table></div><p>Bedingte Exporte bieten eine Möglichkeit, verschiedenen Pfaden in Abhängigkeit von bestimmten Bedingungen zuzuordnen. Sie werden sowohl für CommonJS- als auch für ES-Modulimporte unterstützt.</p><p>Zum Beispiel kann ein Paket, das unterschiedliche ES-Modulexporte für <code>require()</code> und <code>import</code> bereitstellen möchte, wie folgt geschrieben werden:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index-module.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;require&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index-require.cjs&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Node.js implementiert die folgenden Bedingungen, aufgelistet von der spezifischsten zur allgemeinsten, da Bedingungen definiert werden sollten:</p><ul><li><code>&quot;node-addons&quot;</code> - ähnlich wie <code>&quot;node&quot;</code> und passt für jede Node.js-Umgebung. Diese Bedingung kann verwendet werden, um einen Einstiegspunkt bereitzustellen, der native C++-Addons verwendet, im Gegensatz zu einem Einstiegspunkt, der universeller ist und nicht auf native Addons angewiesen ist. Diese Bedingung kann über das <a href="/de/nodejs/api/cli#no-addons"><code>--no-addons</code> Flag</a> deaktiviert werden.</li><li><code>&quot;node&quot;</code> - passt für jede Node.js-Umgebung. Kann eine CommonJS- oder ES-Moduldatei sein. <em>In den meisten Fällen ist es nicht erforderlich, die Node.js-Plattform explizit zu nennen.</em></li><li><code>&quot;import&quot;</code> - passt, wenn das Paket über <code>import</code> oder <code>import()</code> geladen wird, oder über eine Import- oder Auflösungsoperation der obersten Ebene durch den ECMAScript-Modul-Loader. Gilt unabhängig vom Modulformat der Zieldatei. <em>Immer gegenseitig ausschließend mit <code>&quot;require&quot;</code>.</em></li><li><code>&quot;require&quot;</code> - passt, wenn das Paket über <code>require()</code> geladen wird. Die referenzierte Datei sollte mit <code>require()</code> ladbar sein, obwohl die Bedingung unabhängig vom Modulformat der Zieldatei übereinstimmt. Erwartete Formate sind CommonJS, JSON, native Addons und ES-Module. <em>Immer gegenseitig ausschließend mit <code>&quot;import&quot;</code>.</em></li><li><code>&quot;module-sync&quot;</code> - passt, unabhängig davon, ob das Paket über <code>import</code>, <code>import()</code> oder <code>require()</code> geladen wird. Das Format wird als ES-Module erwartet, das keine Top-Level-Await in seinem Modulgraphen enthält - wenn dies der Fall ist, wird <code>ERR_REQUIRE_ASYNC_MODULE</code> ausgelöst, wenn das Modul <code>require()</code>-ed wird.</li><li><code>&quot;default&quot;</code> - der generische Fallback, der immer passt. Kann eine CommonJS- oder ES-Moduldatei sein. <em>Diese Bedingung sollte immer zuletzt stehen.</em></li></ul><p>Innerhalb des <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a>-Objekts ist die Reihenfolge der Schlüssel von Bedeutung. Während des Bedingungsabgleichs haben frühere Einträge eine höhere Priorität und Vorrang vor späteren Einträgen. <em>Die allgemeine Regel ist, dass Bedingungen von der spezifischsten zur allgemeinsten in der Objektanordnung erfolgen sollten</em>.</p><p>Die Verwendung der Bedingungen <code>&quot;import&quot;</code> und <code>&quot;require&quot;</code> kann zu einigen Gefahren führen, die im Abschnitt <a href="/de/nodejs/api/packages#dual-commonjses-module-packages">Duale CommonJS/ES-Modul-Pakete</a> näher erläutert werden.</p><p>Die Bedingung <code>&quot;node-addons&quot;</code> kann verwendet werden, um einen Einstiegspunkt bereitzustellen, der native C++-Addons verwendet. Diese Bedingung kann jedoch über das <a href="/de/nodejs/api/cli#no-addons"><code>--no-addons</code> Flag</a> deaktiviert werden. Bei Verwendung von <code>&quot;node-addons&quot;</code> wird empfohlen, <code>&quot;default&quot;</code> als eine Verbesserung zu betrachten, die einen universelleren Einstiegspunkt bietet, z. B. die Verwendung von WebAssembly anstelle eines nativen Addons.</p><p>Bedingte Exporte können auch auf Export-Subpfade erweitert werden, zum Beispiel:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./feature.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature-node.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Definiert ein Paket, bei dem <code>require(&#39;pkg/feature.js&#39;)</code> und <code>import &#39;pkg/feature.js&#39;</code> unterschiedliche Implementierungen zwischen Node.js und anderen JS-Umgebungen bereitstellen könnten.</p><p>Wenn Sie Umgebungszweige verwenden, fügen Sie nach Möglichkeit immer eine <code>&quot;default&quot;</code>-Bedingung ein. Die Bereitstellung einer <code>&quot;default&quot;</code>-Bedingung stellt sicher, dass alle unbekannten JS-Umgebungen diese universelle Implementierung verwenden können, wodurch vermieden wird, dass diese JS-Umgebungen vorgeben müssen, bestehende Umgebungen zu sein, um Pakete mit bedingten Exporten zu unterstützen. Aus diesem Grund ist die Verwendung von <code>&quot;node&quot;</code>- und <code>&quot;default&quot;</code>-Bedingungszweigen in der Regel vorzuziehen gegenüber der Verwendung von <code>&quot;node&quot;</code>- und <code>&quot;browser&quot;</code>-Bedingungszweigen.</p><h3 id="nested-conditions" tabindex="-1">Verschachtelte Bedingungen <a class="header-anchor" href="#nested-conditions" aria-label="Permalink to “Verschachtelte Bedingungen”">​</a></h3><p>Zusätzlich zu direkten Zuordnungen unterstützt Node.js auch verschachtelte Bedingungsobjekte.</p><p>Um beispielsweise ein Paket zu definieren, das nur Dual-Mode-Einstiegspunkte für die Verwendung in Node.js, aber nicht im Browser hat:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature-node.mjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;require&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature-node.cjs&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./feature.mjs&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Bedingungen werden weiterhin wie bei flachen Bedingungen der Reihe nach abgeglichen. Wenn eine verschachtelte Bedingung keine Zuordnung hat, werden die verbleibenden Bedingungen der übergeordneten Bedingung weiterhin geprüft. Auf diese Weise verhalten sich verschachtelte Bedingungen analog zu verschachtelten JavaScript-<code>if</code>-Anweisungen.</p><h3 id="resolving-user-conditions" tabindex="-1">Auflösen von Benutzerbedingungen <a class="header-anchor" href="#resolving-user-conditions" aria-label="Permalink to “Auflösen von Benutzerbedingungen”">​</a></h3><p><strong>Hinzugefügt in: v14.9.0, v12.19.0</strong></p><p>Beim Ausführen von Node.js können benutzerdefinierte Benutzerbedingungen mit dem Flag <code>--conditions</code> hinzugefügt werden:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --conditions=development</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>was dann die Bedingung <code>&quot;development&quot;</code> in Paketimporten und -exporten auflösen würde, während die bestehenden Bedingungen <code>&quot;node&quot;</code>, <code>&quot;node-addons&quot;</code>, <code>&quot;default&quot;</code>, <code>&quot;import&quot;</code> und <code>&quot;require&quot;</code> entsprechend aufgelöst werden.</p><p>Beliebig viele benutzerdefinierte Bedingungen können mit wiederholten Flags gesetzt werden.</p><p>Typische Bedingungen sollten nur alphanumerische Zeichen enthalten und bei Bedarf &quot;:&quot;, &quot;-&quot; oder &quot;=&quot; als Trennzeichen verwenden. Alles andere kann zu Kompatibilitätsproblemen außerhalb von Node führen.</p><p>In Node gibt es nur sehr wenige Einschränkungen für Bedingungen, aber insbesondere diese hier:</p><h3 id="community-conditions-definitions" tabindex="-1">Definitionen von Community-Bedingungen <a class="header-anchor" href="#community-conditions-definitions" aria-label="Permalink to “Definitionen von Community-Bedingungen”">​</a></h3><p>Andere Bedingungszeichenketten als die in <a href="/de/nodejs/api/packages#conditional-exports">Node.js Core implementierten Bedingungen</a> <code>&quot;import&quot;</code>, <code>&quot;require&quot;</code>, <code>&quot;node&quot;</code>, <code>&quot;module-sync&quot;</code>, <code>&quot;node-addons&quot;</code> und <code>&quot;default&quot;</code> werden standardmäßig ignoriert.</p><p>Andere Plattformen können andere Bedingungen implementieren, und Benutzerbedingungen können in Node.js über das Flag <a href="/de/nodejs/api/packages#resolving-user-conditions"><code>--conditions</code> / <code>-C</code></a> aktiviert werden.</p><p>Da benutzerdefinierte Paketbedingungen klare Definitionen erfordern, um eine korrekte Verwendung zu gewährleisten, wird im Folgenden eine Liste allgemeiner bekannter Paketbedingungen und ihrer strikten Definitionen bereitgestellt, um die Ökosystemkoordination zu unterstützen.</p><ul><li><code>&quot;types&quot;</code> - kann von Typsystemen verwendet werden, um die Typisierungsdatei für den angegebenen Export aufzulösen. <em>Diese Bedingung sollte immer zuerst enthalten sein.</em></li><li><code>&quot;browser&quot;</code> - jede Webbrowserumgebung.</li><li><code>&quot;development&quot;</code> - kann verwendet werden, um einen Entwicklungsumgebungs-Einstiegspunkt zu definieren, z. B. um zusätzlichen Debugging-Kontext bereitzustellen, z. B. bessere Fehlermeldungen, wenn in einem Entwicklungsmodus ausgeführt wird. <em>Muss immer sich gegenseitig ausschließen mit <code>&quot;production&quot;</code>.</em></li><li><code>&quot;production&quot;</code> - kann verwendet werden, um einen Produktionsumgebungs-Einstiegspunkt zu definieren. <em>Muss immer sich gegenseitig ausschließen mit <code>&quot;development&quot;</code>.</em></li></ul><p>Für andere Runtimes werden plattformspezifische Bedingungsschlüsseldefinitionen von der <a href="https://wintercg.org/" target="_blank" rel="noreferrer">WinterCG</a> in der <a href="https://runtime-keys.proposal.wintercg.org/" target="_blank" rel="noreferrer">Runtime Keys</a> Proposal-Spezifikation verwaltet.</p><p>Neue Bedingungsdefinitionen können dieser Liste hinzugefügt werden, indem ein Pull-Request an die <a href="https://github.com/nodejs/node/blob/HEAD/doc/api/packages.md#conditions-definitions" target="_blank" rel="noreferrer">Node.js-Dokumentation für diesen Abschnitt</a> erstellt wird. Die Anforderungen für die Auflistung einer neuen Bedingungsdefinition sind hierbei:</p><ul><li>Die Definition sollte für alle Implementierer klar und eindeutig sein.</li><li>Der Anwendungsfall, warum die Bedingung erforderlich ist, sollte klar begründet sein.</li><li>Es sollte eine ausreichende vorhandene Implementierungsnutzung geben.</li><li>Der Bedingungsname sollte nicht mit einer anderen Bedingungsdefinition oder Bedingung in breiter Verwendung in Konflikt stehen.</li><li>Die Auflistung der Bedingungsdefinition sollte einen Koordinationsvorteil für das Ökosystem bieten, der sonst nicht möglich wäre. Dies wäre beispielsweise nicht unbedingt der Fall für unternehmens- oder anwendungsspezifische Bedingungen.</li><li>Die Bedingung sollte so sein, dass ein Node.js-Benutzer erwarten würde, dass sie sich in der Node.js-Core-Dokumentation befindet. Die <code>&quot;types&quot;</code>-Bedingung ist ein gutes Beispiel: Sie gehört nicht wirklich in das <a href="https://runtime-keys.proposal.wintercg.org/" target="_blank" rel="noreferrer">Runtime Keys</a> Proposal, passt aber gut hier in die Node.js-Dokumente.</li></ul><p>Die obigen Definitionen können im Laufe der Zeit in ein dediziertes Bedingungsregister verschoben werden.</p><h3 id="self-referencing-a-package-using-its-name" tabindex="-1">Selbstbezug eines Pakets mithilfe seines Namens <a class="header-anchor" href="#self-referencing-a-package-using-its-name" aria-label="Permalink to “Selbstbezug eines Pakets mithilfe seines Namens”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v13.6.0, v12.16.0</td><td>Selbstbezug eines Pakets mithilfe seines Namens nicht länger markiert.</td></tr><tr><td>v13.1.0, v12.16.0</td><td>Hinzugefügt in: v13.1.0, v12.16.0</td></tr></tbody></table></div><p>Innerhalb eines Pakets können die im Feld <code>package.json</code> <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> des Pakets definierten Werte über den Namen des Pakets referenziert werden. Zum Beispiel, unter der Annahme, dass die <code>package.json</code> Folgendes ist:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a-package&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.mjs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./foo.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./foo.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Dann kann jedes Modul <em>in diesem Paket</em> einen Export im Paket selbst referenzieren:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ./a-module.mjs</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { something } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;a-package&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Importiert &quot;something&quot; aus ./index.mjs.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Selbstbezug ist nur verfügbar, wenn <code>package.json</code> <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> hat, und erlaubt nur den Import dessen, was dieses <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> (in der <code>package.json</code>) erlaubt. Der folgende Code erzeugt also, gegeben das vorherige Paket, einen Laufzeitfehler:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ./another-module.mjs</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Importiert &quot;another&quot; aus ./m.mjs. Schlägt fehl, weil</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// das Feld &quot;exports&quot; in der &quot;package.json&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// keinen Export namens &quot;./m.mjs&quot; bereitstellt.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { another } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;a-package/m.mjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Selbstbezug ist auch verfügbar, wenn <code>require</code> verwendet wird, sowohl in einem ES-Modul als auch in einem CommonJS-Modul. Zum Beispiel funktioniert dieser Code auch:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ./a-module.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">something</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a-package/foo.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lädt aus ./foo.js.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Schließlich funktioniert der Selbstbezug auch mit Scoped Packages. Zum Beispiel funktioniert dieser Code auch:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@my/package&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ./index.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 42</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ./other.js</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@my/package&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> other.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">42</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="dual-commonjs/es-module-packages" tabindex="-1">Duale CommonJS/ES-Modul-Pakete <a class="header-anchor" href="#dual-commonjs/es-module-packages" aria-label="Permalink to “Duale CommonJS/ES-Modul-Pakete”">​</a></h2><p>Weitere Informationen finden Sie im <a href="https://github.com/nodejs/package-examples" target="_blank" rel="noreferrer">Package Examples Repository</a>.</p><h2 id="nodejs-packagejson-field-definitions" tabindex="-1">Node.js <code>package.json</code>-Felddefinitionen <a class="header-anchor" href="#nodejs-packagejson-field-definitions" aria-label="Permalink to “Node.js package.json-Felddefinitionen”">​</a></h2><p>Dieser Abschnitt beschreibt die von der Node.js-Laufzeit verwendeten Felder. Andere Tools (wie z. B. <a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json" target="_blank" rel="noreferrer">npm</a>) verwenden zusätzliche Felder, die von Node.js ignoriert und hier nicht dokumentiert werden.</p><p>Die folgenden Felder in <code>package.json</code>-Dateien werden in Node.js verwendet:</p><ul><li><a href="/de/nodejs/api/packages#name"><code>&quot;name&quot;</code></a> - Relevant bei der Verwendung von benannten Importen innerhalb eines Pakets. Wird auch von Paketmanagern als Name des Pakets verwendet.</li><li><a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a> - Das Standardmodul beim Laden des Pakets, wenn exports nicht angegeben ist, und in Node.js-Versionen vor der Einführung von Exports.</li><li><a href="/de/nodejs/api/packages#packagemanager"><code>&quot;packageManager&quot;</code></a> - Der empfohlene Paketmanager beim Beitragen zum Paket. Wird von den <a href="/de/nodejs/api/corepack">Corepack</a>-Shims genutzt.</li><li><a href="/de/nodejs/api/packages#type"><code>&quot;type&quot;</code></a> - Der Pakettyp, der bestimmt, ob <code>.js</code>-Dateien als CommonJS- oder ES-Module geladen werden.</li><li><a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> - Paketexporte und bedingte Exporte. Wenn vorhanden, begrenzt dies, welche Submodule aus dem Paket geladen werden können.</li><li><a href="/de/nodejs/api/packages#imports"><code>&quot;imports&quot;</code></a> - Paketimporte zur Verwendung durch Module innerhalb des Pakets selbst.</li></ul><h3 id="name" tabindex="-1"><code>&quot;name&quot;</code> <a class="header-anchor" href="#name" aria-label="Permalink to “&quot;name&quot;”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v13.6.0, v12.16.0</td><td>Entferne die Option <code>--experimental-resolve-self</code>.</td></tr><tr><td>v13.1.0, v12.16.0</td><td>Hinzugefügt in: v13.1.0, v12.16.0</td></tr></tbody></table></div><ul><li>Typ: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;package-name&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Das Feld <code>&quot;name&quot;</code> definiert den Namen Ihres Pakets. Die Veröffentlichung in der <em>npm</em>-Registry erfordert einen Namen, der <a href="https://docs.npmjs.com/files/package.json#name" target="_blank" rel="noreferrer">bestimmte Anforderungen</a> erfüllt.</p><p>Das Feld <code>&quot;name&quot;</code> kann zusätzlich zum Feld <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a> verwendet werden, um <a href="/de/nodejs/api/packages#self-referencing-a-package-using-its-name">sich selbst auf ein Paket zu beziehen</a>, indem der Name des Pakets verwendet wird.</p><h3 id="main" tabindex="-1"><code>&quot;main&quot;</code> <a class="header-anchor" href="#main" aria-label="Permalink to “&quot;main&quot;”">​</a></h3><p><strong>Hinzugefügt in: v0.4.0</strong></p><ul><li>Typ: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Das Feld <code>&quot;main&quot;</code> definiert den Einstiegspunkt eines Pakets, wenn es über eine <code>node_modules</code>-Suche über den Namen importiert wird. Sein Wert ist ein Pfad.</p><p>Wenn ein Paket ein <a href="/de/nodejs/api/packages#exports"><code>&quot;exports&quot;</code></a>-Feld hat, hat dieses Vorrang vor dem <code>&quot;main&quot;</code>-Feld, wenn das Paket über den Namen importiert wird.</p><p>Es definiert auch das Skript, das verwendet wird, wenn das <a href="/de/nodejs/api/modules#folders-as-modules">Paketverzeichnis über <code>require()</code> geladen wird</a>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Dies wird zu ./path/to/directory/index.js aufgelöst.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./path/to/directory&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="packagemanager" tabindex="-1"><code>&quot;packageManager&quot;</code> <a class="header-anchor" href="#packagemanager" aria-label="Permalink to “&quot;packageManager&quot;”">​</a></h3><p><strong>Hinzugefügt in: v16.9.0, v14.19.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Stabil: 1 - Experimentell]</p><p><a href="/de/nodejs/api/documentation#stability-index">Stabil: 1</a> <a href="/de/nodejs/api/documentation#stability-index">Stabilität: 1</a> - Experimentell</p></div><ul><li>Typ: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;packageManager&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&lt;package manager name&gt;@&lt;version&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Das Feld <code>&quot;packageManager&quot;</code> definiert, welcher Paketmanager bei der Arbeit an dem aktuellen Projekt verwendet werden soll. Es kann auf einen der <a href="/de/nodejs/api/corepack#supported-package-managers">unterstützten Paketmanager</a> gesetzt werden und stellt sicher, dass Ihre Teams genau die gleichen Paketmanager-Versionen verwenden, ohne etwas anderes als Node.js installieren zu müssen.</p><p>Dieses Feld ist derzeit experimentell und muss aktiviert werden; Details zum Verfahren finden Sie auf der <a href="/de/nodejs/api/corepack">Corepack</a>-Seite.</p><h3 id="type" tabindex="-1"><code>&quot;type&quot;</code> <a class="header-anchor" href="#type" aria-label="Permalink to “&quot;type&quot;”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v13.2.0, v12.17.0</td><td>Flag <code>--experimental-modules</code> entfernt.</td></tr><tr><td>v12.0.0</td><td>Hinzugefügt in: v12.0.0</td></tr></tbody></table></div><ul><li>Typ: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>Das Feld <code>&quot;type&quot;</code> definiert das Modulformat, das Node.js für alle <code>.js</code>-Dateien verwendet, die diese <code>package.json</code>-Datei als nächsten Elternteil haben.</p><p>Dateien, die mit <code>.js</code> enden, werden als ES-Module geladen, wenn die nächste übergeordnete <code>package.json</code>-Datei ein Feld der obersten Ebene namens <code>&quot;type&quot;</code> mit dem Wert <code>&quot;module&quot;</code> enthält.</p><p>Die nächste übergeordnete <code>package.json</code> wird als die erste <code>package.json</code> definiert, die gefunden wird, wenn im aktuellen Ordner, dem übergeordneten Ordner usw. gesucht wird, bis ein node_modules-Ordner oder das Stammverzeichnis des Volumes erreicht ist.</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;module&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Im selben Ordner wie die vorhergehende package.json {#in-same-folder-as-preceding-packagejson}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-app.js</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # Läuft als ES-Modul</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Wenn der nächsten übergeordneten <code>package.json</code> ein Feld <code>&quot;type&quot;</code> fehlt oder <code>&quot;type&quot;: &quot;commonjs&quot;</code> enthält, werden <code>.js</code>-Dateien als <a href="/de/nodejs/api/modules">CommonJS</a> behandelt. Wenn das Stammverzeichnis des Volumes erreicht wird und keine <code>package.json</code> gefunden wird, werden <code>.js</code>-Dateien als <a href="/de/nodejs/api/modules">CommonJS</a> behandelt.</p><p><code>import</code>-Anweisungen von <code>.js</code>-Dateien werden als ES-Module behandelt, wenn die nächste übergeordnete <code>package.json</code> <code>&quot;type&quot;: &quot;module&quot;</code> enthält.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// my-app.js, Teil des gleichen Beispiels wie oben</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./startup.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Wird aufgrund von package.json als ES-Modul geladen</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Unabhängig vom Wert des Feldes <code>&quot;type&quot;</code> werden <code>.mjs</code>-Dateien immer als ES-Module und <code>.cjs</code>-Dateien immer als CommonJS behandelt.</p><h3 id="exports" tabindex="-1"><code>&quot;exports&quot;</code> <a class="header-anchor" href="#exports" aria-label="Permalink to “&quot;exports&quot;”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v14.13.0, v12.20.0</td><td>Unterstützung für <code>&quot;exports&quot;</code>-Muster hinzugefügt.</td></tr><tr><td>v13.7.0, v12.17.0</td><td>Bedingte Exporte entflaggen.</td></tr><tr><td>v13.7.0, v12.16.0</td><td>Logische bedingte Exportreihenfolge implementieren.</td></tr><tr><td>v13.7.0, v12.16.0</td><td>Option <code>--experimental-conditional-exports</code> entfernt. In 12.16.0 befinden sich bedingte Exporte noch hinter <code>--experimental-modules</code>.</td></tr><tr><td>v13.2.0, v12.16.0</td><td>Bedingte Exporte implementieren.</td></tr><tr><td>v12.7.0</td><td>Hinzugefügt in: v12.7.0</td></tr></tbody></table></div><ul><li>Typ: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a></li></ul><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Das Feld <code>&quot;exports&quot;</code> ermöglicht die Definition der <a href="/de/nodejs/api/packages#package-entry-points">Einstiegspunkte</a> eines Pakets, wenn es namentlich geladen wird, entweder über eine <code>node_modules</code>-Suche oder einen <a href="/de/nodejs/api/packages#self-referencing-a-package-using-its-name">Selbstverweis</a> auf seinen eigenen Namen. Es wird in Node.js 12+ als Alternative zu <a href="/de/nodejs/api/packages#main"><code>&quot;main&quot;</code></a> unterstützt, das die Definition von <a href="/de/nodejs/api/packages#subpath-exports">Unterpfadexporten</a> und <a href="/de/nodejs/api/packages#conditional-exports">bedingten Exporten</a> unterstützen kann, während interne, nicht exportierte Module gekapselt werden.</p><p><a href="/de/nodejs/api/packages#conditional-exports">Bedingte Exporte</a> können auch innerhalb von <code>&quot;exports&quot;</code> verwendet werden, um verschiedene Paket-Einstiegspunkte pro Umgebung zu definieren, einschließlich der Frage, ob auf das Paket über <code>require</code> oder über <code>import</code> verwiesen wird.</p><p>Alle im Feld <code>&quot;exports&quot;</code> definierten Pfade müssen relative Datei-URLs sein, die mit <code>./</code> beginnen.</p><h3 id="imports" tabindex="-1"><code>&quot;imports&quot;</code> <a class="header-anchor" href="#imports" aria-label="Permalink to “&quot;imports&quot;”">​</a></h3><p><strong>Hinzugefügt in: v14.6.0, v12.19.0</strong></p><ul><li>Typ: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// package.json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;imports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;#dep&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dep-node-native&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dep-polyfill.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dep-node-native&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Einträge im Imports-Feld müssen Strings sein, die mit <code>#</code> beginnen.</p><p>Paket-Importe ermöglichen die Zuordnung zu externen Paketen.</p><p>Dieses Feld definiert <a href="/de/nodejs/api/packages#subpath-imports">Subpfad-Importe</a> für das aktuelle Paket.</p>`,209)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};