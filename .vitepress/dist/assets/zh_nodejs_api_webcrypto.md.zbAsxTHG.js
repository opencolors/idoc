import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Node.js Web Crypto API","description":"Node.js Web Crypto API 提供了一套用于安全通信和数据完整性的加密功能，包括密钥生成、加密、解密、签名和验证。","frontmatter":{"title":"Node.js Web Crypto API","description":"Node.js Web Crypto API 提供了一套用于安全通信和数据完整性的加密功能，包括密钥生成、加密、解密、签名和验证。","head":[["meta",{"name":"og:title","content":"Node.js Web Crypto API | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Node.js Web Crypto API 提供了一套用于安全通信和数据完整性的加密功能，包括密钥生成、加密、解密、签名和验证。"}],["meta",{"name":"twitter:title","content":"Node.js Web Crypto API | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Node.js Web Crypto API 提供了一套用于安全通信和数据完整性的加密功能，包括密钥生成、加密、解密、签名和验证。"}],["link",{"rel":"canonical","href":"https://idoc.dev/zh/nodejs/api/webcrypto"}],["meta",{"property":"og:url","content":"https://idoc.dev/zh/nodejs/api/webcrypto"}]]},"headers":[],"relativePath":"zh/nodejs/api/webcrypto.md","filePath":"zh/nodejs/api/webcrypto.md","lastUpdated":1749464498000}`),a={name:`zh/nodejs/api/webcrypto.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="web-crypto-api" tabindex="-1">Web Crypto API <a class="header-anchor" href="#web-crypto-api" aria-label="Permalink to “Web Crypto API”">​</a></h1><div class="info custom-block"><p class="custom-block-title">[历史]</p><table tabindex="0"><thead><tr><th>版本</th><th>变更</th></tr></thead><tbody><tr><td>v23.5.0</td><td>算法 <code>Ed25519</code> 和 <code>X25519</code> 现在已稳定。</td></tr><tr><td>v19.0.0</td><td>除了 <code>Ed25519</code>、<code>Ed448</code>、<code>X25519</code> 和 <code>X448</code> 算法之外，不再是实验性的。</td></tr><tr><td>v20.0.0, v18.17.0</td><td>参数现在根据其 WebIDL 定义进行强制转换和验证，就像在其他 Web Crypto API 实现中一样。</td></tr><tr><td>v18.4.0, v16.17.0</td><td>删除了专有的 <code>&#39;node.keyObject&#39;</code> 导入/导出格式。</td></tr><tr><td>v18.4.0, v16.17.0</td><td>删除了专有的 <code>&#39;NODE-DSA&#39;</code>、<code>&#39;NODE-DH&#39;</code> 和 <code>&#39;NODE-SCRYPT&#39;</code> 算法。</td></tr><tr><td>v18.4.0, v16.17.0</td><td>添加了 <code>&#39;Ed25519&#39;</code>、<code>&#39;Ed448&#39;</code>、<code>&#39;X25519&#39;</code> 和 <code>&#39;X448&#39;</code> 算法。</td></tr><tr><td>v18.4.0, v16.17.0</td><td>删除了专有的 <code>&#39;NODE-ED25519&#39;</code> 和 <code>&#39;NODE-ED448&#39;</code> 算法。</td></tr><tr><td>v18.4.0, v16.17.0</td><td>从 <code>&#39;ECDH&#39;</code> 算法中删除了专有的 <code>&#39;NODE-X25519&#39;</code> 和 <code>&#39;NODE-X448&#39;</code> 命名曲线。</td></tr></tbody></table></div><div class="tip custom-block"><p class="custom-block-title">[稳定度: 2 - 稳定]</p><p><a href="/zh/nodejs/api/documentation#stability-index">稳定度: 2</a> <a href="/zh/nodejs/api/documentation#stability-index">稳定度: 2</a> - 稳定</p></div><p>Node.js 提供了标准 <a href="https://www.w3.org/TR/WebCryptoAPI/" target="_blank" rel="noreferrer">Web Crypto API</a> 的实现。</p><p>使用 <code>globalThis.crypto</code> 或 <code>require(&#39;node:crypto&#39;).webcrypto</code> 访问此模块。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HMAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hash: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SHA-256&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    length: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> enc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> enc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;I love cupcakes&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> digest</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HMAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, key, message);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="examples" tabindex="-1">示例 <a class="header-anchor" href="#examples" aria-label="Permalink to “示例”">​</a></h2><h3 id="generating-keys" tabindex="-1">生成密钥 <a class="header-anchor" href="#generating-keys" aria-label="Permalink to “生成密钥”">​</a></h3><p><a href="/zh/nodejs/api/webcrypto#class-subtlecrypto">&lt;SubtleCrypto&gt;</a> 类可用于生成对称（秘密）密钥或非对称密钥对（公钥和私钥）。</p><h4 id="aes-keys" tabindex="-1">AES 密钥 <a class="header-anchor" href="#aes-keys" aria-label="Permalink to “AES 密钥”">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateAesKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AES-CBC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    length,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;encrypt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;decrypt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="ecdsa-key-pairs" tabindex="-1">ECDSA 密钥对 <a class="header-anchor" href="#ecdsa-key-pairs" aria-label="Permalink to “ECDSA 密钥对”">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateEcKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">namedCurve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;P-521&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    publicKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    privateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ECDSA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    namedCurve,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { publicKey, privateKey };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="ed25519/x25519-key-pairs" tabindex="-1">Ed25519/X25519 密钥对 <a class="header-anchor" href="#ed25519/x25519-key-pairs" aria-label="Permalink to “Ed25519/X25519 密钥对”">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateEd25519Key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Ed25519&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateX25519Key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;X25519&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;deriveKey&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="hmac-keys" tabindex="-1">HMAC 密钥 <a class="header-anchor" href="#hmac-keys" aria-label="Permalink to “HMAC 密钥”">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateHmacKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SHA-256&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HMAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hash,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="rsa-key-pairs" tabindex="-1">RSA 密钥对 <a class="header-anchor" href="#rsa-key-pairs" aria-label="Permalink to “RSA 密钥对”">​</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> publicExponent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateRsaKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">modulusLength</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SHA-256&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    publicKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    privateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;RSASSA-PKCS1-v1_5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modulusLength,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    publicExponent,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hash,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { publicKey, privateKey };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="encryption-and-decryption" tabindex="-1">加密和解密 <a class="header-anchor" href="#encryption-and-decryption" aria-label="Permalink to “加密和解密”">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> crypto</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> aesEncrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">plaintext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateAesKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> iv</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRandomValues</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ciphertext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AES-CBC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    iv,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, key, ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plaintext));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    key,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    iv,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ciphertext,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> aesDecrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ciphertext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">iv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextDecoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plaintext</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> crypto.subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decrypt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AES-CBC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    iv,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, key, ciphertext);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">decode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(plaintext);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="exporting-and-importing-keys" tabindex="-1">导出和导入密钥 <a class="header-anchor" href="#exporting-and-importing-keys" aria-label="Permalink to “导出和导入密钥”">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateAndExportHmacKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jwk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SHA-512&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HMAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hash,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exportKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(format, key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> importHmacKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">keyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jwk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SHA-512&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">importKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(format, keyData, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HMAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hash,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="wrapping-and-unwrapping-keys" tabindex="-1">包装和解包密钥 <a class="header-anchor" href="#wrapping-and-unwrapping-keys" aria-label="Permalink to “包装和解包密钥”">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> generateAndWrapHmacKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jwk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SHA-512&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    wrappingKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">all</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HMAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, hash,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AES-KW&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      length: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wrapKey&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;unwrapKey&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> wrappedKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wrapKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(format, key, wrappingKey, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AES-KW&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { wrappedKey, wrappingKey };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> unwrapHmacKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  wrappedKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  wrappingKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;jwk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  hash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SHA-512&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unwrapKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    format,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    wrappedKey,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    wrappingKey,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;AES-KW&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;HMAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, hash },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sign&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;verify&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="sign-and-verify" tabindex="-1">签名和验证 <a class="header-anchor" href="#sign-and-verify" aria-label="Permalink to “签名和验证”">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;RSASSA-PKCS1-v1_5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, key, ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> signature;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> verify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">signature</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> verified</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">verify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;RSASSA-PKCS1-v1_5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      key,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      signature,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> verified;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="deriving-bits-and-keys" tabindex="-1">派生位和密钥 <a class="header-anchor" href="#deriving-bits-and-keys" aria-label="Permalink to “派生位和密钥”">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pbkdf2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">salt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">iterations</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">importKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;raw&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pass),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;PBKDF2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;deriveBits&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> bits</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deriveBits</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PBKDF2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hash: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SHA-512&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    salt: ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(salt),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    iterations,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, key, length);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bits;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pbkdf2Key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">pass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">salt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">iterations</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 256</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> keyMaterial</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">importKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;raw&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pass),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;PBKDF2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;deriveKey&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deriveKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PBKDF2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    hash: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;SHA-512&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    salt: ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(salt),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    iterations,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, keyMaterial, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AES-GCM&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    length,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;encrypt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;decrypt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> key;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="digest" tabindex="-1">摘要 <a class="header-anchor" href="#digest" aria-label="Permalink to “摘要”">​</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">subtle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> globalThis.crypto;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">algorithm</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;SHA-512&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TextEncoder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> digest</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> subtle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(algorithm, ec.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> digest;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="algorithm-matrix" tabindex="-1">算法矩阵 <a class="header-anchor" href="#algorithm-matrix" aria-label="Permalink to “算法矩阵”">​</a></h2><p>下表详细列出了 Node.js Web Crypto API 实现支持的算法以及每个算法支持的 API：</p><table tabindex="0"><thead><tr><th>算法</th><th><code>generateKey</code></th><th><code>exportKey</code></th><th><code>importKey</code></th><th><code>encrypt</code></th><th><code>decrypt</code></th><th><code>wrapKey</code></th><th><code>unwrapKey</code></th><th><code>deriveBits</code></th><th><code>deriveKey</code></th><th><code>sign</code></th><th><code>verify</code></th><th><code>digest</code></th></tr></thead><tbody><tr><td><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;RSA-PSS&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;RSA-OAEP&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;ECDSA&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;Ed25519&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;Ed448&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;ECDH&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td></tr><tr><td><code>&#39;X25519&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td></tr><tr><td><code>&#39;X448&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td></tr><tr><td><code>&#39;AES-CTR&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;AES-CBC&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;AES-GCM&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;AES-KW&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;HMAC&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;HKDF&#39;</code></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td></tr><tr><td><code>&#39;PBKDF2&#39;</code></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td></tr><tr><td><code>&#39;SHA-1&#39;</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td></tr><tr><td><code>&#39;SHA-256&#39;</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td></tr><tr><td><code>&#39;SHA-384&#39;</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td></tr><tr><td><code>&#39;SHA-512&#39;</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td></tr></tbody></table><h2 id="class-crypto" tabindex="-1">类：<code>Crypto</code> <a class="header-anchor" href="#class-crypto" aria-label="Permalink to “类：Crypto”">​</a></h2><p><strong>添加于: v15.0.0</strong></p><p><code>globalThis.crypto</code> 是 <code>Crypto</code> 类的一个实例。<code>Crypto</code> 是一个单例，它提供对 crypto API 其余部分的访问。</p><h3 id="cryptosubtle" tabindex="-1"><code>crypto.subtle</code> <a class="header-anchor" href="#cryptosubtle" aria-label="Permalink to “crypto.subtle”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="/zh/nodejs/api/webcrypto#class-subtlecrypto">&lt;SubtleCrypto&gt;</a></li></ul><p>提供对 <code>SubtleCrypto</code> API 的访问。</p><h3 id="cryptogetrandomvaluestypedarray" tabindex="-1"><code>crypto.getRandomValues(typedArray)</code> <a class="header-anchor" href="#cryptogetrandomvaluestypedarray" aria-label="Permalink to “crypto.getRandomValues(typedArray)”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li><code>typedArray</code> <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a></li><li>返回: <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a></li></ul><p>生成密码学上强随机的值。 给定的 <code>typedArray</code> 填充了随机值，并返回对 <code>typedArray</code> 的引用。</p><p>给定的 <code>typedArray</code> 必须是基于整数的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> 实例，即不接受 <code>Float32Array</code> 和 <code>Float64Array</code>。</p><p>如果给定的 <code>typedArray</code> 大于 65,536 字节，则会抛出一个错误。</p><h3 id="cryptorandomuuid" tabindex="-1"><code>crypto.randomUUID()</code> <a class="header-anchor" href="#cryptorandomuuid" aria-label="Permalink to “crypto.randomUUID()”">​</a></h3><p><strong>Added in: v16.7.0</strong></p><ul><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>生成一个随机的 <a href="https://www.rfc-editor.org/rfc/rfc4122.txt" target="_blank" rel="noreferrer">RFC 4122</a> version 4 UUID。 该 UUID 使用加密伪随机数生成器生成。</p><h2 id="class-cryptokey" tabindex="-1">类: <code>CryptoKey</code> <a class="header-anchor" href="#class-cryptokey" aria-label="Permalink to “类: CryptoKey”">​</a></h2><p><strong>Added in: v15.0.0</strong></p><h3 id="cryptokeyalgorithm" tabindex="-1"><code>cryptoKey.algorithm</code> <a class="header-anchor" href="#cryptokeyalgorithm" aria-label="Permalink to “cryptoKey.algorithm”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="/zh/nodejs/api/webcrypto#class-aeskeygenparams">&lt;AesKeyGenParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsahashedkeygenparams">&lt;RsaHashedKeyGenParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-eckeygenparams">&lt;EcKeyGenParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-hmackeygenparams">&lt;HmacKeyGenParams&gt;</a></li></ul><p>一个对象，详细说明了密钥可使用的算法以及其他特定于算法的参数。</p><p>只读。</p><h3 id="cryptokeyextractable" tabindex="-1"><code>cryptoKey.extractable</code> <a class="header-anchor" href="#cryptokeyextractable" aria-label="Permalink to “cryptoKey.extractable”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>当 <code>true</code> 时，可以使用 <code>subtleCrypto.exportKey()</code> 或 <code>subtleCrypto.wrapKey()</code> 提取 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a>。</p><p>只读。</p><h3 id="cryptokeytype" tabindex="-1"><code>cryptoKey.type</code> <a class="header-anchor" href="#cryptokeytype" aria-label="Permalink to “cryptoKey.type”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <code>&#39;secret&#39;</code>、<code>&#39;private&#39;</code> 或 <code>&#39;public&#39;</code> 之一。</li></ul><p>一个字符串，用于标识密钥是对称密钥 (<code>&#39;secret&#39;</code>) 还是非对称密钥 (<code>&#39;private&#39;</code> 或 <code>&#39;public&#39;</code>)。</p><h3 id="cryptokeyusages" tabindex="-1"><code>cryptoKey.usages</code> <a class="header-anchor" href="#cryptokeyusages" aria-label="Permalink to “cryptoKey.usages”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a></li></ul><p>一个字符串数组，用于标识密钥可以使用的操作。</p><p>可能的用法有：</p><ul><li><code>&#39;encrypt&#39;</code> - 密钥可用于加密数据。</li><li><code>&#39;decrypt&#39;</code> - 密钥可用于解密数据。</li><li><code>&#39;sign&#39;</code> - 密钥可用于生成数字签名。</li><li><code>&#39;verify&#39;</code> - 密钥可用于验证数字签名。</li><li><code>&#39;deriveKey&#39;</code> - 密钥可用于派生新密钥。</li><li><code>&#39;deriveBits&#39;</code> - 密钥可用于派生位。</li><li><code>&#39;wrapKey&#39;</code> - 密钥可用于包装另一个密钥。</li><li><code>&#39;unwrapKey&#39;</code> - 密钥可用于解包另一个密钥。</li></ul><p>有效的密钥用法取决于密钥算法（由 <code>cryptokey.algorithm.name</code> 标识）。</p><table tabindex="0"><thead><tr><th>密钥类型</th><th><code>&#39;encrypt&#39;</code></th><th><code>&#39;decrypt&#39;</code></th><th><code>&#39;sign&#39;</code></th><th><code>&#39;verify&#39;</code></th><th><code>&#39;deriveKey&#39;</code></th><th><code>&#39;deriveBits&#39;</code></th><th><code>&#39;wrapKey&#39;</code></th><th><code>&#39;unwrapKey&#39;</code></th></tr></thead><tbody><tr><td><code>&#39;AES-CBC&#39;</code></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-CTR&#39;</code></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-GCM&#39;</code></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-KW&#39;</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;ECDH&#39;</code></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td></tr><tr><td><code>&#39;X25519&#39;</code></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td></tr><tr><td><code>&#39;X448&#39;</code></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td></tr><tr><td><code>&#39;ECDSA&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;Ed25519&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;Ed448&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;HDKF&#39;</code></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td></tr><tr><td><code>&#39;HMAC&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;PBKDF2&#39;</code></td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td></tr><tr><td><code>&#39;RSA-OAEP&#39;</code></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;RSA-PSS&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="class-cryptokeypair" tabindex="-1">类: <code>CryptoKeyPair</code> <a class="header-anchor" href="#class-cryptokeypair" aria-label="Permalink to “类: CryptoKeyPair”">​</a></h2><p><strong>添加于: v15.0.0</strong></p><p><code>CryptoKeyPair</code> 是一个简单的字典对象，包含 <code>publicKey</code> 和 <code>privateKey</code> 属性，表示非对称密钥对。</p><h3 id="cryptokeypairprivatekey" tabindex="-1"><code>cryptoKeyPair.privateKey</code> <a class="header-anchor" href="#cryptokeypairprivatekey" aria-label="Permalink to “cryptoKeyPair.privateKey”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> 一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a>，其 <code>type</code> 将为 <code>&#39;private&#39;</code>。</li></ul><h3 id="cryptokeypairpublickey" tabindex="-1"><code>cryptoKeyPair.publicKey</code> <a class="header-anchor" href="#cryptokeypairpublickey" aria-label="Permalink to “cryptoKeyPair.publicKey”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> 一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a>，其 <code>type</code> 将为 <code>&#39;public&#39;</code>。</li></ul><h2 id="class-subtlecrypto" tabindex="-1">类: <code>SubtleCrypto</code> <a class="header-anchor" href="#class-subtlecrypto" aria-label="Permalink to “类: SubtleCrypto”">​</a></h2><p><strong>添加于: v15.0.0</strong></p><h3 id="subtledecryptalgorithm-key-data" tabindex="-1"><code>subtle.decrypt(algorithm, key, data)</code> <a class="header-anchor" href="#subtledecryptalgorithm-key-data" aria-label="Permalink to “subtle.decrypt(algorithm, key, data)”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li><code>algorithm</code>: <a href="/zh/nodejs/api/webcrypto#class-rsaoaepparams">&lt;RsaOaepParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesctrparams">&lt;AesCtrParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aescbcparams">&lt;AesCbcParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesgcmparams">&lt;AesGcmParams&gt;</a></li><li><code>key</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>data</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 返回一个解决后的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</li></ul><p>使用 <code>algorithm</code> 中指定的方法和参数，以及 <code>key</code> 提供的密钥材料，<code>subtle.decrypt()</code> 尝试解密提供的 <code>data</code>。 如果成功，返回的 promise 将被解析为一个包含明文结果的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</p><p>目前支持的算法包括：</p><ul><li><code>&#39;RSA-OAEP&#39;</code></li><li><code>&#39;AES-CTR&#39;</code></li><li><code>&#39;AES-CBC&#39;</code></li><li><code>&#39;AES-GCM&#39;</code></li></ul><h3 id="subtlederivebitsalgorithm-basekey-length" tabindex="-1"><code>subtle.deriveBits(算法, baseKey[, 长度])</code> <a class="header-anchor" href="#subtlederivebitsalgorithm-basekey-length" aria-label="Permalink to “subtle.deriveBits(算法, baseKey[, 长度])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[历史]</p><table tabindex="0"><thead><tr><th>版本</th><th>变更</th></tr></thead><tbody><tr><td>v22.5.0, v20.17.0</td><td>对于 <code>&#39;ECDH&#39;</code>、<code>&#39;X25519&#39;</code> 和 <code>&#39;X448&#39;</code>，长度参数现在是可选的。</td></tr><tr><td>v18.4.0, v16.17.0</td><td>添加了 <code>&#39;X25519&#39;</code> 和 <code>&#39;X448&#39;</code> 算法。</td></tr><tr><td>v15.0.0</td><td>添加于：v15.0.0</td></tr></tbody></table></div><ul><li><code>算法</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-ecdhkeyderiveparams">&lt;EcdhKeyDeriveParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-hkdfparams">&lt;HkdfParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-pbkdf2params">&lt;Pbkdf2Params&gt;</a></li><li><code>baseKey</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>长度</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>默认:</strong> <code>null</code></li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 成功解析为一个 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a></li></ul><p>使用 <code>算法</code> 中指定的方法和参数，以及 <code>baseKey</code> 提供的密钥材料，<code>subtle.deriveBits()</code> 尝试生成 <code>长度</code> 位。</p><p>当未提供 <code>长度</code> 或 <code>长度</code> 为 <code>null</code> 时，将为给定的算法生成最大位数的位。 这允许用于 <code>&#39;ECDH&#39;</code>、<code>&#39;X25519&#39;</code> 和 <code>&#39;X448&#39;</code> 算法，对于其他算法，<code>长度</code> 必须是一个数字。</p><p>如果成功，返回的 promise 将解析为一个包含生成数据的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</p><p>目前支持的算法包括：</p><ul><li><code>&#39;ECDH&#39;</code></li><li><code>&#39;X25519&#39;</code></li><li><code>&#39;X448&#39;</code></li><li><code>&#39;HKDF&#39;</code></li><li><code>&#39;PBKDF2&#39;</code></li></ul><h3 id="subtlederivekeyalgorithm-basekey-derivedkeyalgorithm-extractable-keyusages" tabindex="-1"><code>subtle.deriveKey(算法, baseKey, derivedKeyAlgorithm, extractable, keyUsages)</code> <a class="header-anchor" href="#subtlederivekeyalgorithm-basekey-derivedkeyalgorithm-extractable-keyusages" aria-label="Permalink to “subtle.deriveKey(算法, baseKey, derivedKeyAlgorithm, extractable, keyUsages)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[历史]</p><table tabindex="0"><thead><tr><th>版本</th><th>变更</th></tr></thead><tbody><tr><td>v18.4.0, v16.17.0</td><td>添加了 <code>&#39;X25519&#39;</code> 和 <code>&#39;X448&#39;</code> 算法。</td></tr><tr><td>v15.0.0</td><td>添加于：v15.0.0</td></tr></tbody></table></div><ul><li><code>算法</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-ecdhkeyderiveparams">&lt;EcdhKeyDeriveParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-hkdfparams">&lt;HkdfParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-pbkdf2params">&lt;Pbkdf2Params&gt;</a></li><li><code>baseKey</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>derivedKeyAlgorithm</code>: <a href="/zh/nodejs/api/webcrypto#class-hmackeygenparams">&lt;HmacKeyGenParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aeskeygenassistparams">&lt;AesKeyGenParams&gt;</a></li><li><code>extractable</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li><li><code>keyUsages</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> 请参阅 <a href="/zh/nodejs/api/webcrypto#cryptokeyusages">密钥用法</a>。</li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 成功解析为一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li></ul><p>使用 <code>算法</code> 中指定的方法和参数，以及 <code>baseKey</code> 提供的密钥材料，<code>subtle.deriveKey()</code> 尝试基于 <code>derivedKeyAlgorithm</code> 中的方法和参数生成一个新的 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a>。</p><p>调用 <code>subtle.deriveKey()</code> 相当于调用 <code>subtle.deriveBits()</code> 生成原始密钥材料，然后使用 <code>deriveKeyAlgorithm</code>、<code>extractable</code> 和 <code>keyUsages</code> 参数作为输入，将结果传递到 <code>subtle.importKey()</code> 方法中。</p><p>目前支持的算法包括：</p><ul><li><code>&#39;ECDH&#39;</code></li><li><code>&#39;X25519&#39;</code></li><li><code>&#39;X448&#39;</code></li><li><code>&#39;HKDF&#39;</code></li><li><code>&#39;PBKDF2&#39;</code></li></ul><h3 id="subtledigestalgorithm-data" tabindex="-1"><code>subtle.digest(algorithm, data)</code> <a class="header-anchor" href="#subtledigestalgorithm-data" aria-label="Permalink to “subtle.digest(algorithm, data)”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><ul><li><code>algorithm</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li><li><code>data</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 完成时会返回一个包含计算出的摘要的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</li></ul><p><code>subtle.digest()</code> 尝试使用 <code>algorithm</code> 标识的方法来生成 <code>data</code> 的摘要。 如果成功，返回的 promise 会解析为一个包含计算出的摘要的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</p><p>如果 <code>algorithm</code> 以 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 形式提供，则它必须是以下之一：</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果 <code>algorithm</code> 以 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> 形式提供，则它必须具有一个 <code>name</code> 属性，其值是上述之一。</p><h3 id="subtleencryptalgorithm-key-data" tabindex="-1"><code>subtle.encrypt(algorithm, key, data)</code> <a class="header-anchor" href="#subtleencryptalgorithm-key-data" aria-label="Permalink to “subtle.encrypt(algorithm, key, data)”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><ul><li><code>algorithm</code>: <a href="/zh/nodejs/api/webcrypto#class-rsaoaepparams">&lt;RsaOaepParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesctrparams">&lt;AesCtrParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aescbcparams">&lt;AesCbcParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesgcmparams">&lt;AesGcmParams&gt;</a></li><li><code>key</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>data</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 完成时会返回一个包含加密结果的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</li></ul><p><code>subtle.encrypt()</code> 尝试使用 <code>algorithm</code> 指定的方法和参数以及 <code>key</code> 提供的密钥材料来加密 <code>data</code>。 如果成功，返回的 promise 会解析为一个包含加密结果的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</p><p>目前支持的算法包括：</p><ul><li><code>&#39;RSA-OAEP&#39;</code></li><li><code>&#39;AES-CTR&#39;</code></li><li><code>&#39;AES-CBC&#39;</code></li><li><code>&#39;AES-GCM&#39;</code></li></ul><h3 id="subtleexportkeyformat-key" tabindex="-1"><code>subtle.exportKey(format, key)</code> <a class="header-anchor" href="#subtleexportkeyformat-key" aria-label="Permalink to “subtle.exportKey(format, key)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[历史]</p><table tabindex="0"><thead><tr><th>版本</th><th>变更</th></tr></thead><tbody><tr><td>v18.4.0, v16.17.0</td><td>添加了 <code>&#39;Ed25519&#39;</code>、<code>&#39;Ed448&#39;</code>、<code>&#39;X25519&#39;</code> 和 <code>&#39;X448&#39;</code> 算法。</td></tr><tr><td>v15.9.0</td><td>移除 <code>&#39;NODE-DSA&#39;</code> JWK 导出。</td></tr><tr><td>v15.0.0</td><td>添加于: v15.0.0</td></tr></tbody></table></div><ul><li><code>format</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;raw&#39;</code>、<code>&#39;pkcs8&#39;</code>、<code>&#39;spki&#39;</code> 或 <code>&#39;jwk&#39;</code> 之一。</li><li><code>key</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li>返回值: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 使用 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> 完成。</li></ul><p>如果支持，将给定的密钥导出为指定的格式。</p><p>如果 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> 不可提取，则返回的 promise 将会被拒绝。</p><p>当 <code>format</code> 为 <code>&#39;pkcs8&#39;</code> 或 <code>&#39;spki&#39;</code> 并且导出成功时，返回的 promise 将会使用包含导出密钥数据的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> 来解决。</p><p>当 <code>format</code> 为 <code>&#39;jwk&#39;</code> 并且导出成功时，返回的 promise 将会使用符合 <a href="https://tools.ietf.org/html/rfc7517" target="_blank" rel="noreferrer">JSON Web Key</a> 规范的 JavaScript 对象来解决。</p><table tabindex="0"><thead><tr><th>密钥类型</th><th><code>&#39;spki&#39;</code></th><th><code>&#39;pkcs8&#39;</code></th><th><code>&#39;jwk&#39;</code></th><th><code>&#39;raw&#39;</code></th></tr></thead><tbody><tr><td><code>&#39;AES-CBC&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-CTR&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-GCM&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-KW&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;ECDH&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;ECDSA&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;Ed25519&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;Ed448&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;HDKF&#39;</code></td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;HMAC&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;PBKDF2&#39;</code></td><td></td><td></td><td></td><td></td></tr><tr><td><code>&#39;RSA-OAEP&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;RSA-PSS&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td></tr></tbody></table><h3 id="subtlegeneratekeyalgorithm-extractable-keyusages" tabindex="-1"><code>subtle.generateKey(algorithm, extractable, keyUsages)</code> <a class="header-anchor" href="#subtlegeneratekeyalgorithm-extractable-keyusages" aria-label="Permalink to “subtle.generateKey(algorithm, extractable, keyUsages)”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li><p><code>algorithm</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsahashedkeygenparams">&lt;RsaHashedKeyGenParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-eckeygenparams">&lt;EcKeyGenParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-hmackeygenparams">&lt;HmacKeyGenParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aeskeygenassistparams">&lt;AesKeyGenParams&gt;</a></p></li><li><p><code>extractable</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></p></li><li><p><code>keyUsages</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> 参见 <a href="/zh/nodejs/api/webcrypto#cryptokeyusages">密钥用途</a>。</p></li><li><p>返回值: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 使用 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-cryptokeypair">&lt;CryptoKeyPair&gt;</a> 完成。</p></li></ul><p>使用 <code>algorithm</code> 中提供的方法和参数，<code>subtle.generateKey()</code> 尝试生成新的密钥材料。 根据所使用的方法，该方法可能生成单个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> 或 <a href="/zh/nodejs/api/webcrypto#class-cryptokeypair">&lt;CryptoKeyPair&gt;</a>。</p><p>支持生成 <a href="/zh/nodejs/api/webcrypto#class-cryptokeypair">&lt;CryptoKeyPair&gt;</a>（公钥和私钥）的算法包括：</p><ul><li><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></li><li><code>&#39;RSA-PSS&#39;</code></li><li><code>&#39;RSA-OAEP&#39;</code></li><li><code>&#39;ECDSA&#39;</code></li><li><code>&#39;Ed25519&#39;</code></li><li><code>&#39;Ed448&#39;</code></li><li><code>&#39;ECDH&#39;</code></li><li><code>&#39;X25519&#39;</code></li><li><code>&#39;X448&#39;</code></li></ul><p>支持生成 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a>（密钥）的算法包括：</p><ul><li><code>&#39;HMAC&#39;</code></li><li><code>&#39;AES-CTR&#39;</code></li><li><code>&#39;AES-CBC&#39;</code></li><li><code>&#39;AES-GCM&#39;</code></li><li><code>&#39;AES-KW&#39;</code></li></ul><h3 id="subtleimportkeyformat-keydata-algorithm-extractable-keyusages" tabindex="-1"><code>subtle.importKey(format, keyData, algorithm, extractable, keyUsages)</code> <a class="header-anchor" href="#subtleimportkeyformat-keydata-algorithm-extractable-keyusages" aria-label="Permalink to “subtle.importKey(format, keyData, algorithm, extractable, keyUsages)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[历史记录]</p><table tabindex="0"><thead><tr><th>版本</th><th>变更</th></tr></thead><tbody><tr><td>v18.4.0, v16.17.0</td><td>添加了 <code>&#39;Ed25519&#39;</code>、<code>&#39;Ed448&#39;</code>、<code>&#39;X25519&#39;</code> 和 <code>&#39;X448&#39;</code> 算法。</td></tr><tr><td>v15.9.0</td><td>移除 <code>&#39;NODE-DSA&#39;</code> JWK 导入。</td></tr><tr><td>v15.0.0</td><td>添加于: v15.0.0</td></tr></tbody></table></div><ul><li><p><code>format</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;raw&#39;</code>、<code>&#39;pkcs8&#39;</code>、<code>&#39;spki&#39;</code> 或 <code>&#39;jwk&#39;</code> 之一。</p></li><li><p><code>keyData</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p></li><li><p><code>algorithm</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsahashedimportparams">&lt;RsaHashedImportParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-eckeyimportparams">&lt;EcKeyImportParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-hmacimportparams">&lt;HmacImportParams&gt;</a></p></li><li><p><code>extractable</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></p></li><li><p><code>keyUsages</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> 参见 <a href="/zh/nodejs/api/webcrypto#cryptokeyusages">密钥用途</a>。</p></li><li><p>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 成功时会返回一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></p></li></ul><p><code>subtle.importKey()</code> 方法尝试将提供的 <code>keyData</code> 解释为给定的 <code>format</code>，以使用提供的 <code>algorithm</code>、<code>extractable</code> 和 <code>keyUsages</code> 参数创建一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> 实例。 如果导入成功，返回的 promise 将被解析为创建的 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a>。</p><p>如果导入 <code>&#39;PBKDF2&#39;</code> 密钥，则 <code>extractable</code> 必须为 <code>false</code>。</p><p>当前支持的算法包括：</p><table tabindex="0"><thead><tr><th>密钥类型</th><th><code>&#39;spki&#39;</code></th><th><code>&#39;pkcs8&#39;</code></th><th><code>&#39;jwk&#39;</code></th><th><code>&#39;raw&#39;</code></th></tr></thead><tbody><tr><td><code>&#39;AES-CBC&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-CTR&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-GCM&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;AES-KW&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;ECDH&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;X25519&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;X448&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;ECDSA&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;Ed25519&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;Ed448&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;HDKF&#39;</code></td><td></td><td></td><td></td><td>✔</td></tr><tr><td><code>&#39;HMAC&#39;</code></td><td></td><td></td><td>✔</td><td>✔</td></tr><tr><td><code>&#39;PBKDF2&#39;</code></td><td></td><td></td><td></td><td>✔</td></tr><tr><td><code>&#39;RSA-OAEP&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;RSA-PSS&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td></tr><tr><td><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></td><td>✔</td><td>✔</td><td>✔</td><td></td></tr></tbody></table><h3 id="subtlesignalgorithm-key-data" tabindex="-1"><code>subtle.sign(algorithm, key, data)</code> <a class="header-anchor" href="#subtlesignalgorithm-key-data" aria-label="Permalink to “subtle.sign(algorithm, key, data)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[历史]</p><table tabindex="0"><thead><tr><th>版本</th><th>变更</th></tr></thead><tbody><tr><td>v18.4.0, v16.17.0</td><td>添加了 <code>&#39;Ed25519&#39;</code> 和 <code>&#39;Ed448&#39;</code> 算法。</td></tr><tr><td>v15.0.0</td><td>添加于: v15.0.0</td></tr></tbody></table></div><ul><li><code>algorithm</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsapssparams">&lt;RsaPssParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-ecdsaparams">&lt;EcdsaParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-ed448params">&lt;Ed448Params&gt;</a></li><li><code>key</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>data</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 完成时会返回一个包含生成的签名的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</li></ul><p><code>subtle.sign()</code> 使用 <code>algorithm</code> 给定的方法和参数以及 <code>key</code> 提供的密钥材料，尝试生成 <code>data</code> 的密码签名。 如果成功，则返回的 promise 会解析为一个包含生成的签名的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</p><p>目前支持的算法包括:</p><ul><li><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></li><li><code>&#39;RSA-PSS&#39;</code></li><li><code>&#39;ECDSA&#39;</code></li><li><code>&#39;Ed25519&#39;</code></li><li><code>&#39;Ed448&#39;</code></li><li><code>&#39;HMAC&#39;</code></li></ul><h3 id="subtleunwrapkeyformat-wrappedkey-unwrappingkey-unwrapalgo-unwrappedkeyalgo-extractable-keyusages" tabindex="-1"><code>subtle.unwrapKey(format, wrappedKey, unwrappingKey, unwrapAlgo, unwrappedKeyAlgo, extractable, keyUsages)</code> <a class="header-anchor" href="#subtleunwrapkeyformat-wrappedkey-unwrappingkey-unwrapalgo-unwrappedkeyalgo-extractable-keyusages" aria-label="Permalink to “subtle.unwrapKey(format, wrappedKey, unwrappingKey, unwrapAlgo, unwrappedKeyAlgo, extractable, keyUsages)”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li><p><code>format</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;raw&#39;</code>、<code>&#39;pkcs8&#39;</code>、<code>&#39;spki&#39;</code> 或 <code>&#39;jwk&#39;</code> 之一。</p></li><li><p><code>wrappedKey</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></p></li><li><p><code>unwrappingKey</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></p></li><li><p><code>unwrapAlgo</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsaoaepparams">&lt;RsaOaepParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesctrparams">&lt;AesCtrParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aescbcparams">&lt;AesCbcParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesgcmparams">&lt;AesGcmParams&gt;</a></p></li><li><p><code>unwrappedKeyAlgo</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsahashedimportparams">&lt;RsaHashedImportParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-eckeyimportparams">&lt;EcKeyImportParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-hmacimportparams">&lt;HmacImportParams&gt;</a></p></li><li><p><code>extractable</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></p></li><li><p><code>keyUsages</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> 参见 <a href="/zh/nodejs/api/webcrypto#cryptokeyusages">密钥用途</a>。</p></li><li><p>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 完成时会返回一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a>。</p></li></ul><p>在密码学中，“包装密钥”指的是导出然后加密密钥材料。 <code>subtle.unwrapKey()</code> 方法尝试解密包装的密钥并创建一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> 实例。 它等效于首先对加密的密钥数据调用 <code>subtle.decrypt()</code>（使用 <code>wrappedKey</code>、<code>unwrapAlgo</code> 和 <code>unwrappingKey</code> 参数作为输入），然后使用 <code>unwrappedKeyAlgo</code>、<code>extractable</code> 和 <code>keyUsages</code> 参数作为输入将结果传递给 <code>subtle.importKey()</code> 方法。 如果成功，则返回的 promise 会解析为一个 <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a> 对象。</p><p>当前支持的包装算法包括:</p><ul><li><code>&#39;RSA-OAEP&#39;</code></li><li><code>&#39;AES-CTR&#39;</code></li><li><code>&#39;AES-CBC&#39;</code></li><li><code>&#39;AES-GCM&#39;</code></li><li><code>&#39;AES-KW&#39;</code></li></ul><p>支持的解包密钥算法包括:</p><ul><li><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></li><li><code>&#39;RSA-PSS&#39;</code></li><li><code>&#39;RSA-OAEP&#39;</code></li><li><code>&#39;ECDSA&#39;</code></li><li><code>&#39;Ed25519&#39;</code></li><li><code>&#39;Ed448&#39;</code></li><li><code>&#39;ECDH&#39;</code></li><li><code>&#39;X25519&#39;</code></li><li><code>&#39;X448&#39;</code></li><li><code>&#39;HMAC&#39;</code></li><li><code>&#39;AES-CTR&#39;</code></li><li><code>&#39;AES-CBC&#39;</code></li><li><code>&#39;AES-GCM&#39;</code></li><li><code>&#39;AES-KW&#39;</code></li></ul><h3 id="subtleverifyalgorithm-key-signature-data" tabindex="-1"><code>subtle.verify(algorithm, key, signature, data)</code> <a class="header-anchor" href="#subtleverifyalgorithm-key-signature-data" aria-label="Permalink to “subtle.verify(algorithm, key, signature, data)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[历史]</p><table tabindex="0"><thead><tr><th>版本</th><th>变更</th></tr></thead><tbody><tr><td>v18.4.0, v16.17.0</td><td>添加了 <code>&#39;Ed25519&#39;</code> 和 <code>&#39;Ed448&#39;</code> 算法。</td></tr><tr><td>v15.0.0</td><td>添加于: v15.0.0</td></tr></tbody></table></div><ul><li><code>algorithm</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsapssparams">&lt;RsaPssParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-ecdsaparams">&lt;EcdsaParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-ed448params">&lt;Ed448Params&gt;</a></li><li><code>key</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>signature</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li><li><code>data</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 成功时会返回一个 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p><code>subtle.verify()</code> 使用 <code>algorithm</code> 中给定的方法和参数以及 <code>key</code> 提供的密钥材料，尝试验证 <code>signature</code> 是否为 <code>data</code> 的有效加密签名。返回的 Promise 将解析为 <code>true</code> 或 <code>false</code>。</p><p>当前支持的算法包括：</p><ul><li><code>&#39;RSASSA-PKCS1-v1_5&#39;</code></li><li><code>&#39;RSA-PSS&#39;</code></li><li><code>&#39;ECDSA&#39;</code></li><li><code>&#39;Ed25519&#39;</code></li><li><code>&#39;Ed448&#39;</code></li><li><code>&#39;HMAC&#39;</code></li></ul><h3 id="subtlewrapkeyformat-key-wrappingkey-wrapalgo" tabindex="-1"><code>subtle.wrapKey(format, key, wrappingKey, wrapAlgo)</code> <a class="header-anchor" href="#subtlewrapkeyformat-key-wrappingkey-wrapalgo" aria-label="Permalink to “subtle.wrapKey(format, key, wrappingKey, wrapAlgo)”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><ul><li><code>format</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;raw&#39;</code>、<code>&#39;pkcs8&#39;</code>、<code>&#39;spki&#39;</code> 或 <code>&#39;jwk&#39;</code> 之一。</li><li><code>key</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>wrappingKey</code>: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li><li><code>wrapAlgo</code>: <a href="/zh/nodejs/api/webcrypto#class-algorithmidentifier">&lt;AlgorithmIdentifier&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-rsaoaepparams">&lt;RsaOaepParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesctrparams">&lt;AesCtrParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aescbcparams">&lt;AesCbcParams&gt;</a> | <a href="/zh/nodejs/api/webcrypto#class-aesgcmparams">&lt;AesGcmParams&gt;</a></li><li>返回: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> 成功时会返回一个 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a></li></ul><p>在密码学中，“包装密钥”是指导出然后加密密钥材料。<code>subtle.wrapKey()</code> 方法将密钥材料导出为 <code>format</code> 标识的格式，然后使用 <code>wrapAlgo</code> 指定的方法和参数以及 <code>wrappingKey</code> 提供的密钥材料对其进行加密。它等效于使用 <code>format</code> 和 <code>key</code> 作为参数调用 <code>subtle.exportKey()</code>，然后将结果传递给 <code>subtle.encrypt()</code> 方法，使用 <code>wrappingKey</code> 和 <code>wrapAlgo</code> 作为输入。如果成功，返回的 Promise 将解析为一个包含加密密钥数据的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a>。</p><p>当前支持的包装算法包括：</p><ul><li><code>&#39;RSA-OAEP&#39;</code></li><li><code>&#39;AES-CTR&#39;</code></li><li><code>&#39;AES-CBC&#39;</code></li><li><code>&#39;AES-GCM&#39;</code></li><li><code>&#39;AES-KW&#39;</code></li></ul><h2 id="algorithm-parameters" tabindex="-1">算法参数 <a class="header-anchor" href="#algorithm-parameters" aria-label="Permalink to “算法参数”">​</a></h2><p>算法参数对象定义了各种 <a href="/zh/nodejs/api/webcrypto#class-subtlecrypto">&lt;SubtleCrypto&gt;</a> 方法使用的方法和参数。虽然此处描述为“类”，但它们是简单的 JavaScript 字典对象。</p><h3 id="class-algorithmidentifier" tabindex="-1">类: <code>AlgorithmIdentifier</code> <a class="header-anchor" href="#class-algorithmidentifier" aria-label="Permalink to “类: AlgorithmIdentifier”">​</a></h3><p><strong>新增于: v18.4.0, v16.17.0</strong></p><h4 id="algorithmidentifiername" tabindex="-1"><code>algorithmIdentifier.name</code> <a class="header-anchor" href="#algorithmidentifiername" aria-label="Permalink to “algorithmIdentifier.name”">​</a></h4><p><strong>新增于: v18.4.0, v16.17.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><h3 id="class-aescbcparams" tabindex="-1">类: <code>AesCbcParams</code> <a class="header-anchor" href="#class-aescbcparams" aria-label="Permalink to “类: AesCbcParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="aescbcparamsiv" tabindex="-1"><code>aesCbcParams.iv</code> <a class="header-anchor" href="#aescbcparamsiv" aria-label="Permalink to “aesCbcParams.iv”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>提供初始化向量。它必须恰好是 16 字节长，并且应该是不可预测的并且是密码学安全的随机数。</p><h4 id="aescbcparamsname" tabindex="-1"><code>aesCbcParams.name</code> <a class="header-anchor" href="#aescbcparamsname" aria-label="Permalink to “aesCbcParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;AES-CBC&#39;</code>。</li></ul><h3 id="class-aesctrparams" tabindex="-1">类: <code>AesCtrParams</code> <a class="header-anchor" href="#class-aesctrparams" aria-label="Permalink to “类: AesCtrParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="aesctrparamscounter" tabindex="-1"><code>aesCtrParams.counter</code> <a class="header-anchor" href="#aesctrparamscounter" aria-label="Permalink to “aesCtrParams.counter”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>计数器块的初始值。这必须是 16 字节长。</p><p><code>AES-CTR</code> 方法使用块的最右边的 <code>length</code> 位作为计数器，其余位作为 nonce。</p><h4 id="aesctrparamslength" tabindex="-1"><code>aesCtrParams.length</code> <a class="header-anchor" href="#aesctrparamslength" aria-label="Permalink to “aesCtrParams.length”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> <code>aesCtrParams.counter</code> 中用作计数器的位数。</li></ul><h4 id="aesctrparamsname" tabindex="-1"><code>aesCtrParams.name</code> <a class="header-anchor" href="#aesctrparamsname" aria-label="Permalink to “aesCtrParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;AES-CTR&#39;</code>。</li></ul><h3 id="class-aesgcmparams" tabindex="-1">类: <code>AesGcmParams</code> <a class="header-anchor" href="#class-aesgcmparams" aria-label="Permalink to “类: AesGcmParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="aesgcmparamsadditionaldata" tabindex="-1"><code>aesGcmParams.additionalData</code> <a class="header-anchor" href="#aesgcmparamsadditionaldata" aria-label="Permalink to “aesGcmParams.additionalData”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a></li></ul><p>使用 AES-GCM 方法时，<code>additionalData</code> 是额外的输入，它不会被加密，但会包含在数据的认证中。 <code>additionalData</code> 的使用是可选的。</p><h4 id="aesgcmparamsiv" tabindex="-1"><code>aesGcmParams.iv</code> <a class="header-anchor" href="#aesgcmparamsiv" aria-label="Permalink to “aesGcmParams.iv”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>对于使用给定密钥的每次加密操作，初始化向量都必须是唯一的。</p><p>理想情况下，这是一个确定的 12 字节值，其计算方式应确保在使用相同密钥的所有调用中都是唯一的。或者，初始化向量可以由至少 12 个密码学上随机的字节组成。 有关构建 AES-GCM 的初始化向量的更多信息，请参阅 <a href="https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-38d.pdf" target="_blank" rel="noreferrer">NIST SP 800-38D</a> 的第 8 节。</p><h4 id="aesgcmparamsname" tabindex="-1"><code>aesGcmParams.name</code> <a class="header-anchor" href="#aesgcmparamsname" aria-label="Permalink to “aesGcmParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;AES-GCM&#39;</code>。</li></ul><h4 id="aesgcmparamstaglength" tabindex="-1"><code>aesGcmParams.tagLength</code> <a class="header-anchor" href="#aesgcmparamstaglength" aria-label="Permalink to “aesGcmParams.tagLength”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> 生成的认证标签的大小（以位为单位）。此值必须是 <code>32</code>、<code>64</code>、<code>96</code>、<code>104</code>、<code>112</code>、<code>120</code> 或 <code>128</code> 之一。<strong>默认值:</strong> <code>128</code>。</li></ul><h3 id="class-aeskeygenparams" tabindex="-1">类: <code>AesKeyGenParams</code> <a class="header-anchor" href="#class-aeskeygenparams" aria-label="Permalink to “类: AesKeyGenParams”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><h4 id="aeskeygenparamslength" tabindex="-1"><code>aesKeyGenParams.length</code> <a class="header-anchor" href="#aeskeygenparamslength" aria-label="Permalink to “aesKeyGenParams.length”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>要生成的 AES 密钥的长度。这必须是 <code>128</code>、<code>192</code> 或 <code>256</code> 之一。</p><h4 id="aeskeygenparamsname" tabindex="-1"><code>aesKeyGenParams.name</code> <a class="header-anchor" href="#aeskeygenparamsname" aria-label="Permalink to “aesKeyGenParams.name”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;AES-CBC&#39;</code>、<code>&#39;AES-CTR&#39;</code>、<code>&#39;AES-GCM&#39;</code> 或 <code>&#39;AES-KW&#39;</code> 之一</li></ul><h3 id="class-ecdhkeyderiveparams" tabindex="-1">类: <code>EcdhKeyDeriveParams</code> <a class="header-anchor" href="#class-ecdhkeyderiveparams" aria-label="Permalink to “类: EcdhKeyDeriveParams”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><h4 id="ecdhkeyderiveparamsname" tabindex="-1"><code>ecdhKeyDeriveParams.name</code> <a class="header-anchor" href="#ecdhkeyderiveparamsname" aria-label="Permalink to “ecdhKeyDeriveParams.name”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;ECDH&#39;</code>、<code>&#39;X25519&#39;</code> 或 <code>&#39;X448&#39;</code>。</li></ul><h4 id="ecdhkeyderiveparamspublic" tabindex="-1"><code>ecdhKeyDeriveParams.public</code> <a class="header-anchor" href="#ecdhkeyderiveparamspublic" aria-label="Permalink to “ecdhKeyDeriveParams.public”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="/zh/nodejs/api/webcrypto#class-cryptokey">&lt;CryptoKey&gt;</a></li></ul><p>ECDH 密钥派生通过将一方的私钥和另一方的公钥作为输入来进行操作 -- 使用两者来生成一个共同的共享密钥。<code>ecdhKeyDeriveParams.public</code> 属性设置为另一方的公钥。</p><h3 id="class-ecdsaparams" tabindex="-1">类: <code>EcdsaParams</code> <a class="header-anchor" href="#class-ecdsaparams" aria-label="Permalink to “类: EcdsaParams”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><h4 id="ecdsaparamshash" tabindex="-1"><code>ecdsaParams.hash</code> <a class="header-anchor" href="#ecdsaparamshash" aria-label="Permalink to “ecdsaParams.hash”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a>，则该值必须是以下之一：</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a>，则该对象必须具有一个 <code>name</code> 属性，其值是上面列出的值之一。</p><h4 id="ecdsaparamsname" tabindex="-1"><code>ecdsaParams.name</code> <a class="header-anchor" href="#ecdsaparamsname" aria-label="Permalink to “ecdsaParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;ECDSA&#39;</code>。</li></ul><h3 id="class-eckeygenparams" tabindex="-1">类: <code>EcKeyGenParams</code> <a class="header-anchor" href="#class-eckeygenparams" aria-label="Permalink to “类: EcKeyGenParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="eckeygenparamsname" tabindex="-1"><code>ecKeyGenParams.name</code> <a class="header-anchor" href="#eckeygenparamsname" aria-label="Permalink to “ecKeyGenParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;ECDSA&#39;</code> 或 <code>&#39;ECDH&#39;</code> 之一。</li></ul><h4 id="eckeygenparamsnamedcurve" tabindex="-1"><code>ecKeyGenParams.namedCurve</code> <a class="header-anchor" href="#eckeygenparamsnamedcurve" aria-label="Permalink to “ecKeyGenParams.namedCurve”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;P-256&#39;</code>、<code>&#39;P-384&#39;</code> 或 <code>&#39;P-521&#39;</code> 之一。</li></ul><h3 id="class-eckeyimportparams" tabindex="-1">类: <code>EcKeyImportParams</code> <a class="header-anchor" href="#class-eckeyimportparams" aria-label="Permalink to “类: EcKeyImportParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="eckeyimportparamsname" tabindex="-1"><code>ecKeyImportParams.name</code> <a class="header-anchor" href="#eckeyimportparamsname" aria-label="Permalink to “ecKeyImportParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;ECDSA&#39;</code> 或 <code>&#39;ECDH&#39;</code> 之一。</li></ul><h4 id="eckeyimportparamsnamedcurve" tabindex="-1"><code>ecKeyImportParams.namedCurve</code> <a class="header-anchor" href="#eckeyimportparamsnamedcurve" aria-label="Permalink to “ecKeyImportParams.namedCurve”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;P-256&#39;</code>、<code>&#39;P-384&#39;</code> 或 <code>&#39;P-521&#39;</code> 之一。</li></ul><h3 id="class-ed448params" tabindex="-1">类: <code>Ed448Params</code> <a class="header-anchor" href="#class-ed448params" aria-label="Permalink to “类: Ed448Params”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="ed448paramsname" tabindex="-1"><code>ed448Params.name</code> <a class="header-anchor" href="#ed448paramsname" aria-label="Permalink to “ed448Params.name”">​</a></h4><p><strong>新增于: v18.4.0, v16.17.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;Ed448&#39;</code>。</li></ul><h4 id="ed448paramscontext" tabindex="-1"><code>ed448Params.context</code> <a class="header-anchor" href="#ed448paramscontext" aria-label="Permalink to “ed448Params.context”">​</a></h4><p><strong>新增于: v18.4.0, v16.17.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a></li></ul><p><code>context</code> 成员表示与消息关联的可选上下文数据。 Node.js Web Crypto API 实现仅支持零长度上下文，这等效于根本不提供上下文。</p><h3 id="class-hkdfparams" tabindex="-1">类: <code>HkdfParams</code> <a class="header-anchor" href="#class-hkdfparams" aria-label="Permalink to “类: HkdfParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="hkdfparamshash" tabindex="-1"><code>hkdfParams.hash</code> <a class="header-anchor" href="#hkdfparamshash" aria-label="Permalink to “hkdfParams.hash”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a>，则该值必须是以下之一：</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a>，则该对象必须具有一个 <code>name</code> 属性，其值是上面列出的值之一。</p><h4 id="hkdfparamsinfo" tabindex="-1"><code>hkdfParams.info</code> <a class="header-anchor" href="#hkdfparamsinfo" aria-label="Permalink to “hkdfParams.info”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>为 HKDF 算法提供特定于应用程序的上下文输入。这可以是零长度，但必须提供。</p><h4 id="hkdfparamsname" tabindex="-1"><code>hkdfParams.name</code> <a class="header-anchor" href="#hkdfparamsname" aria-label="Permalink to “hkdfParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;HKDF&#39;</code>。</li></ul><h4 id="hkdfparamssalt" tabindex="-1"><code>hkdfParams.salt</code> <a class="header-anchor" href="#hkdfparamssalt" aria-label="Permalink to “hkdfParams.salt”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>salt 值可显著提高 HKDF 算法的强度。它应该是随机或伪随机的，并且长度应与摘要函数的输出长度相同（例如，如果使用 <code>&#39;SHA-256&#39;</code> 作为摘要，则 salt 应该是 256 位的随机数据）。</p><h3 id="class-hmacimportparams" tabindex="-1">类: <code>HmacImportParams</code> <a class="header-anchor" href="#class-hmacimportparams" aria-label="Permalink to “类: HmacImportParams”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><h4 id="hmacimportparamshash" tabindex="-1"><code>hmacImportParams.hash</code> <a class="header-anchor" href="#hmacimportparamshash" aria-label="Permalink to “hmacImportParams.hash”">​</a></h4><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a>，则该值必须为以下之一:</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a>，则该对象必须具有一个 <code>name</code> 属性，其值是上面列出的值之一。</p><h4 id="hmacimportparamslength" tabindex="-1"><code>hmacImportParams.length</code> <a class="header-anchor" href="#hmacimportparamslength" aria-label="Permalink to “hmacImportParams.length”">​</a></h4><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>HMAC 密钥的可选位数。 这是可选的，在大多数情况下应该省略。</p><h4 id="hmacimportparamsname" tabindex="-1"><code>hmacImportParams.name</code> <a class="header-anchor" href="#hmacimportparamsname" aria-label="Permalink to “hmacImportParams.name”">​</a></h4><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;HMAC&#39;</code>。</li></ul><h3 id="class-hmackeygenparams" tabindex="-1">类: <code>HmacKeyGenParams</code> <a class="header-anchor" href="#class-hmackeygenparams" aria-label="Permalink to “类: HmacKeyGenParams”">​</a></h3><p><strong>添加于: v15.0.0</strong></p><h4 id="hmackeygenparamshash" tabindex="-1"><code>hmacKeyGenParams.hash</code> <a class="header-anchor" href="#hmackeygenparamshash" aria-label="Permalink to “hmacKeyGenParams.hash”">​</a></h4><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a>，则该值必须为以下之一:</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a>，则该对象必须具有一个 <code>name</code> 属性，其值是上面列出的值之一。</p><h4 id="hmackeygenparamslength" tabindex="-1"><code>hmacKeyGenParams.length</code> <a class="header-anchor" href="#hmackeygenparamslength" aria-label="Permalink to “hmacKeyGenParams.length”">​</a></h4><p><strong>添加于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>为 HMAC 密钥生成的位数。 如果省略，长度将由使用的哈希算法决定。 这是可选的，在大多数情况下应该省略。</p><h4 id="hmackeygenparamsname" tabindex="-1"><code>hmacKeyGenParams.name</code> <a class="header-anchor" href="#hmackeygenparamsname" aria-label="Permalink to “hmacKeyGenParams.name”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;HMAC&#39;</code>。</li></ul><h3 id="class-pbkdf2params" tabindex="-1">类: <code>Pbkdf2Params</code> <a class="header-anchor" href="#class-pbkdf2params" aria-label="Permalink to “类: Pbkdf2Params”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><h4 id="pbkdb2paramshash" tabindex="-1"><code>pbkdb2Params.hash</code> <a class="header-anchor" href="#pbkdb2paramshash" aria-label="Permalink to “pbkdb2Params.hash”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a>，则该值必须为以下之一：</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a>，则该对象必须具有一个 <code>name</code> 属性，其值是上面列出的值之一。</p><h4 id="pbkdf2paramsiterations" tabindex="-1"><code>pbkdf2Params.iterations</code> <a class="header-anchor" href="#pbkdf2paramsiterations" aria-label="Permalink to “pbkdf2Params.iterations”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>PBKDF2 算法在派生位时应进行的迭代次数。</p><h4 id="pbkdf2paramsname" tabindex="-1"><code>pbkdf2Params.name</code> <a class="header-anchor" href="#pbkdf2paramsname" aria-label="Permalink to “pbkdf2Params.name”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;PBKDF2&#39;</code>。</li></ul><h4 id="pbkdf2paramssalt" tabindex="-1"><code>pbkdf2Params.salt</code> <a class="header-anchor" href="#pbkdf2paramssalt" aria-label="Permalink to “pbkdf2Params.salt”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>应该至少是 16 个随机或伪随机字节。</p><h3 id="class-rsahashedimportparams" tabindex="-1">类: <code>RsaHashedImportParams</code> <a class="header-anchor" href="#class-rsahashedimportparams" aria-label="Permalink to “类: RsaHashedImportParams”">​</a></h3><p><strong>Added in: v15.0.0</strong></p><h4 id="rsahashedimportparamshash" tabindex="-1"><code>rsaHashedImportParams.hash</code> <a class="header-anchor" href="#rsahashedimportparamshash" aria-label="Permalink to “rsaHashedImportParams.hash”">​</a></h4><p><strong>Added in: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a>，则该值必须为以下之一：</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a>，则该对象必须具有一个 <code>name</code> 属性，其值是上面列出的值之一。</p><h4 id="rsahashedimportparamsname" tabindex="-1"><code>rsaHashedImportParams.name</code> <a class="header-anchor" href="#rsahashedimportparamsname" aria-label="Permalink to “rsaHashedImportParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;RSASSA-PKCS1-v1_5&#39;</code>, <code>&#39;RSA-PSS&#39;</code> 或 <code>&#39;RSA-OAEP&#39;</code> 之一。</li></ul><h3 id="class-rsahashedkeygenparams" tabindex="-1">类: <code>RsaHashedKeyGenParams</code> <a class="header-anchor" href="#class-rsahashedkeygenparams" aria-label="Permalink to “类: RsaHashedKeyGenParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="rsahashedkeygenparamshash" tabindex="-1"><code>rsaHashedKeyGenParams.hash</code> <a class="header-anchor" href="#rsahashedkeygenparamshash" aria-label="Permalink to “rsaHashedKeyGenParams.hash”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a>，则该值必须是以下之一：</p><ul><li><code>&#39;SHA-1&#39;</code></li><li><code>&#39;SHA-256&#39;</code></li><li><code>&#39;SHA-384&#39;</code></li><li><code>&#39;SHA-512&#39;</code></li></ul><p>如果表示为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a>，则该对象必须具有一个 <code>name</code> 属性，其值是上面列出的值之一。</p><h4 id="rsahashedkeygenparamsmoduluslength" tabindex="-1"><code>rsaHashedKeyGenParams.modulusLength</code> <a class="header-anchor" href="#rsahashedkeygenparamsmoduluslength" aria-label="Permalink to “rsaHashedKeyGenParams.modulusLength”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>RSA 模数的位长。 作为最佳实践，它应至少为 <code>2048</code>。</p><h4 id="rsahashedkeygenparamsname" tabindex="-1"><code>rsaHashedKeyGenParams.name</code> <a class="header-anchor" href="#rsahashedkeygenparamsname" aria-label="Permalink to “rsaHashedKeyGenParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须是 <code>&#39;RSASSA-PKCS1-v1_5&#39;</code>, <code>&#39;RSA-PSS&#39;</code> 或 <code>&#39;RSA-OAEP&#39;</code> 之一。</li></ul><h4 id="rsahashedkeygenparamspublicexponent" tabindex="-1"><code>rsaHashedKeyGenParams.publicExponent</code> <a class="header-anchor" href="#rsahashedkeygenparamspublicexponent" aria-label="Permalink to “rsaHashedKeyGenParams.publicExponent”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank" rel="noreferrer">&lt;Uint8Array&gt;</a></li></ul><p>RSA 公钥指数。 这必须是一个包含大端、无符号整数的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank" rel="noreferrer">&lt;Uint8Array&gt;</a>，并且必须适合 32 位。 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" target="_blank" rel="noreferrer">&lt;Uint8Array&gt;</a> 可以包含任意数量的前导零位。 该值必须是一个素数。 除非有理由使用不同的值，否则请使用 <code>new Uint8Array([1, 0, 1])</code> (65537) 作为公钥指数。</p><h3 id="class-rsaoaepparams" tabindex="-1">类: <code>RsaOaepParams</code> <a class="header-anchor" href="#class-rsaoaepparams" aria-label="Permalink to “类: RsaOaepParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="rsaoaepparamslabel" tabindex="-1"><code>rsaOaepParams.label</code> <a class="header-anchor" href="#rsaoaepparamslabel" aria-label="Permalink to “rsaOaepParams.label”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noreferrer">&lt;ArrayBuffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="/zh/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>一个额外的字节集合，它不会被加密，但会绑定到生成的密文。</p><p><code>rsaOaepParams.label</code> 参数是可选的。</p><h4 id="rsaoaepparamsname" tabindex="-1"><code>rsaOaepParams.name</code> <a class="header-anchor" href="#rsaoaepparamsname" aria-label="Permalink to “rsaOaepParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;RSA-OAEP&#39;</code>。</li></ul><h3 id="class-rsapssparams" tabindex="-1">类: <code>RsaPssParams</code> <a class="header-anchor" href="#class-rsapssparams" aria-label="Permalink to “类: RsaPssParams”">​</a></h3><p><strong>新增于: v15.0.0</strong></p><h4 id="rsapssparamsname" tabindex="-1"><code>rsaPssParams.name</code> <a class="header-anchor" href="#rsapssparamsname" aria-label="Permalink to “rsaPssParams.name”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> 必须为 <code>&#39;RSA-PSS&#39;</code>。</li></ul><h4 id="rsapssparamssaltlength" tabindex="-1"><code>rsaPssParams.saltLength</code> <a class="header-anchor" href="#rsapssparamssaltlength" aria-label="Permalink to “rsaPssParams.saltLength”">​</a></h4><p><strong>新增于: v15.0.0</strong></p><ul><li>类型: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>要使用的随机盐的长度（以字节为单位）。</p><h2 id="footnotes" tabindex="-1">脚注 <a class="header-anchor" href="#footnotes" aria-label="Permalink to “脚注”">​</a></h2>`,387)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};