import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Публикация пакета Node-API","description":"Узнайте, как опубликовать версию Node-API пакета вместе с не-Node-API версией и как внедрить зависимость от версии Node-API пакета.","frontmatter":{"title":"Публикация пакета Node-API","description":"Узнайте, как опубликовать версию Node-API пакета вместе с не-Node-API версией и как внедрить зависимость от версии Node-API пакета.","head":[["meta",{"name":"og:title","content":"Публикация пакета Node-API | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Узнайте, как опубликовать версию Node-API пакета вместе с не-Node-API версией и как внедрить зависимость от версии Node-API пакета."}],["meta",{"name":"twitter:title","content":"Публикация пакета Node-API | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Узнайте, как опубликовать версию Node-API пакета вместе с не-Node-API версией и как внедрить зависимость от версии Node-API пакета."}],["link",{"rel":"canonical","href":"https://idoc.dev/ru/nodejs/guide/how-to-publish-a-nodejs-package"}],["meta",{"property":"og:url","content":"https://idoc.dev/ru/nodejs/guide/how-to-publish-a-nodejs-package"}]]},"headers":[],"relativePath":"ru/nodejs/guide/how-to-publish-a-nodejs-package.md","filePath":"ru/nodejs/guide/how-to-publish-a-nodejs-package.md","lastUpdated":1749464498000}`),a={name:`ru/nodejs/guide/how-to-publish-a-nodejs-package.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="как-опубликовать-пакет-node-api" tabindex="-1">Как опубликовать пакет Node-API <a class="header-anchor" href="#как-опубликовать-пакет-node-api" aria-label="Permalink to “Как опубликовать пакет Node-API”">​</a></h1><h2 id="как-опубликовать-версию-пакета-node-api-наряду-с-версиеи-не-относящеися-к-node-api" tabindex="-1">Как опубликовать версию пакета Node-API наряду с версией, не относящейся к Node-API <a class="header-anchor" href="#как-опубликовать-версию-пакета-node-api-наряду-с-версиеи-не-относящеися-к-node-api" aria-label="Permalink to “Как опубликовать версию пакета Node-API наряду с версией, не относящейся к Node-API”">​</a></h2><p>Следующие шаги проиллюстрированы на примере пакета <code>iotivity-node</code>:</p><ul><li><p>Сначала опубликуйте версию, не относящуюся к Node-API:</p><ul><li>Обновите версию в <code>package.json</code>. Для <code>iotivity-node</code> версия становится 1.2.0-2.</li><li>Пройдите контрольный список выпуска (убедитесь, что тесты/демонстрации/документация в порядке).</li><li><code>npm publish</code>.</li></ul></li><li><p>Затем опубликуйте версию Node-API:</p><ul><li>Обновите версию в <code>package.json</code>. В случае <code>iotivity-node</code> версия становится 1.2.0-3. Для управления версиями мы рекомендуем следовать схеме предварительного выпуска версий, описанной на <a href="https://semver.org" target="_blank" rel="noreferrer">semver.org</a>, например, 1.2.0-napi.</li><li>Пройдите контрольный список выпуска (убедитесь, что тесты/демонстрации/документация в порядке).</li><li><code>npm publish --tag n-api</code>.</li></ul></li></ul><p>В этом примере присвоение выпуску тега <code>n-api</code> гарантирует, что, хотя версия 1.2.0-3 является более поздней, чем опубликованная версия, не относящаяся к Node-API (1.2.0-2), она не будет установлена, если кто-то решит установить <code>iotivity-node</code>, просто запустив <code>npm install iotivity-node</code>. По умолчанию будет установлена версия, не относящаяся к Node-API. Пользователю придется запустить <code>npm install iotivity-node@n-api</code>, чтобы получить версию Node-API. Дополнительную информацию об использовании тегов с npm можно найти в разделе &quot;Использование dist-tags&quot;.</p><h2 id="как-ввести-зависимость-от-версии-пакета-node-api" tabindex="-1">Как ввести зависимость от версии пакета Node-API <a class="header-anchor" href="#как-ввести-зависимость-от-версии-пакета-node-api" aria-label="Permalink to “Как ввести зависимость от версии пакета Node-API”">​</a></h2><p>Чтобы добавить версию <code>iotivity-node</code> Node-API в качестве зависимости, файл <code>package.json</code> будет выглядеть следующим образом:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;iotivity-node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;n-api&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Как объясняется в разделе &quot;Использование dist-tags&quot;, в отличие от обычных версий, версии с тегами не могут быть адресованы диапазонами версий, такими как <code>&quot;^2.0.0&quot;</code> внутри <code>package.json</code>. Причина этого в том, что тег относится ровно к одной версии. Таким образом, если сопровождающий пакета решит пометить более позднюю версию пакета тем же тегом, <code>npm update</code> получит более позднюю версию. Это должно быть приемлемой версией, отличной от последней опубликованной, зависимость <code>package.json</code> должна ссылаться на точную версию, как показано ниже:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;iotivity-node&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.2.0-3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,10)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};