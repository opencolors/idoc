import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"البرمجة غير المتزامنة في JavaScript واستخدام الـ Callbacks","description":"JavaScript هي لغة متزامنة بشكل افتراضي، ولكن يمكنها التعامل مع العمليات غير المتزامنة من خلال الـ callbacks، وهي دوال تُمرر كوسائط إلى دوال أخرى وتُنفذ عند حدوث حدث معين.","frontmatter":{"title":"البرمجة غير المتزامنة في JavaScript واستخدام الـ Callbacks","description":"JavaScript هي لغة متزامنة بشكل افتراضي، ولكن يمكنها التعامل مع العمليات غير المتزامنة من خلال الـ callbacks، وهي دوال تُمرر كوسائط إلى دوال أخرى وتُنفذ عند حدوث حدث معين.","head":[["meta",{"name":"og:title","content":"البرمجة غير المتزامنة في JavaScript واستخدام الـ Callbacks | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"JavaScript هي لغة متزامنة بشكل افتراضي، ولكن يمكنها التعامل مع العمليات غير المتزامنة من خلال الـ callbacks، وهي دوال تُمرر كوسائط إلى دوال أخرى وتُنفذ عند حدوث حدث معين."}],["meta",{"name":"twitter:title","content":"البرمجة غير المتزامنة في JavaScript واستخدام الـ Callbacks | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"JavaScript هي لغة متزامنة بشكل افتراضي، ولكن يمكنها التعامل مع العمليات غير المتزامنة من خلال الـ callbacks، وهي دوال تُمرر كوسائط إلى دوال أخرى وتُنفذ عند حدوث حدث معين."}],["link",{"rel":"canonical","href":"https://idoc.dev/ar/nodejs/guide/javascript-asynchronous-programming-and-callbacks"}],["meta",{"property":"og:url","content":"https://idoc.dev/ar/nodejs/guide/javascript-asynchronous-programming-and-callbacks"}]]},"headers":[],"relativePath":"ar/nodejs/guide/javascript-asynchronous-programming-and-callbacks.md","filePath":"ar/nodejs/guide/javascript-asynchronous-programming-and-callbacks.md","lastUpdated":null}`),a={name:`ar/nodejs/guide/javascript-asynchronous-programming-and-callbacks.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="برمجة-javascript-غير-المتزامنة-واستدعاءات-رد-الاتصال" tabindex="-1">برمجة JavaScript غير المتزامنة واستدعاءات رد الاتصال <a class="header-anchor" href="#برمجة-javascript-غير-المتزامنة-واستدعاءات-رد-الاتصال" aria-label="Permalink to “برمجة JavaScript غير المتزامنة واستدعاءات رد الاتصال”">​</a></h1><h2 id="عدم-التزامن-في-لغات-البرمجة" tabindex="-1">عدم التزامن في لغات البرمجة <a class="header-anchor" href="#عدم-التزامن-في-لغات-البرمجة" aria-label="Permalink to “عدم التزامن في لغات البرمجة”">​</a></h2><p>تعتبر أجهزة الكمبيوتر غير متزامنة بحكم تصميمها.</p><p>يعني عدم التزامن أن الأمور يمكن أن تحدث بشكل مستقل عن تدفق البرنامج الرئيسي.</p><p>في أجهزة الكمبيوتر الاستهلاكية الحالية، يتم تشغيل كل برنامج لفترة زمنية محددة ثم يتوقف تنفيذه للسماح لبرنامج آخر بمواصلة تنفيذه. يحدث هذا الشيء في دورة سريعة جدًا بحيث يستحيل ملاحظتها. نعتقد أن أجهزة الكمبيوتر الخاصة بنا تقوم بتشغيل العديد من البرامج في وقت واحد، ولكن هذا وهم (باستثناء الأجهزة متعددة المعالجات).</p><p>تستخدم البرامج داخليًا المقاطعات، وهي إشارة يتم إرسالها إلى المعالج لجذب انتباه النظام.</p><p>دعونا لا ندخل في التفاصيل الداخلية لهذا الآن، ولكن ضع في اعتبارك فقط أنه من الطبيعي أن تكون البرامج غير متزامنة وتوقف تنفيذها حتى تحتاج إلى اهتمام، مما يسمح للكمبيوتر بتنفيذ أشياء أخرى في هذه الأثناء. عندما ينتظر برنامج استجابة من الشبكة، لا يمكنه إيقاف المعالج حتى ينتهي الطلب.</p><p>عادةً ما تكون لغات البرمجة متزامنة ويوفر البعض طريقة لإدارة عدم التزامن في اللغة أو من خلال المكتبات. تعتبر C و Java و C# و PHP و Go و Ruby و Swift و Python جميعها متزامنة بشكل افتراضي. يتعامل البعض مع العمليات غير المتزامنة باستخدام سلاسل العمليات، أو إنشاء عملية جديدة.</p><h2 id="javascript" tabindex="-1">JavaScript <a class="header-anchor" href="#javascript" aria-label="Permalink to “JavaScript”">​</a></h2><p>JavaScript هي لغة <strong>متزامنة</strong> بشكل افتراضي وأحادية الترابط. هذا يعني أن التعليمات البرمجية لا يمكنها إنشاء سلاسل عمليات جديدة وتشغيلها بالتوازي.</p><p>يتم تنفيذ سطور التعليمات البرمجية في سلسلة، واحدًا تلو الآخر، على سبيل المثال:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doSomething</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ولكن JavaScript ولدت داخل المتصفح، وكانت وظيفتها الرئيسية، في البداية، هي الاستجابة لإجراءات المستخدم، مثل <code>onClick</code> و <code>onMouseOver</code> و <code>onChange</code> و <code>onSubmit</code> وما إلى ذلك. كيف يمكن أن تفعل ذلك مع نموذج برمجة متزامن؟</p><p>كانت الإجابة في بيئتها. يوفر <strong>المتصفح</strong> طريقة للقيام بذلك من خلال توفير مجموعة من واجهات برمجة التطبيقات التي يمكنها التعامل مع هذا النوع من الوظائف.</p><p>في الآونة الأخيرة، قدمت Node.js بيئة إدخال/إخراج غير حظر لتوسيع هذا المفهوم ليشمل الوصول إلى الملفات واستدعاءات الشبكة وما إلى ذلك.</p><h2 id="ردود-الاتصال-callbacks" tabindex="-1">ردود الاتصال (Callbacks) <a class="header-anchor" href="#ردود-الاتصال-callbacks" aria-label="Permalink to “ردود الاتصال (Callbacks)”">​</a></h2><p>لا يمكنك معرفة متى سينقر المستخدم على زر. لذلك، تقوم بتحديد معالج أحداث لحدث النقر. يقبل معالج الأحداث هذا دالة، والتي سيتم استدعاؤها عند تشغيل الحدث:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // تم النقر على العنصر</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>هذا ما يسمى <strong>رد الاتصال (callback)</strong>.</p><p>رد الاتصال هو دالة بسيطة يتم تمريرها كقيمة إلى دالة أخرى، ولن يتم تنفيذها إلا عند وقوع الحدث. يمكننا القيام بذلك لأن JavaScript لديها دوال من الدرجة الأولى، والتي يمكن تعيينها لمتغيرات وتمريرها إلى دوال أخرى (تسمى <strong>الدوال ذات الرتبة العليا</strong>)</p><p>من الشائع تغليف كل التعليمات البرمجية الخاصة بك على جانب العميل في مستمع حدث <strong>load</strong> على كائن <strong>window</strong>، والذي يقوم بتشغيل دالة رد الاتصال فقط عندما تكون الصفحة جاهزة:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;load&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // تم تحميل النافذة</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // افعل ما تريد</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>تُستخدم ردود الاتصال في كل مكان، وليس فقط في أحداث DOM.</p><p>أحد الأمثلة الشائعة هو استخدام المؤقتات:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // يعمل بعد ثانيتين</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>تقبل طلبات XHR أيضًا رد اتصال، في هذا المثال عن طريق تعيين دالة لخاصية سيتم استدعاؤها عند وقوع حدث معين (في هذه الحالة، تتغير حالة الطلب):</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> xhr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> XMLHttpRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">onreadystatechange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (xhr.readyState </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    xhr.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(xhr.responseText) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;error&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;GET&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://yoursite.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">xhr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="معالجة-الأخطاء-في-ردود-الاتصال" tabindex="-1">معالجة الأخطاء في ردود الاتصال <a class="header-anchor" href="#معالجة-الأخطاء-في-ردود-الاتصال" aria-label="Permalink to “معالجة الأخطاء في ردود الاتصال”">​</a></h2><p>كيف تتعامل مع الأخطاء باستخدام ردود الاتصال؟ إحدى الاستراتيجيات الشائعة جدًا هي استخدام ما تبنته Node.js: المعامل الأول في أي دالة رد اتصال هو كائن الخطأ: ردود الاتصال التي تبدأ بالخطأ (error-first callbacks)</p><p>إذا لم يكن هناك خطأ، فسيكون الكائن فارغًا (null). إذا كان هناك خطأ، فإنه يحتوي على بعض وصف الخطأ ومعلومات أخرى.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/file.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // معالجة الخطأ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // لا توجد أخطاء، معالجة البيانات</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="مشكلة-ردود-الاتصال" tabindex="-1">مشكلة ردود الاتصال <a class="header-anchor" href="#مشكلة-ردود-الاتصال" aria-label="Permalink to “مشكلة ردود الاتصال”">​</a></h2><p>ردود الاتصال رائعة للحالات البسيطة!</p><p>ولكن كل رد اتصال يضيف مستوى من التداخل، وعندما يكون لديك الكثير من ردود الاتصال، يبدأ الكود في أن يصبح معقدًا جدًا بسرعة:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">window.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;load&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      items.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // هنا الكود الخاص بك</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>هذا مجرد رمز بسيط ذي 4 مستويات، لكنني رأيت مستويات تداخل أكثر من ذلك بكثير وهذا ليس ممتعًا.</p><p>كيف نحل هذا؟</p><h2 id="بدائل-لردود-الاتصال" tabindex="-1">بدائل لردود الاتصال <a class="header-anchor" href="#بدائل-لردود-الاتصال" aria-label="Permalink to “بدائل لردود الاتصال”">​</a></h2><p>بدءًا من ES6، قدمت JavaScript العديد من الميزات التي تساعدنا في التعليمات البرمجية غير المتزامنة التي لا تتضمن استخدام ردود الاتصال: <code>Promises</code> (ES6) و <code>Async/Await</code> (ES2017).</p>`,39)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};