import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Полное руководство по npm, менеджеру пакетов Node.js","description":"Узнайте, как использовать npm для управления зависимостями, установки и обновления пакетов и запуска задач в ваших проектах Node.js.","frontmatter":{"title":"Полное руководство по npm, менеджеру пакетов Node.js","description":"Узнайте, как использовать npm для управления зависимостями, установки и обновления пакетов и запуска задач в ваших проектах Node.js.","head":[["meta",{"name":"og:title","content":"Полное руководство по npm, менеджеру пакетов Node.js | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Узнайте, как использовать npm для управления зависимостями, установки и обновления пакетов и запуска задач в ваших проектах Node.js."}],["meta",{"name":"twitter:title","content":"Полное руководство по npm, менеджеру пакетов Node.js | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Узнайте, как использовать npm для управления зависимостями, установки и обновления пакетов и запуска задач в ваших проектах Node.js."}],["link",{"rel":"canonical","href":"https://idoc.dev/ru/nodejs/guide/npm-package-manager"}],["meta",{"property":"og:url","content":"https://idoc.dev/ru/nodejs/guide/npm-package-manager"}]]},"headers":[],"relativePath":"ru/nodejs/guide/npm-package-manager.md","filePath":"ru/nodejs/guide/npm-package-manager.md","lastUpdated":null}`),a={name:`ru/nodejs/guide/npm-package-manager.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="введение-в-менеджер-пакетов-npm" tabindex="-1">Введение в менеджер пакетов npm <a class="header-anchor" href="#введение-в-менеджер-пакетов-npm" aria-label="Permalink to “Введение в менеджер пакетов npm”">​</a></h1><h2 id="знакомство-с-npm" tabindex="-1">Знакомство с npm <a class="header-anchor" href="#знакомство-с-npm" aria-label="Permalink to “Знакомство с npm”">​</a></h2><p><code>npm</code> - это стандартный менеджер пакетов для Node.js.</p><p>В сентябре 2022 года в реестре npm было зарегистрировано более 2,1 миллиона пакетов, что делает его крупнейшим в мире хранилищем кода на одном языке, и вы можете быть уверены, что там есть пакет (почти!) для всего.</p><p>Он начинался как способ загрузки и управления зависимостями пакетов Node.js, но с тех пор стал инструментом, используемым также во frontend JavaScript.</p><div class="tip custom-block"><p class="custom-block-title custom-block-title-default">TIP</p><p><code>Yarn</code> и <code>pnpm</code> являются альтернативами npm cli. Вы также можете их проверить.</p></div><h2 id="пакеты" tabindex="-1">Пакеты <a class="header-anchor" href="#пакеты" aria-label="Permalink to “Пакеты”">​</a></h2><h3 id="установка-всех-зависимостеи" tabindex="-1">Установка всех зависимостей <a class="header-anchor" href="#установка-всех-зависимостеи" aria-label="Permalink to “Установка всех зависимостей”">​</a></h3><p>Вы можете установить все зависимости, перечисленные в вашем файле <code>package.json</code>, выполнив команду:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>она установит все, что нужно проекту, в папку <code>node_modules</code>, создав ее, если она еще не существует.</p><h3 id="установка-отдельного-пакета" tabindex="-1">Установка отдельного пакета <a class="header-anchor" href="#установка-отдельного-пакета" aria-label="Permalink to “Установка отдельного пакета”">​</a></h3><p>Вы можете установить отдельный пакет, выполнив команду:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">имя-пакет</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">а</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Кроме того, начиная с npm 5, эта команда добавляет <code>&lt;имя-пакета&gt;</code> в зависимости файла <code>package.json</code>. До версии 5 вам нужно было добавить флаг <code>--save</code>.</p><p>Часто вы увидите больше флагов, добавленных к этой команде:</p><ul><li><code>--save-dev</code> (или <code>-D</code>), который добавляет пакет в раздел <code>devDependencies</code> файла <code>package.json</code>.</li><li><code>--no-save</code>, который предотвращает сохранение пакета в файл <code>package.json</code>.</li><li><code>--no-optional</code>, который предотвращает установку необязательных зависимостей.</li><li><code>--save-optional</code>, который добавляет пакет в раздел <code>optionalDependencies</code> файла <code>package.json</code>.</li></ul><p>Также можно использовать сокращения флагов:</p><ul><li><code>-S</code>: <code>--save</code></li><li><code>-D</code>: <code>--save-dev</code></li><li><code>-O</code>: <code>--save-optional</code></li></ul><p>Разница между devDependencies и dependencies заключается в том, что первые содержат инструменты разработки, такие как библиотека тестирования, а вторые поставляются вместе с приложением в production.</p><p>Что касается optionalDependencies, то разница в том, что сбой сборки зависимости не приведет к сбою установки. Но ваша программа несет ответственность за обработку отсутствия зависимости. Подробнее об <a href="https://docs.npmjs.com/cli/v10/using-npm/config#optional" target="_blank" rel="noreferrer">необязательных зависимостях</a>.</p><h3 id="обновление-пакетов" tabindex="-1">Обновление пакетов <a class="header-anchor" href="#обновление-пакетов" aria-label="Permalink to “Обновление пакетов”">​</a></h3><p>Обновление также упрощается путем запуска</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Это обновит все зависимости до последней версии.</p><p>Вы также можете указать один пакет для обновления:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="удаление-пакетов" tabindex="-1">Удаление пакетов <a class="header-anchor" href="#удаление-пакетов" aria-label="Permalink to “Удаление пакетов”">​</a></h3><p>Чтобы удалить пакет, вы можете запустить:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="версионность" tabindex="-1">Версионность <a class="header-anchor" href="#версионность" aria-label="Permalink to “Версионность”">​</a></h3><p>В дополнение к обычным загрузкам, <code>npm</code> также управляет версиями, поэтому вы можете указать любую конкретную версию пакета или требовать версию выше или ниже, чем вам нужно.</p><p>Часто вы обнаружите, что библиотека совместима только с основной версией другой библиотеки.</p><p>Или ошибка в последней версии библиотеки, все еще не исправленная, вызывает проблему.</p><p>Указание явной версии библиотеки также помогает поддерживать у всех одну и ту же версию пакета, чтобы вся команда работала с одной и той же версией до тех пор, пока не будет обновлен файл <code>package.json</code>.</p><p>Во всех этих случаях версионность очень помогает, и <code>npm</code> следует стандарту <a href="https://semver.org/" target="_blank" rel="noreferrer">семантического версионирования (semver)</a>.</p><p>Вы можете установить конкретную версию пакета, запустив</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Вы также можете установить последнюю версию пакета, запустив</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">@latest</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="запуск-задач" tabindex="-1">Запуск задач <a class="header-anchor" href="#запуск-задач" aria-label="Permalink to “Запуск задач”">​</a></h3><p>Файл package.json поддерживает формат для указания задач командной строки, которые можно запустить с помощью</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">task-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Например, если у вас есть файл package.json со следующим содержимым:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node index.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jest&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Очень часто эта функция используется для запуска Webpack:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;watch&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webpack --watch --progress --colors --config webpack.conf.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;webpack --progress --colors --config webpack.conf.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;prod&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NODE_ENV=production webpack -p --config webpack.conf.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Таким образом, вместо того, чтобы вводить эти длинные команды, которые легко забыть или ввести с ошибкой, вы можете запустить</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prod</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,49)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};