import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Документация API таймеров Node.js","description":"Модуль таймеров Node.js предоставляет функции для планирования вызова функций в будущем. Включает методы, такие как setTimeout, setInterval, setImmediate и их аналоги для очистки, а также process.nextTick для выполнения кода на следующей итерации цикла событий.","frontmatter":{"title":"Документация API таймеров Node.js","description":"Модуль таймеров Node.js предоставляет функции для планирования вызова функций в будущем. Включает методы, такие как setTimeout, setInterval, setImmediate и их аналоги для очистки, а также process.nextTick для выполнения кода на следующей итерации цикла событий.","head":[["meta",{"name":"og:title","content":"Документация API таймеров Node.js | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Модуль таймеров Node.js предоставляет функции для планирования вызова функций в будущем. Включает методы, такие как setTimeout, setInterval, setImmediate и их аналоги для очистки, а также process.nextTick для выполнения кода на следующей итерации цикла событий."}],["meta",{"name":"twitter:title","content":"Документация API таймеров Node.js | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Модуль таймеров Node.js предоставляет функции для планирования вызова функций в будущем. Включает методы, такие как setTimeout, setInterval, setImmediate и их аналоги для очистки, а также process.nextTick для выполнения кода на следующей итерации цикла событий."}],["link",{"rel":"canonical","href":"https://idoc.dev/ru/nodejs/api/timers"}],["meta",{"property":"og:url","content":"https://idoc.dev/ru/nodejs/api/timers"}]]},"headers":[],"relativePath":"ru/nodejs/api/timers.md","filePath":"ru/nodejs/api/timers.md","lastUpdated":null}`),a={name:`ru/nodejs/api/timers.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="timers" tabindex="-1">Таймеры <a class="header-anchor" href="#timers" aria-label="Permalink to “Таймеры”">​</a></h1><div class="tip custom-block"><p class="custom-block-title">[Стабильно: 2 - Стабильно]</p><p><a href="/ru/nodejs/api/documentation#stability-index">Стабильно: 2</a> <a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 2</a> - Стабильно</p></div><p><strong>Исходный код:</strong> <a href="https://github.com/nodejs/node/blob/v23.5.0/lib/timers.js" target="_blank" rel="noreferrer">lib/timers.js</a></p><p>Модуль <code>timer</code> предоставляет глобальный API для планирования вызова функций через некоторый период времени. Поскольку функции таймера являются глобальными, нет необходимости вызывать <code>require(&#39;node:timers&#39;)</code> для использования API.</p><p>Функции таймера в Node.js реализуют API, аналогичный API таймеров, предоставляемому веб-браузерами, но используют другую внутреннюю реализацию, построенную на основе <a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeout" target="_blank" rel="noreferrer">Цикла событий</a> Node.js.</p><h2 id="class-immediate" tabindex="-1">Класс: <code>Immediate</code> <a class="header-anchor" href="#class-immediate" aria-label="Permalink to “Класс: Immediate”">​</a></h2><p>Этот объект создается внутри и возвращается из <a href="/ru/nodejs/api/timers#setimmediatecallback-args"><code>setImmediate()</code></a>. Он может быть передан в <a href="/ru/nodejs/api/timers#clearimmediateimmediate"><code>clearImmediate()</code></a> для отмены запланированных действий.</p><p>По умолчанию, когда планируется немедленное выполнение, цикл событий Node.js будет продолжать работать до тех пор, пока Immediate активен. Объект <code>Immediate</code>, возвращаемый <a href="/ru/nodejs/api/timers#setimmediatecallback-args"><code>setImmediate()</code></a>, экспортирует функции <code>immediate.ref()</code> и <code>immediate.unref()</code>, которые можно использовать для управления этим поведением по умолчанию.</p><h3 id="immediatehasref" tabindex="-1"><code>immediate.hasRef()</code> <a class="header-anchor" href="#immediatehasref" aria-label="Permalink to “immediate.hasRef()”">​</a></h3><p><strong>Добавлено в: v11.0.0</strong></p><ul><li>Возвращает: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Если true, объект <code>Immediate</code> будет поддерживать активность цикла событий Node.js.</p><h3 id="immediateref" tabindex="-1"><code>immediate.ref()</code> <a class="header-anchor" href="#immediateref" aria-label="Permalink to “immediate.ref()”">​</a></h3><p><strong>Добавлено в: v9.7.0</strong></p><ul><li>Возвращает: <a href="/ru/nodejs/api/timers#class-immediate">&lt;Immediate&gt;</a> ссылку на <code>immediate</code></li></ul><p>При вызове запрашивает, чтобы цикл событий Node.js <em>не</em> завершался, пока <code>Immediate</code> активен. Многократный вызов <code>immediate.ref()</code> не оказывает никакого эффекта.</p><p>По умолчанию все объекты <code>Immediate</code> являются &quot;ref&#39;ed&quot;, поэтому обычно нет необходимости вызывать <code>immediate.ref()</code>, если только ранее не был вызван <code>immediate.unref()</code>.</p><h3 id="immediateunref" tabindex="-1"><code>immediate.unref()</code> <a class="header-anchor" href="#immediateunref" aria-label="Permalink to “immediate.unref()”">​</a></h3><p><strong>Добавлено в версии: v9.7.0</strong></p><ul><li>Возвращает: <a href="/ru/nodejs/api/timers#class-immediate">&lt;Immediate&gt;</a> ссылку на <code>immediate</code></li></ul><p>При вызове активный объект <code>Immediate</code> не потребует, чтобы цикл событий Node.js оставался активным. Если нет другой активности, поддерживающей работу цикла событий, процесс может завершиться до вызова обратного вызова объекта <code>Immediate</code>. Многократный вызов <code>immediate.unref()</code> не имеет никакого эффекта.</p><h3 id="immediatesymboldispose" tabindex="-1"><code>immediate[Symbol.dispose]()</code> <a class="header-anchor" href="#immediatesymboldispose" aria-label="Permalink to “immediate[Symbol.dispose]()”">​</a></h3><p><strong>Добавлено в версии: v20.5.0, v18.18.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Стабильность: 1 - Экспериментальная]</p><p><a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 1</a> <a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 1</a> - Экспериментальная</p></div><p>Отменяет immediate. Это аналогично вызову <code>clearImmediate()</code>.</p><h2 id="class-timeout" tabindex="-1">Класс: <code>Timeout</code> <a class="header-anchor" href="#class-timeout" aria-label="Permalink to “Класс: Timeout”">​</a></h2><p>Этот объект создается внутренне и возвращается из <a href="/ru/nodejs/api/timers#settimeoutcallback-delay-args"><code>setTimeout()</code></a> и <a href="/ru/nodejs/api/timers#setintervalcallback-delay-args"><code>setInterval()</code></a>. Он может быть передан в <a href="/ru/nodejs/api/timers#cleartimeouttimeout"><code>clearTimeout()</code></a> или <a href="/ru/nodejs/api/timers#clearintervaltimeout"><code>clearInterval()</code></a> для отмены запланированных действий.</p><p>По умолчанию, когда таймер запланирован с использованием <a href="/ru/nodejs/api/timers#settimeoutcallback-delay-args"><code>setTimeout()</code></a> или <a href="/ru/nodejs/api/timers#setintervalcallback-delay-args"><code>setInterval()</code></a>, цикл событий Node.js будет продолжать работать до тех пор, пока таймер активен. Каждый из объектов <code>Timeout</code>, возвращаемых этими функциями, экспортирует функции <code>timeout.ref()</code> и <code>timeout.unref()</code>, которые можно использовать для управления этим поведением по умолчанию.</p><h3 id="timeoutclose" tabindex="-1"><code>timeout.close()</code> <a class="header-anchor" href="#timeoutclose" aria-label="Permalink to “timeout.close()”">​</a></h3><p><strong>Добавлено в версии: v0.9.1</strong></p><div class="info custom-block"><p class="custom-block-title">[Стабильность: 3 - Устаревший]</p><p><a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 3</a> <a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 3</a> - Устаревший: Используйте <a href="/ru/nodejs/api/timers#cleartimeouttimeout"><code>clearTimeout()</code></a> вместо этого.</p></div><ul><li>Возвращает: <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> ссылку на <code>timeout</code></li></ul><p>Отменяет тайм-аут.</p><h3 id="timeouthasref" tabindex="-1"><code>timeout.hasRef()</code> <a class="header-anchor" href="#timeouthasref" aria-label="Permalink to “timeout.hasRef()”">​</a></h3><p><strong>Добавлено в версии: v11.0.0</strong></p><ul><li>Возвращает: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Если true, объект <code>Timeout</code> будет поддерживать активность цикла событий Node.js.</p><h3 id="timeoutref" tabindex="-1"><code>timeout.ref()</code> <a class="header-anchor" href="#timeoutref" aria-label="Permalink to “timeout.ref()”">​</a></h3><p><strong>Добавлено в версии: v0.9.1</strong></p><ul><li>Возвращает: <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> ссылку на <code>timeout</code></li></ul><p>При вызове запрашивает, чтобы цикл событий Node.js <em>не</em> завершался до тех пор, пока <code>Timeout</code> активен. Многократный вызов <code>timeout.ref()</code> не имеет эффекта.</p><p>По умолчанию все объекты <code>Timeout</code> &quot;ref&#39;ed&quot;, поэтому обычно нет необходимости вызывать <code>timeout.ref()</code>, если только ранее не был вызван <code>timeout.unref()</code>.</p><h3 id="timeoutrefresh" tabindex="-1"><code>timeout.refresh()</code> <a class="header-anchor" href="#timeoutrefresh" aria-label="Permalink to “timeout.refresh()”">​</a></h3><p><strong>Добавлено в версии: v10.2.0</strong></p><ul><li>Возвращает: <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> ссылку на <code>timeout</code></li></ul><p>Устанавливает время начала таймера на текущее время и перепланирует таймер для вызова его обратного вызова с ранее указанной продолжительностью, скорректированной на текущее время. Это полезно для обновления таймера без выделения нового объекта JavaScript.</p><p>Использование этого на таймере, который уже вызвал свой обратный вызов, повторно активирует таймер.</p><h3 id="timeoutunref" tabindex="-1"><code>timeout.unref()</code> <a class="header-anchor" href="#timeoutunref" aria-label="Permalink to “timeout.unref()”">​</a></h3><p><strong>Добавлено в версии: v0.9.1</strong></p><ul><li>Возвращает: <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> ссылку на <code>timeout</code></li></ul><p>При вызове активный объект <code>Timeout</code> не потребует, чтобы цикл событий Node.js оставался активным. Если нет другой активности, поддерживающей работу цикла событий, процесс может завершиться до вызова обратного вызова объекта <code>Timeout</code>. Многократный вызов <code>timeout.unref()</code> не имеет эффекта.</p><h3 id="timeoutsymboltoprimitive" tabindex="-1"><code>timeout[Symbol.toPrimitive]()</code> <a class="header-anchor" href="#timeoutsymboltoprimitive" aria-label="Permalink to “timeout[Symbol.toPrimitive]()”">​</a></h3><p><strong>Добавлено в версии: v14.9.0, v12.19.0</strong></p><ul><li>Возвращает: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> число, которое можно использовать для ссылки на этот <code>timeout</code></li></ul><p>Приводит <code>Timeout</code> к примитиву. Примитив можно использовать для очистки <code>Timeout</code>. Примитив можно использовать только в том же потоке, в котором был создан таймер. Поэтому, чтобы использовать его в <a href="/ru/nodejs/api/worker_threads"><code>worker_threads</code></a>, его сначала необходимо передать в правильный поток. Это обеспечивает улучшенную совместимость с реализациями <code>setTimeout()</code> и <code>setInterval()</code> в браузере.</p><h3 id="timeoutsymboldispose" tabindex="-1"><code>timeout[Symbol.dispose]()</code> <a class="header-anchor" href="#timeoutsymboldispose" aria-label="Permalink to “timeout[Symbol.dispose]()”">​</a></h3><p><strong>Добавлено в версии: v20.5.0, v18.18.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Стабильно: 1 - Экспериментально]</p><p><a href="/ru/nodejs/api/documentation#stability-index">Стабильно: 1</a> <a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 1</a> - Экспериментально</p></div><p>Отменяет таймер.</p><h2 id="scheduling-timers" tabindex="-1">Планирование таймеров <a class="header-anchor" href="#scheduling-timers" aria-label="Permalink to “Планирование таймеров”">​</a></h2><p>Таймер в Node.js - это внутренняя конструкция, которая вызывает заданную функцию через определенный период времени. Время вызова функции таймера зависит от того, какой метод использовался для создания таймера, и от того, какую другую работу выполняет цикл событий Node.js.</p><h3 id="setimmediatecallback-args" tabindex="-1"><code>setImmediate(callback[, ...args])</code> <a class="header-anchor" href="#setimmediatecallback-args" aria-label="Permalink to “setImmediate(callback[, ...args])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[История]</p><table tabindex="0"><thead><tr><th>Версия</th><th>Изменения</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Передача недействительного обратного вызова аргументу <code>callback</code> теперь вызывает <code>ERR_INVALID_ARG_TYPE</code> вместо <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v0.9.1</td><td>Добавлено в: v0.9.1</td></tr></tbody></table></div><ul><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Функция, которую нужно вызвать в конце этого прохода цикла событий Node.js <a href="https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/#setimmediate-vs-settimeout" target="_blank" rel="noreferrer">Event Loop</a></li><li><code>...args</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" target="_blank" rel="noreferrer">&lt;any&gt;</a> Необязательные аргументы, которые нужно передать при вызове <code>callback</code>.</li><li>Возвращает: <a href="/ru/nodejs/api/timers#class-immediate">&lt;Immediate&gt;</a> для использования с <a href="/ru/nodejs/api/timers#clearimmediateimmediate"><code>clearImmediate()</code></a></li></ul><p>Планирует &quot;немедленное&quot; выполнение <code>callback</code> после обратных вызовов событий I/O.</p><p>Когда делается несколько вызовов <code>setImmediate()</code>, функции <code>callback</code> помещаются в очередь для выполнения в том порядке, в котором они были созданы. Вся очередь обратных вызовов обрабатывается на каждой итерации цикла событий. Если немедленный таймер помещен в очередь изнутри выполняющегося обратного вызова, этот таймер не будет запущен до следующей итерации цикла событий.</p><p>Если <code>callback</code> не является функцией, будет выброшена ошибка <a href="/ru/nodejs/api/errors#class-typeerror"><code>TypeError</code></a>.</p><p>Этот метод имеет пользовательский вариант для промисов, который доступен с помощью <a href="/ru/nodejs/api/timers#timerspromisessetimmediatevalue-options"><code>timersPromises.setImmediate()</code></a>.</p><h3 id="setintervalcallback-delay-args" tabindex="-1"><code>setInterval(callback[, delay[, ...args]])</code> <a class="header-anchor" href="#setintervalcallback-delay-args" aria-label="Permalink to “setInterval(callback[, delay[, ...args]])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[История]</p><table tabindex="0"><thead><tr><th>Версия</th><th>Изменения</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Передача недействительного обратного вызова аргументу <code>callback</code> теперь вызывает <code>ERR_INVALID_ARG_TYPE</code> вместо <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v0.0.1</td><td>Добавлено в: v0.0.1</td></tr></tbody></table></div><ul><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Функция, которую нужно вызвать, когда таймер истечет.</li><li><code>delay</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Количество миллисекунд, которые нужно подождать перед вызовом <code>callback</code>. <strong>По умолчанию:</strong> <code>1</code>.</li><li><code>...args</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" target="_blank" rel="noreferrer">&lt;any&gt;</a> Необязательные аргументы, которые нужно передать при вызове <code>callback</code>.</li><li>Возвращает: <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> для использования с <a href="/ru/nodejs/api/timers#clearintervaltimeout"><code>clearInterval()</code></a></li></ul><p>Планирует повторное выполнение <code>callback</code> каждые <code>delay</code> миллисекунд.</p><p>Когда <code>delay</code> больше <code>2147483647</code> или меньше <code>1</code> или <code>NaN</code>, <code>delay</code> будет установлен в <code>1</code>. Нецелые значения задержки усекаются до целого числа.</p><p>Если <code>callback</code> не является функцией, будет выброшена ошибка <a href="/ru/nodejs/api/errors#class-typeerror"><code>TypeError</code></a>.</p><p>Этот метод имеет пользовательский вариант для промисов, который доступен с помощью <a href="/ru/nodejs/api/timers#timerspromisessetintervaldelay-value-options"><code>timersPromises.setInterval()</code></a>.</p><h3 id="settimeoutcallback-delay-args" tabindex="-1"><code>setTimeout(callback[, delay[, ...args]])</code> <a class="header-anchor" href="#settimeoutcallback-delay-args" aria-label="Permalink to “setTimeout(callback[, delay[, ...args]])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[История]</p><table tabindex="0"><thead><tr><th>Версия</th><th>Изменения</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Передача недействительного обратного вызова аргументу <code>callback</code> теперь вызывает <code>ERR_INVALID_ARG_TYPE</code> вместо <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v0.0.1</td><td>Добавлено в: v0.0.1</td></tr></tbody></table></div><ul><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Функция, которая будет вызвана по истечении таймера.</li><li><code>delay</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Количество миллисекунд ожидания перед вызовом <code>callback</code>. <strong>По умолчанию:</strong> <code>1</code>.</li><li><code>...args</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" target="_blank" rel="noreferrer">&lt;any&gt;</a> Необязательные аргументы, которые будут переданы при вызове <code>callback</code>.</li><li>Возвращает: <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> для использования с <a href="/ru/nodejs/api/timers#cleartimeouttimeout"><code>clearTimeout()</code></a></li></ul><p>Планирует однократное выполнение <code>callback</code> через <code>delay</code> миллисекунд.</p><p><code>callback</code>, вероятно, не будет вызван точно через <code>delay</code> миллисекунд. Node.js не дает никаких гарантий относительно точного времени срабатывания обратных вызовов, а также их порядка. Обратный вызов будет вызван как можно ближе к указанному времени.</p><p>Когда <code>delay</code> больше, чем <code>2147483647</code>, или меньше, чем <code>1</code>, или <code>NaN</code>, <code>delay</code> будет установлено равным <code>1</code>. Нецелые значения задержки усекаются до целых чисел.</p><p>Если <code>callback</code> не является функцией, будет выброшена ошибка <a href="/ru/nodejs/api/errors#class-typeerror"><code>TypeError</code></a>.</p><p>Этот метод имеет пользовательский вариант для промисов, который доступен с помощью <a href="/ru/nodejs/api/timers#timerspromisessettimeoutdelay-value-options"><code>timersPromises.setTimeout()</code></a>.</p><h2 id="cancelling-timers" tabindex="-1">Отмена таймеров <a class="header-anchor" href="#cancelling-timers" aria-label="Permalink to “Отмена таймеров”">​</a></h2><p>Методы <a href="/ru/nodejs/api/timers#setimmediatecallback-args"><code>setImmediate()</code></a>, <a href="/ru/nodejs/api/timers#setintervalcallback-delay-args"><code>setInterval()</code></a> и <a href="/ru/nodejs/api/timers#settimeoutcallback-delay-args"><code>setTimeout()</code></a> возвращают объекты, представляющие запланированные таймеры. Их можно использовать для отмены таймера и предотвращения его срабатывания.</p><p>Для промисифицированных вариантов <a href="/ru/nodejs/api/timers#setimmediatecallback-args"><code>setImmediate()</code></a> и <a href="/ru/nodejs/api/timers#settimeoutcallback-delay-args"><code>setTimeout()</code></a> для отмены таймера можно использовать <a href="/ru/nodejs/api/globals#class-abortcontroller"><code>AbortController</code></a>. При отмене возвращенные промисы будут отклонены с ошибкой <code>&#39;AbortError&#39;</code>.</p><p>Для <code>setImmediate()</code>:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-444" id="tab-445" checked><label data-title="ESM" for="tab-445">ESM</label><input type="radio" name="group-444" id="tab-446"><label data-title="CJS" for="tab-446">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { setImmediate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setImmediatePromise } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ac</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ac.signal;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Мы не используем \`await\` для промиса, поэтому \`ac.abort()\` вызывается параллельно.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setImmediatePromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foobar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { signal })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.log)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;AbortError&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;The immediate was aborted&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ac.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">setImmediate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setImmediatePromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ac</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ac.signal;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setImmediatePromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foobar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { signal })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.log)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;AbortError&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;The immediate was aborted&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ac.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div></div><p>Для <code>setTimeout()</code>:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-451" id="tab-452" checked><label data-title="ESM" for="tab-452">ESM</label><input type="radio" name="group-451" id="tab-453"><label data-title="CJS" for="tab-453">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { setTimeout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> setTimeoutPromise } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ac</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ac.signal;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Мы не используем \`await\` для промиса, поэтому \`ac.abort()\` вызывается параллельно.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeoutPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foobar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { signal })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.log)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;AbortError&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;The timeout was aborted&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ac.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setTimeoutPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ac</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ac.signal;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeoutPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foobar&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { signal })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.log)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;AbortError&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;The timeout was aborted&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ac.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div></div><h3 id="clearimmediateimmediate" tabindex="-1"><code>clearImmediate(immediate)</code> <a class="header-anchor" href="#clearimmediateimmediate" aria-label="Permalink to “clearImmediate(immediate)”">​</a></h3><p><strong>Добавлено в: v0.9.1</strong></p><ul><li><code>immediate</code> <a href="/ru/nodejs/api/timers#class-immediate">&lt;Immediate&gt;</a> Объект <code>Immediate</code>, возвращаемый функцией <a href="/ru/nodejs/api/timers#setimmediatecallback-args"><code>setImmediate()</code></a>.</li></ul><p>Отменяет объект <code>Immediate</code>, созданный функцией <a href="/ru/nodejs/api/timers#setimmediatecallback-args"><code>setImmediate()</code></a>.</p><h3 id="clearintervaltimeout" tabindex="-1"><code>clearInterval(timeout)</code> <a class="header-anchor" href="#clearintervaltimeout" aria-label="Permalink to “clearInterval(timeout)”">​</a></h3><p><strong>Добавлено в: v0.0.1</strong></p><ul><li><code>timeout</code> <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Объект <code>Timeout</code>, возвращаемый функцией <a href="/ru/nodejs/api/timers#setintervalcallback-delay-args"><code>setInterval()</code></a>, или <a href="/ru/nodejs/api/timers#timeoutsymboltoprimitive">примитив</a> объекта <code>Timeout</code> в виде строки или числа.</li></ul><p>Отменяет объект <code>Timeout</code>, созданный функцией <a href="/ru/nodejs/api/timers#setintervalcallback-delay-args"><code>setInterval()</code></a>.</p><h3 id="cleartimeouttimeout" tabindex="-1"><code>clearTimeout(timeout)</code> <a class="header-anchor" href="#cleartimeouttimeout" aria-label="Permalink to “clearTimeout(timeout)”">​</a></h3><p><strong>Добавлено в: v0.0.1</strong></p><ul><li><code>timeout</code> <a href="/ru/nodejs/api/timers#class-timeout">&lt;Timeout&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Объект <code>Timeout</code>, возвращаемый функцией <a href="/ru/nodejs/api/timers#settimeoutcallback-delay-args"><code>setTimeout()</code></a>, или <a href="/ru/nodejs/api/timers#timeoutsymboltoprimitive">примитив</a> объекта <code>Timeout</code> в виде строки или числа.</li></ul><p>Отменяет объект <code>Timeout</code>, созданный функцией <a href="/ru/nodejs/api/timers#settimeoutcallback-delay-args"><code>setTimeout()</code></a>.</p><h2 id="timers-promises-api" tabindex="-1">Timers Promises API <a class="header-anchor" href="#timers-promises-api" aria-label="Permalink to “Timers Promises API”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[История]</p><table tabindex="0"><thead><tr><th>Версия</th><th>Изменения</th></tr></thead><tbody><tr><td>v16.0.0</td><td>Переход из экспериментального статуса.</td></tr><tr><td>v15.0.0</td><td>Добавлено в: v15.0.0</td></tr></tbody></table></div><p>API <code>timers/promises</code> предоставляет альтернативный набор функций таймера, которые возвращают объекты <code>Promise</code>. API доступен через <code>require(&#39;node:timers/promises&#39;)</code>.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-541" id="tab-542" checked><label data-title="ESM" for="tab-542">ESM</label><input type="radio" name="group-541" id="tab-543"><label data-title="CJS" for="tab-543">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setTimeout,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setImmediate,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setInterval,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  setImmediate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div></div><h3 id="timerspromisessettimeoutdelay-value-options" tabindex="-1"><code>timersPromises.setTimeout([delay[, value[, options]]])</code> <a class="header-anchor" href="#timerspromisessettimeoutdelay-value-options" aria-label="Permalink to “timersPromises.setTimeout([delay[, value[, options]]])”">​</a></h3><p><strong>Добавлено в: v15.0.0</strong></p><ul><li><code>delay</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Количество миллисекунд для ожидания перед выполнением промиса. <strong>По умолчанию:</strong> <code>1</code>.</li><li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" target="_blank" rel="noreferrer">&lt;any&gt;</a> Значение, с которым выполняется промис.</li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>ref</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Установите в <code>false</code>, чтобы указать, что запланированный <code>Timeout</code> не должен требовать, чтобы цикл событий Node.js оставался активным. <strong>По умолчанию:</strong> <code>true</code>.</li><li><code>signal</code> <a href="/ru/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> Необязательный <code>AbortSignal</code>, который можно использовать для отмены запланированного <code>Timeout</code>.</li></ul></li></ul><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-580" id="tab-581" checked><label data-title="ESM" for="tab-581">ESM</label><input type="radio" name="group-580" id="tab-582"><label data-title="CJS" for="tab-582">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setTimeout,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;result&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Выводит &#39;result&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;result&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Выводит &#39;result&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div><h3 id="timerspromisessetimmediatevalue-options" tabindex="-1"><code>timersPromises.setImmediate([value[, options]])</code> <a class="header-anchor" href="#timerspromisessetimmediatevalue-options" aria-label="Permalink to “timersPromises.setImmediate([value[, options]])”">​</a></h3><p><strong>Добавлено в: v15.0.0</strong></p><ul><li><code>value</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_types" target="_blank" rel="noreferrer">&lt;any&gt;</a> Значение, с которым выполняется промис.</li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>ref</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Установите в <code>false</code>, чтобы указать, что запланированный <code>Immediate</code> не должен требовать, чтобы цикл событий Node.js оставался активным. <strong>По умолчанию:</strong> <code>true</code>.</li><li><code>signal</code> <a href="/ru/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> Необязательный <code>AbortSignal</code>, который можно использовать для отмены запланированного <code>Immediate</code>.</li></ul></li></ul><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-614" id="tab-615" checked><label data-title="ESM" for="tab-615">ESM</label><input type="radio" name="group-614" id="tab-616"><label data-title="CJS" for="tab-616">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setImmediate,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> res</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setImmediate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;result&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Выводит &#39;result&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  setImmediate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setImmediate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;result&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Выводит &#39;result&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div><h3 id="timerspromisessetintervaldelay-value-options" tabindex="-1"><code>timersPromises.setInterval([delay[, value[, options]]])</code> <a class="header-anchor" href="#timerspromisessetintervaldelay-value-options" aria-label="Permalink to “timersPromises.setInterval([delay[, value[, options]]])”">​</a></h3><p><strong>Добавлено в: v15.9.0</strong></p><p>Возвращает асинхронный итератор, который генерирует значения с интервалом в <code>delay</code> мс. Если <code>ref</code> имеет значение <code>true</code>, необходимо явно или неявно вызвать <code>next()</code> асинхронного итератора, чтобы поддерживать активность цикла событий.</p><ul><li><code>delay</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Количество миллисекунд для ожидания между итерациями. <strong>По умолчанию:</strong> <code>1</code>.</li><li><code>value</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Data_structures#Data_types" target="_blank" rel="noreferrer">&lt;any&gt;</a> Значение, с которым возвращает итератор.</li><li><code>options</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>ref</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Установите в <code>false</code>, чтобы указать, что запланированный <code>Timeout</code> между итерациями не должен требовать, чтобы цикл событий Node.js оставался активным. <strong>По умолчанию:</strong> <code>true</code>.</li><li><code>signal</code> <a href="/ru/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> Необязательный <code>AbortSignal</code>, который можно использовать для отмены запланированного <code>Timeout</code> между операциями.</li></ul></li></ul><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-656" id="tab-657" checked><label data-title="ESM" for="tab-657">ESM</label><input type="radio" name="group-656" id="tab-658"><label data-title="CJS" for="tab-658">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  setInterval,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> interval</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> startTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(interval, Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> now</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(now);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((now </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> startTime) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> interval</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> startTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(interval, Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> now</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(now);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((now </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> startTime) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div></div><h3 id="timerspromisesschedulerwaitdelay-options" tabindex="-1"><code>timersPromises.scheduler.wait(delay[, options])</code> <a class="header-anchor" href="#timerspromisesschedulerwaitdelay-options" aria-label="Permalink to “timersPromises.scheduler.wait(delay[, options])”">​</a></h3><p><strong>Добавлено в: v17.3.0, v16.14.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Experimental]</p><p><a href="/ru/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 1</a> - Экспериментально</p></div><ul><li><p><code>delay</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Количество миллисекунд для ожидания перед разрешением промиса.</p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>ref</code> <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Установите в <code>false</code>, чтобы указать, что запланированный <code>Timeout</code> не должен требовать, чтобы цикл событий Node.js оставался активным. <strong>По умолчанию:</strong> <code>true</code>.</li><li><code>signal</code> <a href="/ru/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> Необязательный <code>AbortSignal</code>, который можно использовать для отмены ожидания.</li></ul></li><li><p>Возвращает: <a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></p></li></ul><p>Экспериментальный API, определенный черновой спецификацией <a href="https://github.com/WICG/scheduling-apis" target="_blank" rel="noreferrer">Scheduling APIs</a>, разрабатываемой как стандартный API веб-платформы.</p><p>Вызов <code>timersPromises.scheduler.wait(delay, options)</code> эквивалентен вызову <code>timersPromises.setTimeout(delay, undefined, options)</code>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { scheduler } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:timers/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wait</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Подождите одну секунду, прежде чем продолжить</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="timerspromisesscheduleryield" tabindex="-1"><code>timersPromises.scheduler.yield()</code> <a class="header-anchor" href="#timerspromisesscheduleryield" aria-label="Permalink to “timersPromises.scheduler.yield()”">​</a></h3><p><strong>Добавлено в: v17.3.0, v16.14.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Стабильность: 1 - Экспериментальная]</p><p><a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 1</a> <a href="/ru/nodejs/api/documentation#stability-index">Стабильность: 1</a> - Экспериментальная</p></div><ul><li>Возвращает: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></li></ul><p>Экспериментальный API, определенный черновиком спецификации <a href="https://github.com/WICG/scheduling-apis" target="_blank" rel="noreferrer">Scheduling APIs</a>, разрабатываемым как стандартный API веб-платформы.</p><p>Вызов <code>timersPromises.scheduler.yield()</code> эквивалентен вызову <code>timersPromises.setImmediate()</code> без аргументов.</p>`,132)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};