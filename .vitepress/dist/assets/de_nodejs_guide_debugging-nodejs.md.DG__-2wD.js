import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Node.js-Debugging","description":"Node.js-Debugging-Optionen, einschließlich --inspect, --inspect-brk und --debug, sowie Remote-Debugging-Szenarien und Informationen zum Legacy-Debugger.","frontmatter":{"title":"Node.js-Debugging","description":"Node.js-Debugging-Optionen, einschließlich --inspect, --inspect-brk und --debug, sowie Remote-Debugging-Szenarien und Informationen zum Legacy-Debugger.","head":[["meta",{"name":"og:title","content":"Node.js-Debugging | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Node.js-Debugging-Optionen, einschließlich --inspect, --inspect-brk und --debug, sowie Remote-Debugging-Szenarien und Informationen zum Legacy-Debugger."}],["meta",{"name":"twitter:title","content":"Node.js-Debugging | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Node.js-Debugging-Optionen, einschließlich --inspect, --inspect-brk und --debug, sowie Remote-Debugging-Szenarien und Informationen zum Legacy-Debugger."}],["link",{"rel":"canonical","href":"https://idoc.dev/de/nodejs/guide/debugging-nodejs"}],["meta",{"property":"og:url","content":"https://idoc.dev/de/nodejs/guide/debugging-nodejs"}]]},"headers":[],"relativePath":"de/nodejs/guide/debugging-nodejs.md","filePath":"de/nodejs/guide/debugging-nodejs.md","lastUpdated":1749464498000}`),a={name:`de/nodejs/guide/debugging-nodejs.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="node-js-debugging" tabindex="-1">Node.js Debugging <a class="header-anchor" href="#node-js-debugging" aria-label="Permalink to “Node.js Debugging”">​</a></h1><p>Dieser Leitfaden hilft Ihnen, mit dem Debuggen Ihrer Node.js-Apps und -Skripte zu beginnen.</p><h2 id="inspector-aktivieren" tabindex="-1">Inspector aktivieren <a class="header-anchor" href="#inspector-aktivieren" aria-label="Permalink to “Inspector aktivieren”">​</a></h2><p>Wenn ein Node.js-Prozess mit dem Schalter <code>--inspect</code> gestartet wird, lauscht er auf einen Debugging-Client. Standardmäßig lauscht er auf Host und Port <code>127.0.0.1:9229</code>. Jedem Prozess wird auch eine eindeutige UUID zugewiesen.</p><p>Inspector-Clients müssen Hostadresse, Port und UUID kennen und angeben, um sich zu verbinden. Eine vollständige URL sieht in etwa so aus: <code>ws://127.0.0.1:9229/0f2c936f-b1cd-4ac9-aab3-f63b0f33d55e</code>.</p><p>Node.js beginnt auch mit dem Lauschen auf Debugging-Nachrichten, wenn es ein <code>SIGUSR1</code>-Signal empfängt. (<code>SIGUSR1</code> ist unter Windows nicht verfügbar.) In Node.js 7 und früher aktiviert dies die ältere Debugger-API. In Node.js 8 und später wird die Inspector-API aktiviert.</p><h2 id="sicherheitsimplikationen" tabindex="-1">Sicherheitsimplikationen <a class="header-anchor" href="#sicherheitsimplikationen" aria-label="Permalink to “Sicherheitsimplikationen”">​</a></h2><p>Da der Debugger vollen Zugriff auf die Node.js-Ausführungsumgebung hat, kann ein böswilliger Akteur, der sich mit diesem Port verbinden kann, möglicherweise beliebigen Code im Namen des Node.js-Prozesses ausführen. Es ist wichtig, die Sicherheitsimplikationen der Bereitstellung des Debugger-Ports in öffentlichen und privaten Netzwerken zu verstehen.</p><h3 id="die-offentliche-bereitstellung-des-debug-ports-ist-unsicher" tabindex="-1">Die öffentliche Bereitstellung des Debug-Ports ist unsicher <a class="header-anchor" href="#die-offentliche-bereitstellung-des-debug-ports-ist-unsicher" aria-label="Permalink to “Die öffentliche Bereitstellung des Debug-Ports ist unsicher”">​</a></h3><p>Wenn der Debugger an eine öffentliche IP-Adresse oder an 0.0.0.0 gebunden ist, können sich alle Clients, die Ihre IP-Adresse erreichen können, ohne Einschränkung mit dem Debugger verbinden und beliebigen Code ausführen.</p><p>Standardmäßig bindet <code>node --inspect</code> an 127.0.0.1. Sie müssen explizit eine öffentliche IP-Adresse oder 0.0.0.0 usw. angeben, wenn Sie externe Verbindungen zum Debugger zulassen möchten. Dies kann Sie einer potenziell erheblichen Sicherheitsbedrohung aussetzen. Wir empfehlen Ihnen, sicherzustellen, dass geeignete Firewalls und Zugriffskontrollen vorhanden sind, um eine Sicherheitsgefährdung zu verhindern.</p><p>Im Abschnitt &#39;<a href="/de/nodejs/guide/debugging-nodejs#enabling-remote-debugging-scenarios">Aktivieren von Remote-Debugging-Szenarien</a>&#39; finden Sie einige Ratschläge, wie Sie Remote-Debugger-Clients sicher verbinden können.</p><h3 id="lokale-anwendungen-haben-vollen-zugriff-auf-den-inspector" tabindex="-1">Lokale Anwendungen haben vollen Zugriff auf den Inspector <a class="header-anchor" href="#lokale-anwendungen-haben-vollen-zugriff-auf-den-inspector" aria-label="Permalink to “Lokale Anwendungen haben vollen Zugriff auf den Inspector”">​</a></h3><p>Selbst wenn Sie den Inspector-Port an 127.0.0.1 (Standard) binden, haben alle Anwendungen, die lokal auf Ihrem Computer ausgeführt werden, uneingeschränkten Zugriff. Dies ist so konzipiert, dass sich lokale Debugger bequem verbinden können.</p><h3 id="browser-websockets-und-same-origin-policy" tabindex="-1">Browser, WebSockets und Same-Origin-Policy <a class="header-anchor" href="#browser-websockets-und-same-origin-policy" aria-label="Permalink to “Browser, WebSockets und Same-Origin-Policy”">​</a></h3><p>Webseiten, die in einem Webbrowser geöffnet werden, können unter dem Sicherheitsmodell des Browsers WebSocket- und HTTP-Anfragen stellen. Eine anfängliche HTTP-Verbindung ist erforderlich, um eine eindeutige Debugger-Sitzungs-ID zu erhalten. Die Same-Origin-Policy verhindert, dass Webseiten diese HTTP-Verbindung herstellen können. Für zusätzliche Sicherheit gegen <a href="https://en.wikipedia.org/wiki/DNS_rebinding" target="_blank" rel="noreferrer">DNS-Rebinding-Angriffe</a> überprüft Node.js, ob die &#39;Host&#39;-Header für die Verbindung entweder eine IP-Adresse oder genau <code>localhost</code> angeben.</p><p>Diese Sicherheitsrichtlinien untersagen die Verbindung zu einem Remote-Debug-Server durch Angabe des Hostnamens. Sie können diese Einschränkung umgehen, indem Sie entweder die IP-Adresse angeben oder SSH-Tunnel verwenden, wie unten beschrieben.</p><h2 id="inspector-clients" tabindex="-1">Inspector-Clients <a class="header-anchor" href="#inspector-clients" aria-label="Permalink to “Inspector-Clients”">​</a></h2><p>Ein minimaler CLI-Debugger ist mit <code>node inspect myscript.js</code> verfügbar. Verschiedene kommerzielle und Open-Source-Tools können sich ebenfalls mit dem Node.js Inspector verbinden.</p><h3 id="chrome-devtools-55-microsoft-edge" tabindex="-1">Chrome DevTools 55+, Microsoft Edge <a class="header-anchor" href="#chrome-devtools-55-microsoft-edge" aria-label="Permalink to “Chrome DevTools 55+, Microsoft Edge”">​</a></h3><ul><li><strong>Option 1</strong>: Öffnen Sie <code>chrome://inspect</code> in einem Chromium-basierten Browser oder <code>edge://inspect</code> in Edge. Klicken Sie auf die Schaltfläche &quot;Konfigurieren&quot; und stellen Sie sicher, dass Ihr Zielhost und -port aufgeführt sind.</li><li><strong>Option 2</strong>: Kopieren Sie die <code>devtoolsFrontendUrl</code> aus der Ausgabe von <code>/json/list</code> (siehe oben) oder dem <code>--inspect</code>-Hinweis und fügen Sie sie in Chrome ein.</li></ul><p>Weitere Informationen finden Sie unter <a href="https://github.com/ChromeDevTools/devtools-frontend" target="_blank" rel="noreferrer">https://github.com/ChromeDevTools/devtools-frontend</a>, <a href="https://www.microsoftedgeinsider.com" target="_blank" rel="noreferrer">https://www.microsoftedgeinsider.com</a>.</p><h3 id="visual-studio-code-1-10" tabindex="-1">Visual Studio Code 1.10+ <a class="header-anchor" href="#visual-studio-code-1-10" aria-label="Permalink to “Visual Studio Code 1.10+”">​</a></h3><ul><li>Klicken Sie im Debug-Panel auf das Einstellungssymbol, um <code>.vscode/launch.json</code> zu öffnen. Wählen Sie für die Ersteinrichtung &quot;Node.js&quot; aus.</li></ul><p>Weitere Informationen finden Sie unter <a href="https://github.com/microsoft/vscode" target="_blank" rel="noreferrer">https://github.com/microsoft/vscode</a>.</p><h3 id="jetbrains-webstorm-und-andere-jetbrains-ides" tabindex="-1">JetBrains WebStorm und andere JetBrains IDEs <a class="header-anchor" href="#jetbrains-webstorm-und-andere-jetbrains-ides" aria-label="Permalink to “JetBrains WebStorm und andere JetBrains IDEs”">​</a></h3><ul><li>Erstellen Sie eine neue Node.js-Debugkonfiguration und klicken Sie auf Debuggen. <code>--inspect</code> wird standardmäßig für Node.js 7+ verwendet. Um dies zu deaktivieren, deaktivieren Sie <code>js.debugger.node.use.inspect</code> in der IDE-Registry. Um mehr über das Ausführen und Debuggen von Node.js in WebStorm und anderen JetBrains IDEs zu erfahren, lesen Sie die <a href="https://www.jetbrains.com/help/webstorm/running-and-debugging-node-js.html" target="_blank" rel="noreferrer">WebStorm-Online-Hilfe</a>.</li></ul><h3 id="chrome-remote-interface" tabindex="-1">chrome-remote-interface <a class="header-anchor" href="#chrome-remote-interface" aria-label="Permalink to “chrome-remote-interface”">​</a></h3><ul><li>Bibliothek zur Vereinfachung von Verbindungen zu <a href="https://chromedevtools.github.io/debugger-protocol-viewer/v8/" target="_blank" rel="noreferrer">Inspector Protocol</a>-Endpunkten. Weitere Informationen finden Sie unter <a href="https://github.com/cyrus-and/chrome-remote-interface" target="_blank" rel="noreferrer">https://github.com/cyrus-and/chrome-remote-interface</a>.</li></ul><h3 id="gitpod" tabindex="-1">Gitpod <a class="header-anchor" href="#gitpod" aria-label="Permalink to “Gitpod”">​</a></h3><ul><li>Starten Sie eine Node.js-Debugkonfiguration aus der <code>Debug</code>-Ansicht oder drücken Sie <code>F5</code>. Detaillierte Anweisungen</li></ul><p>Weitere Informationen finden Sie unter <a href="https://www.gitpod.io" target="_blank" rel="noreferrer">https://www.gitpod.io</a>.</p><h3 id="eclipse-ide-mit-eclipse-wild-web-developer-erweiterung" tabindex="-1">Eclipse IDE mit Eclipse Wild Web Developer Erweiterung <a class="header-anchor" href="#eclipse-ide-mit-eclipse-wild-web-developer-erweiterung" aria-label="Permalink to “Eclipse IDE mit Eclipse Wild Web Developer Erweiterung”">​</a></h3><ul><li>Wählen Sie in einer <code>.js</code>-Datei <code>Debug As... &gt; Node program</code> oder erstellen Sie eine Debug-Konfiguration, um den Debugger an eine laufende Node.js-Anwendung anzuhängen (bereits mit <code>--inspect</code> gestartet).</li></ul><p>Weitere Informationen finden Sie unter <a href="https://eclipse.org/eclipseide" target="_blank" rel="noreferrer">https://eclipse.org/eclipseide</a>.</p><h2 id="befehlszeilenoptionen" tabindex="-1">Befehlszeilenoptionen <a class="header-anchor" href="#befehlszeilenoptionen" aria-label="Permalink to “Befehlszeilenoptionen”">​</a></h2><p>Die folgende Tabelle listet die Auswirkungen verschiedener Runtime-Flags auf das Debuggen auf:</p><table tabindex="0"><thead><tr><th>Flag</th><th>Bedeutung</th></tr></thead><tbody><tr><td><code>--inspect</code></td><td>Aktiviert das Debuggen mit dem Node.js Inspector. Lauschen an der Standardadresse und dem Standardport (127.0.0.1:9229)</td></tr><tr><td><code>--inspect-brk</code></td><td>Aktiviert das Debuggen mit dem Node.js Inspector. Lauschen an der Standardadresse und dem Standardport (127.0.0.1:9229); Stoppt, bevor der Benutzercode startet</td></tr><tr><td><code>--inspect=[host:port]</code></td><td>Aktiviert den Inspector-Agenten; Bindet an die Adresse oder den Hostnamen Host (Standard: 127.0.0.1); Lauschen am Port Port (Standard: 9229)</td></tr><tr><td><code>--inspect-brk=[host:port]</code></td><td>Aktiviert den Inspector-Agenten; Bindet an die Adresse oder den Hostnamen Host (Standard: 127.0.0.1); Lauschen am Port Port (Standard: 9229); Stoppt, bevor der Benutzercode startet</td></tr><tr><td><code>--inspect-wait</code></td><td>Aktiviert den Inspector-Agenten; Lauschen an der Standardadresse und dem Standardport (127.0.0.1:9229); Wartet, bis der Debugger angehängt wird.</td></tr><tr><td><code>--inspect-wait=[host:port]</code></td><td>Aktiviert den Inspector-Agenten; Bindet an die Adresse oder den Hostnamen Host (Standard: 127.0.0.1); Lauschen am Port Port (Standard: 9229); Wartet, bis der Debugger angehängt wird.</td></tr><tr><td><code>node inspect script.js</code></td><td>Erzeugt einen Child-Prozess, um das Skript des Benutzers mit dem --inspect-Flag auszuführen; und verwendet den Hauptprozess, um den CLI-Debugger auszuführen.</td></tr><tr><td><code>node inspect --port=xxxx script.js</code></td><td>Erzeugt einen Child-Prozess, um das Skript des Benutzers mit dem --inspect-Flag auszuführen; und verwendet den Hauptprozess, um den CLI-Debugger auszuführen. Lauschen am Port Port (Standard: 9229)</td></tr></tbody></table><h2 id="aktivieren-von-remote-debugging-szenarien" tabindex="-1">Aktivieren von Remote-Debugging-Szenarien <a class="header-anchor" href="#aktivieren-von-remote-debugging-szenarien" aria-label="Permalink to “Aktivieren von Remote-Debugging-Szenarien”">​</a></h2><p>Wir empfehlen, den Debugger niemals auf einer öffentlichen IP-Adresse lauschen zu lassen. Wenn Sie Remote-Debugging-Verbindungen zulassen müssen, empfehlen wir stattdessen die Verwendung von SSH-Tunneln. Das folgende Beispiel dient nur zur Veranschaulichung. Bitte verstehen Sie das Sicherheitsrisiko, das mit der Gewährung von Fernzugriff auf einen privilegierten Dienst verbunden ist, bevor Sie fortfahren.</p><p>Nehmen wir an, Sie führen Node.js auf einem Remote-Rechner, remote.example.com, aus, den Sie debuggen möchten. Auf diesem Rechner sollten Sie den Node-Prozess mit dem Inspector starten, der nur auf localhost (Standard) lauscht.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --inspect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Nun können Sie auf Ihrem lokalen Rechner, von dem aus Sie eine Debug-Client-Verbindung initiieren möchten, einen SSH-Tunnel einrichten:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9225:localhost:9229</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote.example.com</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Dies startet eine SSH-Tunnel-Sitzung, in der eine Verbindung zu Port 9225 auf Ihrem lokalen Rechner an Port 9229 auf remote.example.com weitergeleitet wird. Sie können nun einen Debugger wie Chrome DevTools oder Visual Studio Code an localhost:9225 anhängen, der in der Lage sein sollte, zu debuggen, als ob die Node.js-Anwendung lokal ausgeführt würde.</p><h2 id="legacy-debugger" tabindex="-1">Legacy Debugger <a class="header-anchor" href="#legacy-debugger" aria-label="Permalink to “Legacy Debugger”">​</a></h2><p><strong>Der Legacy Debugger ist seit Node.js 7.7.0 veraltet. Bitte verwenden Sie stattdessen --inspect und Inspector.</strong></p><p>Wenn Node.js mit den Schaltern <code>--debug</code> oder <code>--debug-brk</code> in Version 7 und früher gestartet wurde, lauscht er auf einem TCP-Port, standardmäßig <code>5858</code>, auf Debugging-Befehle, die durch das eingestellte V8 Debugging Protocol definiert sind. Jeder Debugger-Client, der dieses Protokoll spricht, kann sich mit dem laufenden Prozess verbinden und ihn debuggen; ein paar beliebte sind unten aufgeführt.</p><p>Das V8 Debugging Protocol wird nicht mehr gepflegt oder dokumentiert.</p><h3 id="eingebauter-debugger" tabindex="-1">Eingebauter Debugger <a class="header-anchor" href="#eingebauter-debugger" aria-label="Permalink to “Eingebauter Debugger”">​</a></h3><p>Starten Sie <code>node debug script_name.js</code>, um Ihr Skript unter dem eingebauten Kommandozeilen-Debugger zu starten. Ihr Skript startet in einem anderen Node.js-Prozess, der mit der Option <code>--debug-brk</code> gestartet wurde, und der erste Node.js-Prozess führt das Skript <code>_debugger.js</code> aus und verbindet sich mit Ihrem Ziel. Weitere Informationen finden Sie in den <a href="/de/nodejs/api/debugger">docs</a>.</p><h3 id="node-inspector" tabindex="-1">node-inspector <a class="header-anchor" href="#node-inspector" aria-label="Permalink to “node-inspector”">​</a></h3><p>Debuggen Sie Ihre Node.js-Anwendung mit den Chrome DevTools, indem Sie einen Vermittlungsprozess verwenden, der das im Chromium verwendete <a href="https://chromedevtools.github.io/debugger-protocol-viewer/v8/" target="_blank" rel="noreferrer">Inspector Protocol</a> in das in Node.js verwendete V8 Debugger-Protokoll übersetzt. Weitere Informationen finden Sie unter <a href="https://github.com/node-inspector/node-inspector" target="_blank" rel="noreferrer">https://github.com/node-inspector/node-inspector</a>.</p>`,53)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};