import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"دعم TypeScript في Node.js","description":"تعلم كيفية استخدام TypeScript مع Node.js، بما في ذلك التثبيت، والتكوين، وأفضل الممارسات لدمج TypeScript في مشاريعك باستخدام Node.js.","frontmatter":{"title":"دعم TypeScript في Node.js","description":"تعلم كيفية استخدام TypeScript مع Node.js، بما في ذلك التثبيت، والتكوين، وأفضل الممارسات لدمج TypeScript في مشاريعك باستخدام Node.js.","head":[["meta",{"name":"og:title","content":"دعم TypeScript في Node.js | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"تعلم كيفية استخدام TypeScript مع Node.js، بما في ذلك التثبيت، والتكوين، وأفضل الممارسات لدمج TypeScript في مشاريعك باستخدام Node.js."}],["meta",{"name":"twitter:title","content":"دعم TypeScript في Node.js | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"تعلم كيفية استخدام TypeScript مع Node.js، بما في ذلك التثبيت، والتكوين، وأفضل الممارسات لدمج TypeScript في مشاريعك باستخدام Node.js."}],["link",{"rel":"canonical","href":"https://idoc.dev/ar/nodejs/api/typescript"}],["meta",{"property":"og:url","content":"https://idoc.dev/ar/nodejs/api/typescript"}]]},"headers":[],"relativePath":"ar/nodejs/api/typescript.md","filePath":"ar/nodejs/api/typescript.md","lastUpdated":1749464498000}`),a={name:`ar/nodejs/api/typescript.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="modules-typescript" tabindex="-1">الوحدات: TypeScript <a class="header-anchor" href="#modules-typescript" aria-label="Permalink to “الوحدات: TypeScript”">​</a></h1><div class="info custom-block"><p class="custom-block-title">[السجل]</p><table tabindex="0"><thead><tr><th>الإصدار</th><th>التغييرات</th></tr></thead><tbody><tr><td>v22.7.0</td><td>تمت إضافة علامة <code>--experimental-transform-types</code>.</td></tr></tbody></table></div><div class="warning custom-block"><p class="custom-block-title">[مستقر: 1 - تجريبي]</p><p><a href="/ar/nodejs/api/documentation#stability-index">مستقر: 1</a> <a href="/ar/nodejs/api/documentation#stability-index">الاستقرار: 1</a>.1 - تطوير نشط</p></div><h2 id="enabling" tabindex="-1">التفعيل <a class="header-anchor" href="#enabling" aria-label="Permalink to “التفعيل”">​</a></h2><p>هناك طريقتان لتمكين دعم TypeScript في وقت التشغيل في Node.js:</p><h2 id="full-typescript-support" tabindex="-1">دعم كامل لـ TypeScript <a class="header-anchor" href="#full-typescript-support" aria-label="Permalink to “دعم كامل لـ TypeScript”">​</a></h2><p>لاستخدام TypeScript مع دعم كامل لجميع ميزات TypeScript، بما في ذلك <code>tsconfig.json</code>، يمكنك استخدام حزمة تابعة لجهة خارجية. تستخدم هذه التعليمات <a href="https://tsx.is/" target="_blank" rel="noreferrer"><code>tsx</code></a> كمثال ولكن هناك العديد من المكتبات المماثلة الأخرى المتاحة.</p><h2 id="type-stripping" tabindex="-1">تجريد الأنواع <a class="header-anchor" href="#type-stripping" aria-label="Permalink to “تجريد الأنواع”">​</a></h2><p><strong>تمت الإضافة في: v22.6.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[مستقر: 1 - تجريبي]</p><p><a href="/ar/nodejs/api/documentation#stability-index">مستقر: 1</a> <a href="/ar/nodejs/api/documentation#stability-index">الاستقرار: 1</a>.1 - تطوير نشط</p></div><p>تمكن العلامة <a href="/ar/nodejs/api/cli#experimental-strip-types"><code>--experimental-strip-types</code></a> Node.js من تشغيل ملفات TypeScript. بشكل افتراضي، ستنفذ Node.js فقط الملفات التي لا تحتوي على ميزات TypeScript التي تتطلب التحويل، مثل التعدادات أو مساحات الأسماء. ستقوم Node.js باستبدال تعليقات توضيحية للأنواع المضمنة بمسافة بيضاء، ولا يتم إجراء أي فحص للأنواع. لتمكين تحويل هذه الميزات، استخدم العلامة <a href="/ar/nodejs/api/cli#experimental-transform-types"><code>--experimental-transform-types</code></a>. ميزات TypeScript التي تعتمد على الإعدادات داخل <code>tsconfig.json</code>، مثل المسارات أو تحويل بناء JavaScript الأحدث إلى معايير أقدم، غير مدعومة عن قصد. للحصول على دعم كامل لـ TypeScript، انظر <a href="/ar/nodejs/api/typescript#full-typescript-support">دعم كامل لـ TypeScript</a>.</p><p>تم تصميم ميزة تجريد الأنواع لتكون خفيفة الوزن. من خلال عدم دعم بناء الجملة التي تتطلب إنشاء كود JavaScript عن قصد، واستبدال الأنواع المضمنة بمسافة بيضاء، يمكن لـ Node.js تشغيل كود TypeScript دون الحاجة إلى خرائط المصدر.</p><p>يعمل تجريد الأنواع مع معظم إصدارات TypeScript ولكن نوصي بالإصدار 5.7 أو أحدث مع إعدادات <code>tsconfig.json</code> التالية:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;compilerOptions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     &quot;target&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;esnext&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nodenext&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     &quot;allowImportingTsExtensions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     &quot;rewriteRelativeImportExtensions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     &quot;verbatimModuleSyntax&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="determining-module-system" tabindex="-1">تحديد نظام الوحدة <a class="header-anchor" href="#determining-module-system" aria-label="Permalink to “تحديد نظام الوحدة”">​</a></h3><p>يدعم Node.js كلاً من <a href="/ar/nodejs/api/modules">CommonJS</a> و <a href="/ar/nodejs/api/esm">ES Modules</a> في ملفات TypeScript. لن يقوم Node.js بالتحويل من نظام وحدة إلى آخر؛ إذا كنت تريد تشغيل التعليمات البرمجية الخاصة بك كوحدة ES، فيجب عليك استخدام بناء الجملة <code>import</code> و <code>export</code>، وإذا كنت تريد تشغيل التعليمات البرمجية الخاصة بك كوحدة CommonJS، فيجب عليك استخدام بناء الجملة <code>require</code> و <code>module.exports</code>.</p><ul><li>سيتم تحديد نظام الوحدة للملفات <code>.ts</code> <a href="/ar/nodejs/api/packages#determining-module-system">بنفس طريقة الملفات <code>.js</code>.</a> لاستخدام بناء الجملة <code>import</code> و <code>export</code>، أضف <code>&quot;type&quot;: &quot;module&quot;</code> إلى أقرب ملف <code>package.json</code> أب.</li><li>سيتم دائمًا تشغيل الملفات <code>.mts</code> كوحدات ES، على غرار الملفات <code>.mjs</code>.</li><li>سيتم دائمًا تشغيل الملفات <code>.cts</code> كوحدات CommonJS، على غرار الملفات <code>.cjs</code>.</li><li>الملفات <code>.tsx</code> غير مدعومة.</li></ul><p>كما هو الحال في ملفات JavaScript، <a href="/ar/nodejs/api/esm#mandatory-file-extensions">ملحقات الملفات إلزامية</a> في عبارات <code>import</code> وتعبيرات <code>import()</code>: <code>import &#39;./file.ts&#39;</code>، وليس <code>import &#39;./file&#39;</code>. بسبب التوافق مع الإصدارات السابقة، فإن ملحقات الملفات إلزامية أيضًا في استدعاءات <code>require()</code>: <code>require(&#39;./file.ts&#39;)</code>، وليس <code>require(&#39;./file&#39;)</code>، على غرار كيفية إلزامية الملحق <code>.cjs</code> في استدعاءات <code>require</code> في ملفات CommonJS.</p><p>سيسمح خيار <code>tsconfig.json</code> المسمى <code>allowImportingTsExtensions</code> لمترجم TypeScript <code>tsc</code> بالتحقق من أنواع الملفات التي تحتوي على محددات <code>import</code> التي تتضمن الملحق <code>.ts</code>.</p><h3 id="typescript-features" tabindex="-1">ميزات TypeScript <a class="header-anchor" href="#typescript-features" aria-label="Permalink to “ميزات TypeScript”">​</a></h3><p>نظرًا لأن Node.js يقوم فقط بإزالة الأنواع المضمنة، فإن أي ميزات TypeScript تتضمن <em>استبدال</em> بناء جملة TypeScript ببناء جملة JavaScript جديد ستؤدي إلى حدوث خطأ، ما لم يتم تمرير العلامة <a href="/ar/nodejs/api/cli#experimental-transform-types"><code>--experimental-transform-types</code></a>.</p><p>أبرز الميزات التي تتطلب التحويل هي:</p><ul><li><code>Enum</code></li><li><code>namespaces</code></li><li><code>legacy module</code></li><li>خصائص المعلمات</li></ul><p>نظرًا لأن Decorators هي حاليًا <a href="https://github.com/tc39/proposal-decorators" target="_blank" rel="noreferrer">اقتراح TC39 في المرحلة 3</a> وسيتم دعمها قريبًا بواسطة محرك JavaScript، فإنه لا يتم تحويلها وستؤدي إلى خطأ في المحلل اللغوي. هذا قيد مؤقت وسيتم حله في المستقبل.</p><p>بالإضافة إلى ذلك، لا يقرأ Node.js ملفات <code>tsconfig.json</code> ولا يدعم الميزات التي تعتمد على الإعدادات الموجودة داخل <code>tsconfig.json</code>، مثل المسارات أو تحويل بناء جملة JavaScript الأحدث إلى معايير أقدم.</p><h3 id="importing-types-without-type-keyword" tabindex="-1">استيراد الأنواع بدون الكلمة المفتاحية <code>type</code> <a class="header-anchor" href="#importing-types-without-type-keyword" aria-label="Permalink to “استيراد الأنواع بدون الكلمة المفتاحية type”">​</a></h3><p>نظرًا لطبيعة إزالة الأنواع، فإن الكلمة المفتاحية <code>type</code> ضرورية لإزالة استيراد الأنواع بشكل صحيح. بدون الكلمة المفتاحية <code>type</code>، ستعامل Node.js الاستيراد على أنه استيراد قيمة، مما سيؤدي إلى خطأ وقت التشغيل. يمكن استخدام خيار tsconfig <a href="https://www.typescriptlang.org/tsconfig/#verbatimModuleSyntax" target="_blank" rel="noreferrer"><code>verbatimModuleSyntax</code></a> لمطابقة هذا السلوك.</p><p>هذا المثال سيعمل بشكل صحيح:</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Type1, Type2 } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./module.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { fn, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FnParams } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./fn.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>سيؤدي هذا إلى خطأ وقت التشغيل:</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Type1, Type2 } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./module.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { fn, FnParams } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./fn.ts&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="non-file-forms-of-input" tabindex="-1">نماذج الإدخال غير الملفية <a class="header-anchor" href="#non-file-forms-of-input" aria-label="Permalink to “نماذج الإدخال غير الملفية”">​</a></h3><p>يمكن تمكين إزالة الأنواع لـ <code>--eval</code>. سيتم تحديد نظام الوحدات بواسطة <code>--input-type</code>، كما هو الحال بالنسبة لـ JavaScript.</p><p>بناء TypeScript غير مدعوم في REPL، إدخال STDIN، <code>--print</code>، <code>--check</code>، و <code>inspect</code>.</p><h3 id="source-maps" tabindex="-1">خرائط المصدر <a class="header-anchor" href="#source-maps" aria-label="Permalink to “خرائط المصدر”">​</a></h3><p>نظرًا لأن الأنواع المضمنة يتم استبدالها بمسافات بيضاء، فإن خرائط المصدر غير ضرورية لأرقام الأسطر الصحيحة في تتبعات المكدس؛ ولا تولدها Node.js. عند تمكين <a href="/ar/nodejs/api/cli#experimental-transform-types"><code>--experimental-transform-types</code></a>، يتم تمكين خرائط المصدر افتراضيًا.</p><h3 id="type-stripping-in-dependencies" tabindex="-1">إزالة الأنواع في التبعيات <a class="header-anchor" href="#type-stripping-in-dependencies" aria-label="Permalink to “إزالة الأنواع في التبعيات”">​</a></h3><p>لتثبيط مؤلفي الحزم من نشر حزم مكتوبة بلغة TypeScript، سترفض Node.js افتراضيًا التعامل مع ملفات TypeScript داخل مجلدات تحت مسار <code>node_modules</code>.</p><h3 id="paths-aliases" tabindex="-1">مسارات الأسماء المستعارة <a class="header-anchor" href="#paths-aliases" aria-label="Permalink to “مسارات الأسماء المستعارة”">​</a></h3><p><a href="https://www.typescriptlang.org/tsconfig/#paths" target="_blank" rel="noreferrer"><code>tsconfig</code> &quot;paths&quot;</a> لن يتم تحويلها وبالتالي ستنتج خطأ. أقرب ميزة متاحة هي <a href="/ar/nodejs/api/packages#subpath-imports">استيراد المسارات الفرعية</a> مع القيود التي تحتاج إلى البدء بـ <code>#</code>.</p>`,40)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};