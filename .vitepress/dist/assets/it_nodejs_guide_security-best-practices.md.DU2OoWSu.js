import{__plugin_vue_export_helper_default as e,createElementBlock as t,createStaticVNode as n,openBlock as r}from"./chunks/plugin-vue_export-helper.Bts1mPc7.js";const i=JSON.parse(`{"title":"Migliori pratiche di sicurezza per le applicazioni Node.js","description":"Una guida completa per proteggere le applicazioni Node.js, coprendo la modellazione delle minacce, le migliori pratiche e la mitigazione delle vulnerabilità comuni come il rifiuto del servizio, la riassegnazione DNS e l'esposizione di informazioni sensibili.","frontmatter":{"title":"Migliori pratiche di sicurezza per le applicazioni Node.js","description":"Una guida completa per proteggere le applicazioni Node.js, coprendo la modellazione delle minacce, le migliori pratiche e la mitigazione delle vulnerabilità comuni come il rifiuto del servizio, la riassegnazione DNS e l'esposizione di informazioni sensibili.","head":[["meta",{"name":"og:title","content":"Migliori pratiche di sicurezza per le applicazioni Node.js | Node.js - iDoc.dev"}],["meta",{"name":"og:description","content":"Una guida completa per proteggere le applicazioni Node.js, coprendo la modellazione delle minacce, le migliori pratiche e la mitigazione delle vulnerabilità comuni come il rifiuto del servizio, la riassegnazione DNS e l'esposizione di informazioni sensibili."}],["meta",{"name":"twitter:title","content":"Migliori pratiche di sicurezza per le applicazioni Node.js | Node.js - iDoc.dev"}],["meta",{"name":"twitter:description","content":"Una guida completa per proteggere le applicazioni Node.js, coprendo la modellazione delle minacce, le migliori pratiche e la mitigazione delle vulnerabilità comuni come il rifiuto del servizio, la riassegnazione DNS e l'esposizione di informazioni sensibili."}],["link",{"rel":"canonical","href":"https://idoc.dev/it/nodejs/guide/security-best-practices"}],["meta",{"property":"og:url","content":"https://idoc.dev/it/nodejs/guide/security-best-practices"}]]},"headers":[],"relativePath":"it/nodejs/guide/security-best-practices.md","filePath":"it/nodejs/guide/security-best-practices.md","lastUpdated":null}`),a={name:`it/nodejs/guide/security-best-practices.md`};function o(e,i,a,o,s,c){return r(),t(`div`,null,i[0]||=[n(`<h1 id="best-practice-per-la-sicurezza" tabindex="-1">Best Practice per la Sicurezza <a class="header-anchor" href="#best-practice-per-la-sicurezza" aria-label="Permalink to “Best Practice per la Sicurezza”">​</a></h1><h3 id="intento" tabindex="-1">Intento <a class="header-anchor" href="#intento" aria-label="Permalink to “Intento”">​</a></h3><p>Questo documento intende estendere l&#39;attuale <a href="/it/nodejs/guide/security-best-practices#threat-model">modello delle minacce</a> e fornire linee guida estese su come proteggere un&#39;applicazione Node.js.</p><h2 id="contenuto-del-documento" tabindex="-1">Contenuto del Documento <a class="header-anchor" href="#contenuto-del-documento" aria-label="Permalink to “Contenuto del Documento”">​</a></h2><ul><li>Best practice: Un modo semplificato e condensato per vedere le best practice. Possiamo usare <a href="https://github.com/nodejs/security-wg/issues/488" target="_blank" rel="noreferrer">questo issue</a> o <a href="https://github.com/goldbergyoni/nodebestpractices" target="_blank" rel="noreferrer">questa linea guida</a> come punto di partenza. È importante notare che questo documento è specifico per Node.js, se stai cercando qualcosa di più ampio, considera <a href="https://github.com/ossf/wg-best-practices-os-developers" target="_blank" rel="noreferrer">OSSF Best Practices</a>.</li><li>Attacchi spiegati: illustrare e documentare in un linguaggio semplice con alcuni esempi di codice (se possibile) degli attacchi che stiamo menzionando nel modello delle minacce.</li><li>Librerie di Terze Parti: definire le minacce (attacchi typosquatting, pacchetti dannosi...) e le best practice riguardanti le dipendenze dei moduli node, ecc...</li></ul><h2 id="elenco-delle-minacce" tabindex="-1">Elenco delle Minacce <a class="header-anchor" href="#elenco-delle-minacce" aria-label="Permalink to “Elenco delle Minacce”">​</a></h2><h3 id="denial-of-service-del-server-http-cwe-400" tabindex="-1">Denial of Service del server HTTP (CWE-400) <a class="header-anchor" href="#denial-of-service-del-server-http-cwe-400" aria-label="Permalink to “Denial of Service del server HTTP (CWE-400)”">​</a></h3><p>Questo è un attacco in cui l&#39;applicazione diventa non disponibile per lo scopo per cui è stata progettata a causa del modo in cui elabora le richieste HTTP in entrata. Queste richieste non devono essere necessariamente create intenzionalmente da un attore malintenzionato: un client mal configurato o difettoso può anche inviare un modello di richieste al server che si traduce in un denial of service.</p><p>Le richieste HTTP vengono ricevute dal server HTTP di Node.js e consegnate al codice dell&#39;applicazione tramite il gestore di richieste registrato. Il server non analizza il contenuto del corpo della richiesta. Pertanto, qualsiasi DoS causato dal contenuto del corpo dopo che è stato consegnato al gestore di richieste non è una vulnerabilità in Node.js stesso, poiché è responsabilità del codice dell&#39;applicazione gestirlo correttamente.</p><p>Assicurarsi che il WebServer gestisca correttamente gli errori socket, ad esempio, quando un server viene creato senza un gestore di errori, sarà vulnerabile al DoS.</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> net </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:net&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> net.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">socket</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // socket.on(&#39;error&#39;, console.error)</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // questo impedisce al server di bloccarsi</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Echo server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\r\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;0.0.0.0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><em>Se viene eseguita una richiesta errata, il server potrebbe bloccarsi.</em></p><p>Un esempio di attacco DoS che non è causato dal contenuto della richiesta è Slowloris. In questo attacco, le richieste HTTP vengono inviate lentamente e frammentate, un frammento alla volta. Fino a quando la richiesta completa non viene consegnata, il server manterrà le risorse dedicate alla richiesta in corso. Se un numero sufficiente di queste richieste viene inviato contemporaneamente, la quantità di connessioni simultanee raggiungerà presto il suo massimo, con conseguente denial of service. Questo è il modo in cui l&#39;attacco dipende non dal contenuto della richiesta, ma dalla tempistica e dallo schema delle richieste inviate al server.</p><h4 id="mitigazioni" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni" aria-label="Permalink to “Mitigazioni”">​</a></h4><ul><li>Utilizzare un proxy inverso per ricevere e inoltrare le richieste all&#39;applicazione Node.js. I proxy inversi possono fornire caching, bilanciamento del carico, inserimento di IP in blacklist, ecc. che riducono la probabilità che un attacco DoS sia efficace.</li><li>Configurare correttamente i timeout del server, in modo che le connessioni inattive o in cui le richieste arrivano troppo lentamente possano essere interrotte. Vedere i diversi timeout in <code>http.Server</code>, in particolare <code>headersTimeout</code>, <code>requestTimeout</code>, <code>timeout</code> e <code>keepAliveTimeout</code>.</li><li>Limitare il numero di socket aperti per host e in totale. Vedere la <a href="/it/nodejs/api/http">documentazione http</a>, in particolare <code>agent.maxSockets</code>, <code>agent.maxTotalSockets</code>, <code>agent.maxFreeSockets</code> e <code>server.maxRequestsPerSocket</code>.</li></ul><h3 id="dns-rebinding-cwe-346" tabindex="-1">DNS Rebinding (CWE-346) <a class="header-anchor" href="#dns-rebinding-cwe-346" aria-label="Permalink to “DNS Rebinding (CWE-346)”">​</a></h3><p>Questo è un attacco che può prendere di mira le applicazioni Node.js in esecuzione con l&#39;ispettore di debug abilitato tramite l&#39;opzione <a href="/it/nodejs/guide/debugging-nodejs">--inspect</a>.</p><p>Poiché i siti web aperti in un browser web possono effettuare richieste WebSocket e HTTP, possono prendere di mira l&#39;ispettore di debug in esecuzione localmente. Ciò è solitamente impedito dalla <a href="/it/nodejs/guide/debugging-nodejs">politica della stessa origine</a> implementata dai browser moderni, che vieta agli script di raggiungere risorse da origini diverse (il che significa che un sito web dannoso non può leggere dati richiesti da un indirizzo IP locale).</p><p>Tuttavia, attraverso il DNS rebinding, un aggressore può temporaneamente controllare l&#39;origine delle proprie richieste in modo che sembrino provenire da un indirizzo IP locale. Ciò viene fatto controllando sia un sito web sia il server DNS utilizzato per risolvere il suo indirizzo IP. Vedere <a href="https://en.wikipedia.org/wiki/DNS_rebinding" target="_blank" rel="noreferrer">DNS Rebinding wiki</a> per maggiori dettagli.</p><h4 id="mitigazioni-1" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni-1" aria-label="Permalink to “Mitigazioni”">​</a></h4><ul><li>Disabilitare l&#39;ispettore sul segnale SIGUSR1 collegando un listener <code>process.on(‘SIGUSR1’, …)</code> ad esso.</li><li>Non eseguire il protocollo dell&#39;ispettore in produzione.</li></ul><h3 id="esposizione-di-informazioni-sensibili-a-un-attore-non-autorizzato-cwe-552" tabindex="-1">Esposizione di informazioni sensibili a un attore non autorizzato (CWE-552) <a class="header-anchor" href="#esposizione-di-informazioni-sensibili-a-un-attore-non-autorizzato-cwe-552" aria-label="Permalink to “Esposizione di informazioni sensibili a un attore non autorizzato (CWE-552)”">​</a></h3><p>Tutti i file e le cartelle inclusi nella directory corrente vengono inviati al registro npm durante la pubblicazione del pacchetto.</p><p>Esistono alcuni meccanismi per controllare questo comportamento definendo una blocklist con <code>.npmignore</code> e <code>.gitignore</code> o definendo una allowlist nel <code>package.json</code>.</p><h4 id="misure-di-mitigazione" tabindex="-1">Misure di mitigazione <a class="header-anchor" href="#misure-di-mitigazione" aria-label="Permalink to “Misure di mitigazione”">​</a></h4><ul><li>Utilizzare <code>npm publish --dry-run</code> per elencare tutti i file da pubblicare. Assicurarsi di rivedere il contenuto prima di pubblicare il pacchetto.</li><li>È inoltre importante creare e mantenere file di esclusione come <code>.gitignore</code> e <code>.npmignore</code>. All&#39;interno di questi file, è possibile specificare quali file/cartelle non devono essere pubblicati. La <a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json#files" target="_blank" rel="noreferrer">proprietà files</a> in <code>package.json</code> consente l&#39;operazione inversa: <code>-- allowed</code> list.</li><li>In caso di esposizione, assicurarsi di <a href="https://docs.npmjs.com/unpublishing-packages-from-the-registry" target="_blank" rel="noreferrer">annullare la pubblicazione del pacchetto</a>.</li></ul><h3 id="http-request-smuggling-cwe-444" tabindex="-1">HTTP Request Smuggling (CWE-444) <a class="header-anchor" href="#http-request-smuggling-cwe-444" aria-label="Permalink to “HTTP Request Smuggling (CWE-444)”">​</a></h3><p>Questo è un attacco che coinvolge due server HTTP (solitamente un proxy e un&#39;applicazione Node.js). Un client invia una richiesta HTTP che passa prima attraverso il server front-end (il proxy) e poi viene reindirizzata al server back-end (l&#39;applicazione). Quando il front-end e il back-end interpretano in modo diverso le richieste HTTP ambigue, c&#39;è il potenziale per un attaccante di inviare un messaggio dannoso che non sarà visto dal front-end ma sarà visto dal back-end, &quot;contrabbandandolo&quot; efficacemente oltre il server proxy.</p><p>Vedere <a href="https://cwe.mitre.org/data/definitions/444.html" target="_blank" rel="noreferrer">CWE-444</a> per una descrizione più dettagliata ed esempi.</p><p>Poiché questo attacco dipende dal fatto che Node.js interpreta le richieste HTTP in modo diverso da un server HTTP (arbitrario), un attacco riuscito può essere dovuto a una vulnerabilità in Node.js, nel server front-end o in entrambi. Se il modo in cui la richiesta viene interpretata da Node.js è coerente con la specifica HTTP (vedere <a href="https://datatracker.org/doc/html/rfc7230#section-3" target="_blank" rel="noreferrer">RFC7230</a>), allora non è considerata una vulnerabilità in Node.js.</p><h4 id="misure-di-mitigazione-1" tabindex="-1">Misure di mitigazione <a class="header-anchor" href="#misure-di-mitigazione-1" aria-label="Permalink to “Misure di mitigazione”">​</a></h4><ul><li>Non utilizzare l&#39;opzione <code>insecureHTTPParser</code> durante la creazione di un server HTTP.</li><li>Configurare il server front-end per normalizzare le richieste ambigue.</li><li>Monitorare continuamente nuove vulnerabilità di HTTP request smuggling sia in Node.js che nel server front-end di scelta.</li><li>Utilizzare HTTP/2 end-to-end e disabilitare il downgrade HTTP, se possibile.</li></ul><h3 id="esposizione-di-informazioni-tramite-attacchi-temporali-cwe-208" tabindex="-1">Esposizione di informazioni tramite attacchi temporali (CWE-208) <a class="header-anchor" href="#esposizione-di-informazioni-tramite-attacchi-temporali-cwe-208" aria-label="Permalink to “Esposizione di informazioni tramite attacchi temporali (CWE-208)”">​</a></h3><p>Questo è un attacco che consente all&#39;attaccante di apprendere informazioni potenzialmente sensibili, ad esempio misurando il tempo impiegato dall&#39;applicazione per rispondere a una richiesta. Questo attacco non è specifico per Node.js e può prendere di mira quasi tutti i runtime.</p><p>L&#39;attacco è possibile ogni volta che l&#39;applicazione utilizza un segreto in un&#39;operazione sensibile al tempo (ad esempio, una ramificazione). Considera la gestione dell&#39;autenticazione in una tipica applicazione. Qui, un metodo di autenticazione di base include e-mail e password come credenziali. Le informazioni sull&#39;utente vengono recuperate dall&#39;input fornito dall&#39;utente, idealmente da un DBMS. Dopo aver recuperato le informazioni sull&#39;utente, la password viene confrontata con le informazioni sull&#39;utente recuperate dal database. L&#39;utilizzo del confronto di stringhe integrato richiede più tempo per i valori della stessa lunghezza. Questo confronto, se eseguito per un tempo accettabile, aumenta involontariamente il tempo di risposta della richiesta. Confrontando i tempi di risposta delle richieste, un attaccante può indovinare la lunghezza e il valore della password in una grande quantità di richieste.</p><h4 id="mitigazioni-2" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni-2" aria-label="Permalink to “Mitigazioni”">​</a></h4><ul><li>L&#39;API crypto espone una funzione <code>timingSafeEqual</code> per confrontare i valori sensibili effettivi e previsti utilizzando un algoritmo a tempo costante.</li><li>Per il confronto delle password, è possibile utilizzare <a href="/it/nodejs/api/crypto">scrypt</a> disponibile anche sul modulo crypto nativo.</li><li>Più in generale, evitare di utilizzare segreti in operazioni a tempo variabile. Ciò include la ramificazione sui segreti e, quando l&#39;attaccante potrebbe trovarsi nella stessa infrastruttura (ad esempio, la stessa macchina cloud), l&#39;utilizzo di un segreto come indice in memoria. Scrivere codice a tempo costante in JavaScript è difficile (in parte a causa del JIT). Per le applicazioni crittografiche, utilizzare le API crittografiche integrate o WebAssembly (per algoritmi non implementati nativamente).</li></ul><h3 id="moduli-dannosi-di-terze-parti-cwe-1357" tabindex="-1">Moduli dannosi di terze parti (CWE-1357) <a class="header-anchor" href="#moduli-dannosi-di-terze-parti-cwe-1357" aria-label="Permalink to “Moduli dannosi di terze parti (CWE-1357)”">​</a></h3><p>Attualmente, in Node.js, qualsiasi pacchetto può accedere a risorse potenti come l&#39;accesso alla rete. Inoltre, poiché hanno anche accesso al file system, possono inviare qualsiasi dato ovunque.</p><p>Tutto il codice in esecuzione in un processo node ha la capacità di caricare ed eseguire codice arbitrario aggiuntivo utilizzando <code>eval()</code> (o i suoi equivalenti). Tutto il codice con accesso in scrittura al file system può ottenere la stessa cosa scrivendo su file nuovi o esistenti che vengono caricati.</p><p>Node.js ha un <a href="/it/nodejs/api/permissions">meccanismo di policy</a> sperimentale¹ per dichiarare la risorsa caricata come non attendibile o attendibile. Tuttavia, questa politica non è abilitata per impostazione predefinita. Assicurati di bloccare le versioni delle dipendenze ed esegui controlli automatici per le vulnerabilità utilizzando flussi di lavoro comuni o script npm. Prima di installare un pacchetto, assicurati che questo pacchetto sia mantenuto e includa tutti i contenuti che ti aspetti. Fai attenzione, il codice sorgente di GitHub non è sempre lo stesso di quello pubblicato, convalidalo in <code>node_modules</code>.</p><h4 id="attacchi-alla-catena-di-approvvigionamento" tabindex="-1">Attacchi alla catena di approvvigionamento <a class="header-anchor" href="#attacchi-alla-catena-di-approvvigionamento" aria-label="Permalink to “Attacchi alla catena di approvvigionamento”">​</a></h4><p>Un attacco alla catena di approvvigionamento su un&#39;applicazione Node.js si verifica quando una delle sue dipendenze (dirette o transitive) è compromessa. Ciò può accadere a causa dell&#39;eccessiva lassità dell&#39;applicazione nella specifica delle dipendenze (consentendo aggiornamenti indesiderati) e/o di errori di battitura comuni nella specifica (vulnerabili al <a href="https://en.wikipedia.org/wiki/Typosquatting" target="_blank" rel="noreferrer">typosquatting</a>).</p><p>Un aggressore che prende il controllo di un pacchetto a monte può pubblicare una nuova versione con codice dannoso al suo interno. Se un&#39;applicazione Node.js dipende da quel pacchetto senza essere rigorosa su quale versione è sicura da usare, il pacchetto può essere automaticamente aggiornato all&#39;ultima versione dannosa, compromettendo l&#39;applicazione.</p><p>Le dipendenze specificate nel file <code>package.json</code> possono avere un numero di versione esatto o un intervallo. Tuttavia, quando si blocca una dipendenza su un numero di versione esatto, le sue dipendenze transitive non vengono bloccate a loro volta. Questo lascia comunque l&#39;applicazione vulnerabile ad aggiornamenti indesiderati/inattesi.</p><p>Possibili vettori di attacco:</p><ul><li>Attacchi di Typosquatting</li><li>Avvelenamento del file di blocco (Lockfile poisoning)</li><li>Manutentori compromessi</li><li>Pacchetti dannosi</li><li>Confusione di dipendenze</li></ul><h5 id="mitigazioni-3" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni-3" aria-label="Permalink to “Mitigazioni”">​</a></h5><ul><li>Impedisci a npm di eseguire script arbitrari con <code>--ignore-scripts</code><ul><li>Inoltre, puoi disabilitarlo globalmente con <code>npm config set ignore-scripts true</code></li></ul></li><li>Blocca le versioni delle dipendenze su una specifica versione immutabile, non una versione che sia un intervallo o da una sorgente mutabile.</li><li>Usa i file di blocco (lockfiles), che bloccano ogni dipendenza (diretta e transitiva). <ul><li>Usa <a href="https://blog.ulisesgascon.com/lockfile-posioned" target="_blank" rel="noreferrer">Mitigations for lockfile poisoning</a>.</li></ul></li><li>Automatizza i controlli per nuove vulnerabilità utilizzando CI, con strumenti come <a href="https://www.npmjs.com/package/npm-audit" target="_blank" rel="noreferrer">npm-audit</a>. <ul><li>Strumenti come <code>Socket</code> possono essere utilizzati per analizzare i pacchetti con analisi statica per trovare comportamenti rischiosi come l&#39;accesso alla rete o al filesystem.</li></ul></li><li>Usa <code>npm ci</code> invece di <code>npm install</code>. Questo impone il file di blocco in modo che le incongruenze tra esso e il file <code>package.json</code> causino un errore (invece di ignorare silenziosamente il file di blocco a favore di <code>package.json</code>).</li><li>Controlla attentamente il file <code>package.json</code> per errori/errori di battitura nei nomi delle dipendenze.</li></ul><h3 id="violazione-dell-accesso-alla-memoria-cwe-284" tabindex="-1">Violazione dell&#39;accesso alla memoria (CWE-284) <a class="header-anchor" href="#violazione-dell-accesso-alla-memoria-cwe-284" aria-label="Permalink to “Violazione dell&#39;accesso alla memoria (CWE-284)”">​</a></h3><p>Gli attacchi basati sulla memoria o sull&#39;heap dipendono da una combinazione di errori di gestione della memoria e di un allocatore di memoria sfruttabile. Come tutti i runtime, Node.js è vulnerabile a questi attacchi se i tuoi progetti vengono eseguiti su una macchina condivisa. L&#39;utilizzo di un heap sicuro è utile per prevenire la perdita di informazioni sensibili a causa di overrun e underrun del puntatore.</p><p>Sfortunatamente, un heap sicuro non è disponibile su Windows. Ulteriori informazioni sono disponibili nella <a href="/it/nodejs/api/cli">documentazione secure-heap</a> di Node.js.</p><h4 id="mitigazioni-4" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni-4" aria-label="Permalink to “Mitigazioni”">​</a></h4><ul><li>Usa <code>--secure-heap=n</code> a seconda della tua applicazione, dove n è la dimensione massima in byte allocata.</li><li>Non eseguire la tua app di produzione su una macchina condivisa.</li></ul><h3 id="monkey-patching-cwe-349" tabindex="-1">Monkey Patching (CWE-349) <a class="header-anchor" href="#monkey-patching-cwe-349" aria-label="Permalink to “Monkey Patching (CWE-349)”">​</a></h3><p>Il monkey patching si riferisce alla modifica delle proprietà in fase di runtime con l&#39;obiettivo di modificare il comportamento esistente. Esempio:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// eslint-disable-next-line no-extend-native</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // sovrascrive il [].push globale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="mitigazioni-5" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni-5" aria-label="Permalink to “Mitigazioni”">​</a></h4><p>Il flag <code>--frozen-intrinsics</code> abilita gli intrinsici congelati sperimentali¹, il che significa che tutti gli oggetti e le funzioni JavaScript integrati sono congelati ricorsivamente. Pertanto, il seguente snippet non sovrascriverà il comportamento predefinito di <code>Array.prototype.push</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// eslint-disable-next-line no-extend-native</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">prototype</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // sovrascrive il [].push globale</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Non rilevato:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TypeError &lt;Object &lt;Object &lt;[Object: null prototype] {}&gt;&gt;&gt;:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cannot assign to read only property &#39;push&#39; of object &#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Tuttavia, è importante ricordare che puoi comunque definire nuovi elementi globali e sostituire quelli esistenti utilizzando <code>globalThis</code></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">globalThis.foo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> puoi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> comunque</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> definire</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nuovi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> elementi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> globali</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">globalThis.Array</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Tuttavia,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> puoi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> anche</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sostituire</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> elementi</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> globali</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> esistenti</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Pertanto, <code>Object.freeze(globalThis)</code> può essere utilizzato per garantire che nessun elemento globale venga sostituito.</p><h3 id="attacchi-prototype-pollution-cwe-1321" tabindex="-1">Attacchi Prototype Pollution (CWE-1321) <a class="header-anchor" href="#attacchi-prototype-pollution-cwe-1321" aria-label="Permalink to “Attacchi Prototype Pollution (CWE-1321)”">​</a></h3><p>Prototype pollution si riferisce alla possibilità di modificare o iniettare proprietà negli elementi del linguaggio Javascript abusando dell&#39;uso di _<em>proto</em>, _constructor, prototype e altre proprietà ereditate dai prototipi integrati.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { a: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, b: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{&quot;__proto__&quot;: { &quot;polluted&quot;: true}}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({}, a, data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c.polluted) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Potenziale DoS</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{&quot;__proto__&quot;: null}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">assign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, data2)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasOwnProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;b&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Uncaught TypeError: d.hasOwnProperty is not a function</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Questa è una potenziale vulnerabilità ereditata dal linguaggio JavaScript.</p><h4 id="esempi" tabindex="-1">Esempi <a class="header-anchor" href="#esempi" aria-label="Permalink to “Esempi”">​</a></h4><ul><li><a href="https://www.cvedetails.com/cve/CVE-2022-21824/" target="_blank" rel="noreferrer">CVE-2022-21824</a> (Node.js)</li><li><a href="https://www.cvedetails.com/cve/CVE-2018-3721/" target="_blank" rel="noreferrer">CVE-2018-3721</a> (Libreria di terze parti: Lodash)</li></ul><h4 id="mitigazioni-6" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni-6" aria-label="Permalink to “Mitigazioni”">​</a></h4><ul><li>Evitare <a href="https://gist.github.com/DaniAkash/b3d7159fddcff0a9ee035bd10e34b277#file-unsafe-merge-js" target="_blank" rel="noreferrer">unioni ricorsive non sicure</a>, vedere <a href="https://www.cve.org/CVERecord?id=CVE-2018-16487" target="_blank" rel="noreferrer">CVE-2018-16487</a>.</li><li>Implementare le validazioni dello schema JSON per richieste esterne/non attendibili.</li><li>Creare oggetti senza prototipo utilizzando <code>Object.create(null)</code>.</li><li>Congelare il prototipo: <code>Object.freeze(MyObject.prototype)</code>.</li><li>Disabilitare la proprietà <code>Object.prototype.__proto__</code> usando il flag <code>--disable-proto</code>.</li><li>Controllare che la proprietà esista direttamente sull&#39;oggetto, non dal prototipo, usando <code>Object.hasOwn(obj, keyFromObj)</code>.</li><li>Evitare di usare metodi da <code>Object.prototype</code>.</li></ul><h3 id="elemento-del-percorso-di-ricerca-non-controllato-cwe-427" tabindex="-1">Elemento del percorso di ricerca non controllato (CWE-427) <a class="header-anchor" href="#elemento-del-percorso-di-ricerca-non-controllato-cwe-427" aria-label="Permalink to “Elemento del percorso di ricerca non controllato (CWE-427)”">​</a></h3><p>Node.js carica i moduli seguendo l&#39;<a href="/it/nodejs/api/modules">algoritmo di risoluzione dei moduli</a>. Pertanto, presume che la directory in cui viene richiesto (require) un modulo sia attendibile.</p><p>Con ciò, si intende il seguente comportamento dell&#39;applicazione. Supponendo la seguente struttura di directory:</p><ul><li>app/ <ul><li>server.js</li><li>auth.js</li><li>auth</li></ul></li></ul><p>Se server.js usa <code>require(&#39;./auth&#39;)</code> seguirà l&#39;algoritmo di risoluzione dei moduli e caricherà auth invece di <code>auth.js</code>.</p><h4 id="mitigazioni-7" tabindex="-1">Mitigazioni <a class="header-anchor" href="#mitigazioni-7" aria-label="Permalink to “Mitigazioni”">​</a></h4><p>Usare il <a href="/it/nodejs/api/permissions">meccanismo di policy sperimentale¹ con controllo di integrità</a> può evitare la minaccia sopra descritta. Per la directory descritta sopra, si può usare il seguente <code>policy.json</code></p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;resources&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./app/auth.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;integrity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sha256-iuGZ6SFVFpMuHUcJciQTIKpIyaQVigMZlvg9Lx66HV8=&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./app/server.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;dependencies&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;./auth&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./app/auth.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;integrity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sha256-NPtLCQ0ntPPWgfVEgX46ryTNpdvTWdQPoZO3kHo0bKI=&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>Pertanto, quando si richiede il modulo auth, il sistema convaliderà l&#39;integrità e genererà un errore se non corrisponde a quella prevista.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">»</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --experimental-policy=policy.json</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app/server.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node:internal/policy/sri:65</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      throw</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ERR_SRI_PARSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">str,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> str[prevIndex],</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prevIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      ^</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SyntaxError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ERR_SRI_PARSE]: Subresource Integrity string </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sha256-iuGZ6SFVFpMuHUcJciQTIKpIyaQVigMZlvg9Lx66HV8=%&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> had an unexpected </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> at position 51</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> new</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NodeError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/errors:393:5)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Object.parse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/policy/sri:65:13)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> processEntry</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/policy/manifest:581:38)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Manifest.assertIntegrity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/policy/manifest:588:32)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Module._compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/modules/cjs/loader:1119:21)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Module._extensions..js</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/modules/cjs/loader:1213:10)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Module.load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/modules/cjs/loader:1037:32)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Module._load</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/modules/cjs/loader:878:12)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Module.require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/modules/cjs/loader:1061:19)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    at</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (node:internal/modules/cjs/helpers:99:18) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  code:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ERR_SRI_PARSE&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Nota: è sempre consigliabile usare <code>--policy-integrity</code> per evitare mutazioni delle policy.</p><h2 id="funzionalita-sperimentali-in-produzione" tabindex="-1">Funzionalità sperimentali in produzione <a class="header-anchor" href="#funzionalita-sperimentali-in-produzione" aria-label="Permalink to “Funzionalità sperimentali in produzione”">​</a></h2><p>L&#39;uso di funzionalità sperimentali in produzione non è raccomandato. Le funzionalità sperimentali possono subire modifiche che causano problemi se necessario, e la loro funzionalità non è stabilmente sicura. Tuttavia, il feedback è molto apprezzato.</p><h2 id="strumenti-openssf" tabindex="-1">Strumenti OpenSSF <a class="header-anchor" href="#strumenti-openssf" aria-label="Permalink to “Strumenti OpenSSF”">​</a></h2><p>L&#39;<a href="https://www.openssf.org" target="_blank" rel="noreferrer">OpenSSF</a> sta guidando diverse iniziative che possono essere molto utili, specialmente se prevedi di pubblicare un pacchetto npm. Queste iniziative includono:</p><ul><li><a href="https://securityscorecards.dev/" target="_blank" rel="noreferrer">OpenSSF Scorecard</a> Scorecard valuta i progetti open source utilizzando una serie di controlli automatizzati dei rischi per la sicurezza. Puoi usarlo per valutare in modo proattivo le vulnerabilità e le dipendenze nella tua base di codice e prendere decisioni informate sull&#39;accettazione delle vulnerabilità.</li><li><a href="https://bestpractices.coreinfrastructure.org/en" target="_blank" rel="noreferrer">OpenSSF Best Practices Badge Program</a> I progetti possono auto-certificarsi volontariamente descrivendo come rispettano ogni best practice. Questo genererà un badge che può essere aggiunto al progetto.</li></ul>`,87)])}var s=e(a,[[`render`,o]]);export{i as __pageData,s as default};