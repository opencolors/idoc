<!DOCTYPE html>
<html lang="de" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node.js Dokumentation - TLS (Transport Layer Security) | API &amp; Leitfäden &amp; Entwicklerdokumentationszentrum</title>
    <meta name="description" content="Dieser Abschnitt der Node.js-Dokumentation behandelt das TLS-Modul (Transport Layer Security), das eine Implementierung der TLS- und SSL-Protokolle bietet. Es enthält Details zur Erstellung sicherer Verbindungen, zum Zertifikatsmanagement, zur Handhabung sicherer Kommunikation und verschiedene Optionen zur Konfiguration von TLS/SSL in Node.js-Anwendungen.">
    <meta name="generator" content="VitePress v2.0.0-alpha.5">
    <link rel="preload stylesheet" href="/assets/style.4-HONZjt.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.b396fbd4.js"></script>
    <script type="module" src="/assets/app.NvFkMFIO.js"></script>
    <link rel="modulepreload" href="/assets/chunks/plugin-vue_export-helper.Bts1mPc7.js">
    <link rel="modulepreload" href="/assets/chunks/translation.CRvAmi0k.js">
    <link rel="modulepreload" href="/assets/chunks/VPLocalSearchBox.DEL5Gh-3.js">
    <link rel="modulepreload" href="/assets/de_nodejs_api_tls.md.BI5TLCed.lean.js">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="icon" type="image/png" href="/logo.png">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="theme-color" content="#5f67ee">
    <meta property="og:type" content="website">
    <meta property="og:title" content="iDoc | API &amp; Guide for Developers">
    <meta property="og:site_name" content="iDoc">
    <meta property="og:image" content="https://idoc.dev/logo.svg">
    <meta property="og:url" content="https://idoc.dev/de/nodejs/api/tls">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="idoc.dev">
    <meta name="twitter:image" content="https://idoc.dev/logo.svg">
    <meta name="twitter:title" content="Node.js Dokumentation - TLS (Transport Layer Security) | Node.js - iDoc.dev">
    <meta name="twitter:creator" content="neo@idoc.dev">
    <meta name="twitter:url" content="https://node.idoc.dev/">
    <meta name="twitter:description" content="Dieser Abschnitt der Node.js-Dokumentation behandelt das TLS-Modul (Transport Layer Security), das eine Implementierung der TLS- und SSL-Protokolle bietet. Es enthält Details zur Erstellung sicherer Verbindungen, zum Zertifikatsmanagement, zur Handhabung sicherer Kommunikation und verschiedene Optionen zur Konfiguration von TLS/SSL in Node.js-Anwendungen.">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X0C67TVVXR"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-X0C67TVVXR");</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3961359407117622" crossorigin="anonymous"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="og:title" content="Node.js Dokumentation - TLS (Transport Layer Security) | Node.js - iDoc.dev">
    <meta name="og:description" content="Dieser Abschnitt der Node.js-Dokumentation behandelt das TLS-Modul (Transport Layer Security), das eine Implementierung der TLS- und SSL-Protokolle bietet. Es enthält Details zur Erstellung sicherer Verbindungen, zum Zertifikatsmanagement, zur Handhabung sicherer Kommunikation und verschiedene Optionen zur Konfiguration von TLS/SSL in Node.js-Anwendungen.">
    <link rel="canonical" href="https://idoc.dev/de/nodejs/api/tls">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-4539713c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-4539713c data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-cb5e22fa><div class="wrapper" data-v-cb5e22fa><div class="container" data-v-cb5e22fa><div class="title" data-v-cb5e22fa><div class="VPNavBarTitle has-sidebar" data-v-cb5e22fa data-v-d4488dd0><a class="title" href="/de/" data-v-d4488dd0><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" width="24" height="24" alt="iDoc.dev" data-v-ab19afbb><!--]--><span data-v-d4488dd0>iDoc</span><!--[--><!--]--></a></div></div><div class="content" data-v-cb5e22fa><div class="content-body" data-v-cb5e22fa><!--[--><!--]--><div class="VPNavBarSearch search" data-v-cb5e22fa><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="In Dokumenten suchen"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">In Dokumenten suchen</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-cb5e22fa data-v-020be4db><span id="main-nav-aria-label" class="visually-hidden" data-v-020be4db> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/de/nodejs/api/synopsis" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>API-Referenz</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/de/nodejs/guide/what-is-nodejs" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>Leitfaden</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-cb5e22fa data-v-acee064b data-v-9bb987dd><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Sprachen" data-v-9bb987dd><span class="text" data-v-9bb987dd><span class="vpi-languages option-icon" data-v-9bb987dd></span><!----><span class="vpi-chevron-down text-icon" data-v-9bb987dd></span></span></button><div class="menu" data-v-9bb987dd><div class="VPMenu" data-v-9bb987dd data-v-2f78439e><!----><!--[--><!--[--><div class="items" data-v-acee064b><p class="title" data-v-acee064b>Deutsch</p><!--[--><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>English</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/zh/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>简体中文</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/es/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Español</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/fr/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Français</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/pt/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/it/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Italiano</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ja/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>日本語</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ko/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ru/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Русский</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ar/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>العربية</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-cb5e22fa data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-cb5e22fa data-v-f953d92f data-v-9bb987dd><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9bb987dd><span class="vpi-more-horizontal icon" data-v-9bb987dd></span></button><div class="menu" data-v-9bb987dd><div class="VPMenu" data-v-9bb987dd data-v-2f78439e><!----><!--[--><!--[--><div class="group translations" data-v-f953d92f><p class="trans-title" data-v-f953d92f>Deutsch</p><!--[--><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>English</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/zh/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>简体中文</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/es/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Español</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/fr/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Français</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/pt/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/it/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Italiano</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ja/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>日本語</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ko/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ru/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Русский</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ar/nodejs/api/tls" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>العربية</span><!--]--></a></div><!--]--></div><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Thema</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-cb5e22fa data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-cb5e22fa><div class="divider-line" data-v-cb5e22fa></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-4539713c data-v-6c0451ca><div class="container" data-v-6c0451ca><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-6c0451ca><span class="vpi-align-left menu-icon" data-v-6c0451ca></span><span class="menu-text" data-v-6c0451ca>Menü</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-6c0451ca data-v-92b7576c><button data-v-92b7576c>Zurück nach oben</button><!----></div></div></div><aside class="VPSidebar" data-v-4539713c data-v-606f96d3><div class="curtain" data-v-606f96d3></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-606f96d3><span class="visually-hidden" id="sidebar-aria-label" data-v-606f96d3> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Einstiegshandbuch</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/documentation" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Über dieses Dokument</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/synopsis" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Verwendung und Beispiele</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Module</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/module" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Node:module API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/modules" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>CommonJS-Module</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/typescript" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>TypeScript-Module</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/esm" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>ECMAScript-Module</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/packages" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Paketverwaltung</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/corepack" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Corepack</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>HTTP und Netzwerke</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/http" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>HTTP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/http2" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>HTTP/2</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/https" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>HTTPS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/net" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Net</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/tls" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>TLS (SSL)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/dgram" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>UDP/Datagrammsockets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/dns" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>DNS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/tty" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>TTY</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/url" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>URL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/domain" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Domain</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Dateisystem und Pfade</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/fs" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Dateisystem</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/path" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Pfade</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Streams, Buffer und WASI</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/stream" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Streams</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/webstreams" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Web-Streams-API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/buffer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Buffer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/wasi" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>WebAssembly-Systemschnittstelle (WASI)</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Ereignisse, Kanäle und asynchrone Hooks</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/events" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Ereignisse</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/tracing" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Ereignisverfolgung</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/diagnostics_channel" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Diagnosekanal</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/async_hooks" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Asynchrone Hooks</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/async_context" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Asynchroner Kontext-Tracking</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Prozess, Cluster und Worker</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/process" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Prozess</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/child_process" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Unterprozesse</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/cluster" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Cluster</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/worker_threads" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Worker-Threads</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/permissions" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Berechtigungen</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>C++-Add-ons und Einbettungs-API</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/addons" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>C++-Add-ons</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/n-api" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>C/C++-Add-ons mit Node-API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/embedding" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>C++-Einbettungs-API</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Tests und Debugging</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/cli" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Befehlszeilenoptionen</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/test" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Test-Runner</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/assert" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Assertions für Tests</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/debugger" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Debugger</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/console" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Konsole</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/errors" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Fehlerbehandlung</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/timers" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Timer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/inspector" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Inspector</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/report" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Bericht</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/repl" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>REPL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/readline" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Readline</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/perf_hooks" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Leistungs-Hooks</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Werkzeuge und Hilfsprogramme</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/util" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Hilfsprogramme</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/crypto" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Kryptographie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/webcrypto" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Web-Kryptographie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/zlib" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Zlib</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/querystring" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Abfragezeichenkette</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/string_decoder" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>String-Decoder</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/sqlite" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>SQLite</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Sonstiges</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/intl" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Internationalisierung</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/globals" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Globale Objekte</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/single-executable-applications" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Einzelne ausführbare Anwendungen</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/os" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Betriebssystem</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/v8" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>V8-Engine</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/vm" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>VM-Modul</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/punycode" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Punycode</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/de/nodejs/api/deprecations" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Veraltete APIs</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-4539713c data-v-2652e39a><div class="VPDoc has-sidebar has-aside" data-v-2652e39a data-v-d668f7cc><!--[--><!--]--><div class="container" data-v-d668f7cc><div class="aside" data-v-d668f7cc><div class="aside-curtain" data-v-d668f7cc></div><div class="aside-container" data-v-d668f7cc><div class="aside-content" data-v-d668f7cc><div class="VPDocAside" data-v-d668f7cc data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-c8b19031><div class="content" data-v-c8b19031><div class="outline-marker" data-v-c8b19031></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c8b19031>Seitennavigation</div><ul class="VPDocOutlineItem root" data-v-c8b19031 data-v-b7d7ef80><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d668f7cc><div class="content-container" data-v-d668f7cc><!--[--><!--]--><main class="main" data-v-d668f7cc><div style="position:relative;" class="vp-doc _de_nodejs_api_tls" data-v-d668f7cc><div><h1 id="tls-ssl" tabindex="-1">TLS (SSL) <a class="header-anchor" href="#tls-ssl" aria-label="Permalink to “TLS (SSL)”">​</a></h1><div class="tip custom-block"><p class="custom-block-title">[Stabil: 2 - Stabil]</p><p><a href="/de/nodejs/api/documentation#stability-index">Stabil: 2</a> <a href="/de/nodejs/api/documentation#stability-index">Stabilität: 2</a> - Stabil</p></div><p><strong>Quellcode:</strong> <a href="https://github.com/nodejs/node/blob/v23.5.0/lib/tls.js" target="_blank" rel="noreferrer">lib/tls.js</a></p><p>Das Modul <code>node:tls</code> bietet eine Implementierung der Protokolle Transport Layer Security (TLS) und Secure Socket Layer (SSL), die auf OpenSSL aufbaut. Auf das Modul kann wie folgt zugegriffen werden:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-14" id="tab-15" checked><label data-title="ESM" for="tab-15">ESM</label><input type="radio" name="group-14" id="tab-16"><label data-title="CJS" for="tab-16">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tls </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tls</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><h2 id="determining-if-crypto-support-is-unavailable" tabindex="-1">Feststellen, ob die Crypto-Unterstützung nicht verfügbar ist <a class="header-anchor" href="#determining-if-crypto-support-is-unavailable" aria-label="Permalink to “Feststellen, ob die Crypto-Unterstützung nicht verfügbar ist”">​</a></h2><p>Es ist möglich, dass Node.js ohne Unterstützung für das Modul <code>node:crypto</code> erstellt wird. In solchen Fällen führt der Versuch, von <code>tls</code> zu <code>importieren</code> oder <code>require(&#39;node:tls&#39;)</code> aufzurufen, zu einem Fehler.</p><p>Bei Verwendung von CommonJS kann der ausgelöste Fehler mit try/catch abgefangen werden:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tls;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tls </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tls support is disabled!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Bei Verwendung des lexikalischen ESM-Schlüsselworts <code>import</code> kann der Fehler nur abgefangen werden, wenn ein Handler für <code>process.on(&#39;uncaughtException&#39;)</code> registriert wird, <em>bevor</em> ein Versuch unternommen wird, das Modul zu laden (z. B. mit einem Preload-Modul).</p><p>Wenn Sie ESM verwenden und die Möglichkeit besteht, dass der Code in einem Build von Node.js ausgeführt wird, in dem die Crypto-Unterstützung nicht aktiviert ist, sollten Sie die Funktion <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import" target="_blank" rel="noreferrer"><code>import()</code></a> anstelle des lexikalischen Schlüsselworts <code>import</code> verwenden:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tls;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tls </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tls support is disabled!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="tls/ssl-concepts" tabindex="-1">TLS/SSL-Konzepte <a class="header-anchor" href="#tls/ssl-concepts" aria-label="Permalink to “TLS/SSL-Konzepte”">​</a></h2><p>TLS/SSL ist eine Reihe von Protokollen, die auf einer Public-Key-Infrastruktur (PKI) basieren, um eine sichere Kommunikation zwischen einem Client und einem Server zu ermöglichen. In den meisten gängigen Fällen muss jeder Server einen privaten Schlüssel haben.</p><p>Private Schlüssel können auf verschiedene Arten generiert werden. Das folgende Beispiel veranschaulicht die Verwendung der OpenSSL-Befehlszeilenschnittstelle zum Generieren eines 2048-Bit-RSA-Privatschlüssels:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genrsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2048</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Mit TLS/SSL müssen alle Server (und einige Clients) ein <em>Zertifikat</em> haben. Zertifikate sind <em>öffentliche Schlüssel</em>, die einem privaten Schlüssel entsprechen und entweder von einer Zertifizierungsstelle oder vom Eigentümer des privaten Schlüssels digital signiert sind (solche Zertifikate werden als &quot;selbstsigniert&quot; bezeichnet). Der erste Schritt zum Erhalten eines Zertifikats ist das Erstellen einer <em>Zertifikatsignieranforderung</em>-Datei (CSR).</p><p>Die OpenSSL-Befehlszeilenschnittstelle kann verwendet werden, um eine CSR für einen privaten Schlüssel zu generieren:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> req</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sha256</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-csr.pem</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Sobald die CSR-Datei generiert wurde, kann sie entweder zum Signieren an eine Zertifizierungsstelle gesendet oder zum Generieren eines selbstsignierten Zertifikats verwendet werden.</p><p>Das Erstellen eines selbstsignierten Zertifikats mit der OpenSSL-Befehlszeilenschnittstelle wird im folgenden Beispiel veranschaulicht:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> x509</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -req</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-csr.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -signkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-cert.pem</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Sobald das Zertifikat generiert wurde, kann es zum Generieren einer <code>.pfx</code>- oder <code>.p12</code>-Datei verwendet werden:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pkcs12</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -export</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-cert.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -inkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      -certfile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca-cert.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ryans.pfx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Wobei:</p><ul><li><code>in</code>: das signierte Zertifikat ist</li><li><code>inkey</code>: der zugehörige private Schlüssel ist</li><li><code>certfile</code>: eine Verkettung aller Zertifikate der Zertifizierungsstelle (CA) in einer einzigen Datei ist, z. B. <code>cat ca1-cert.pem ca2-cert.pem \&gt; ca-cert.pem</code></li></ul><h3 id="perfect-forward-secrecy" tabindex="-1">Perfect Forward Secrecy <a class="header-anchor" href="#perfect-forward-secrecy" aria-label="Permalink to “Perfect Forward Secrecy”">​</a></h3><p>Der Begriff <em><a href="https://de.wikipedia.org/wiki/Perfect_Forward_Secrecy">Forward Secrecy</a></em> oder <em>Perfect Forward Secrecy</em> beschreibt ein Merkmal von Key-Agreement-Methoden (d.h. Schlüsselaustauschmethoden). Das bedeutet, dass die Server- und Client-Schlüssel verwendet werden, um neue temporäre Schlüssel auszuhandeln, die speziell und nur für die aktuelle Kommunikationssitzung verwendet werden. Praktisch bedeutet dies, dass selbst wenn der private Schlüssel des Servers kompromittiert ist, die Kommunikation nur dann von Lauscher entschlüsselt werden kann, wenn es dem Angreifer gelingt, das speziell für die Sitzung generierte Schlüsselpaar zu erhalten.</p><p>Perfect Forward Secrecy wird erreicht, indem bei jedem TLS/SSL-Handshake ein Schlüsselpaar für die Key-Agreement zufällig generiert wird (im Gegensatz zur Verwendung desselben Schlüssels für alle Sitzungen). Methoden, die diese Technik implementieren, werden als &quot;ephemeral&quot; bezeichnet.</p><p>Derzeit werden üblicherweise zwei Methoden verwendet, um Perfect Forward Secrecy zu erreichen (beachten Sie das Zeichen &quot;E&quot;, das an die traditionellen Abkürzungen angehängt wird):</p><ul><li><a href="https://de.wikipedia.org/wiki/Elliptic_Curve_Diffie-Hellman" target="_blank" rel="noreferrer">ECDHE</a>: Eine ephemere Version des Elliptic Curve Diffie-Hellman Key-Agreement-Protokolls.</li><li><a href="https://de.wikipedia.org/wiki/Diffie-Hellman-Schl%C3%BCsselaustausch" target="_blank" rel="noreferrer">DHE</a>: Eine ephemere Version des Diffie-Hellman Key-Agreement-Protokolls.</li></ul><p>Perfect Forward Secrecy unter Verwendung von ECDHE ist standardmäßig aktiviert. Die Option <code>ecdhCurve</code> kann beim Erstellen eines TLS-Servers verwendet werden, um die Liste der unterstützten ECDH-Kurven anzupassen. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a>.</p><p>DHE ist standardmäßig deaktiviert, kann aber zusammen mit ECDHE aktiviert werden, indem die Option <code>dhparam</code> auf <code>&#39;auto&#39;</code> gesetzt wird. Benutzerdefinierte DHE-Parameter werden ebenfalls unterstützt, werden aber zugunsten automatisch ausgewählter, bekannter Parameter nicht empfohlen.</p><p>Perfect Forward Secrecy war bis TLSv1.2 optional. Ab TLSv1.3 wird (EC)DHE immer verwendet (mit Ausnahme von PSK-Only-Verbindungen).</p><h3 id="alpn-and-sni" tabindex="-1">ALPN und SNI <a class="header-anchor" href="#alpn-and-sni" aria-label="Permalink to “ALPN und SNI”">​</a></h3><p>ALPN (Application-Layer Protocol Negotiation Extension) und SNI (Server Name Indication) sind TLS-Handshake-Erweiterungen:</p><ul><li>ALPN: Ermöglicht die Verwendung eines TLS-Servers für mehrere Protokolle (HTTP, HTTP/2)</li><li>SNI: Ermöglicht die Verwendung eines TLS-Servers für mehrere Hostnamen mit unterschiedlichen Zertifikaten.</li></ul><h3 id="pre-shared-keys" tabindex="-1">Pre-Shared Keys (Vorabgeteilte Schlüssel) <a class="header-anchor" href="#pre-shared-keys" aria-label="Permalink to “Pre-Shared Keys (Vorabgeteilte Schlüssel)”">​</a></h3><p>Die TLS-PSK-Unterstützung (TLS mit vorabgeteilten Schlüsseln) ist als Alternative zur normalen zertifikatsbasierten Authentifizierung verfügbar. Sie verwendet einen vorabgeteilten Schlüssel anstelle von Zertifikaten, um eine TLS-Verbindung zu authentifizieren und eine gegenseitige Authentifizierung zu ermöglichen. TLS-PSK und Public Key Infrastructure (PKI) schließen sich nicht gegenseitig aus. Clients und Server können beides unterstützen und während des normalen Cipher-Negotiation-Schritts eine von beiden auswählen.</p><p>TLS-PSK ist nur dann eine gute Wahl, wenn es Möglichkeiten gibt, einen Schlüssel sicher mit jedem verbindenden Rechner zu teilen. Daher ersetzt es die Public Key Infrastructure (PKI) nicht für die Mehrheit der TLS-Anwendungen. Die TLS-PSK-Implementierung in OpenSSL hat in den letzten Jahren viele Sicherheitslücken aufgewiesen, hauptsächlich weil sie nur von einer Minderheit von Anwendungen verwendet wird. Bitte berücksichtigen Sie alle alternativen Lösungen, bevor Sie auf PSK-Ciphers umsteigen. Bei der Generierung von PSK ist es von entscheidender Bedeutung, ausreichend Entropie zu verwenden, wie in <a href="https://tools.ietf.org/html/rfc4086" target="_blank" rel="noreferrer">RFC 4086</a> beschrieben. Das Ableiten eines gemeinsamen Geheimnisses aus einem Passwort oder anderen Quellen mit geringer Entropie ist nicht sicher.</p><p>PSK-Ciphers sind standardmäßig deaktiviert, und die Verwendung von TLS-PSK erfordert daher die explizite Angabe einer Cipher Suite mit der Option <code>ciphers</code>. Die Liste der verfügbaren Ciphers kann über <code>openssl ciphers -v &#39;PSK&#39;</code> abgerufen werden. Alle TLS 1.3 Ciphers sind für PSK geeignet und können über <code>openssl ciphers -v -s -tls1_3 -psk</code> abgerufen werden. Bei der Client-Verbindung sollte ein benutzerdefinierter <code>checkServerIdentity</code> übergeben werden, da der Standardwert in Abwesenheit eines Zertifikats fehlschlägt.</p><p>Gemäß <a href="https://tools.ietf.org/html/rfc4279" target="_blank" rel="noreferrer">RFC 4279</a> müssen PSK-Identitäten mit einer Länge von bis zu 128 Bytes und PSKs mit einer Länge von bis zu 64 Bytes unterstützt werden. Ab OpenSSL 1.1.0 beträgt die maximale Identitätsgröße 128 Bytes und die maximale PSK-Länge 256 Bytes.</p><p>Die aktuelle Implementierung unterstützt keine asynchronen PSK-Callbacks aufgrund der Einschränkungen der zugrunde liegenden OpenSSL-API.</p><p>Um TLS-PSK zu verwenden, müssen Client und Server die Option <code>pskCallback</code> angeben, eine Funktion, die den zu verwendenden PSK zurückgibt (der mit dem Digest des ausgewählten Ciphers kompatibel sein muss).</p><p>Sie wird zuerst auf dem Client aufgerufen:</p><ul><li>hint: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> optionale Nachricht, die vom Server gesendet wird, um dem Client bei der Entscheidung zu helfen, welche Identität während der Aushandlung verwendet werden soll. Immer <code>null</code>, wenn TLS 1.3 verwendet wird.</li><li>Returns: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> in der Form <code>{ psk: \&lt;Buffer|TypedArray|DataView\&gt;, identity: \&lt;string\&gt; }</code> oder <code>null</code>.</li></ul><p>Dann auf dem Server:</p><ul><li>socket: <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a> die Server Socket Instanz, äquivalent zu <code>this</code>.</li><li>identity: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Identitätsparameter, der vom Client gesendet wurde.</li><li>Returns: <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> der PSK (oder <code>null</code>).</li></ul><p>Ein Rückgabewert von <code>null</code> stoppt den Aushandlungsprozess und sendet eine <code>unknown_psk_identity</code>-Alert-Nachricht an die andere Partei. Wenn der Server die Tatsache verbergen möchte, dass die PSK-Identität nicht bekannt war, muss der Callback einige zufällige Daten als <code>psk</code> bereitstellen, damit die Verbindung mit <code>decrypt_error</code> fehlschlägt, bevor die Aushandlung abgeschlossen ist.</p><h3 id="client-initiated-renegotiation-attack-mitigation" tabindex="-1">Abschwächung von Client-initiierten Renegotiierungsangriffen <a class="header-anchor" href="#client-initiated-renegotiation-attack-mitigation" aria-label="Permalink to “Abschwächung von Client-initiierten Renegotiierungsangriffen”">​</a></h3><p>Das TLS-Protokoll erlaubt es Clients, bestimmte Aspekte der TLS-Sitzung neu zu verhandeln. Leider erfordert die Sitzungsneuberechnung eine unverhältnismäßig große Menge an serverseitigen Ressourcen, was sie zu einem potenziellen Vektor für Denial-of-Service-Angriffe macht.</p><p>Um das Risiko zu mindern, ist die Neuverhandlung auf drei Mal alle zehn Minuten begrenzt. Ein <code>&#39;error&#39;</code>-Ereignis wird auf der <a href="/de/nodejs/api/tls#class-tlstlssocket"><code>tls.TLSSocket</code></a>-Instanz ausgegeben, wenn dieser Schwellenwert überschritten wird. Die Grenzwerte sind konfigurierbar:</p><ul><li><code>tls.CLIENT_RENEG_LIMIT</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Gibt die Anzahl der Neuverhandlungsanfragen an. <strong>Standard:</strong> <code>3</code>.</li><li><code>tls.CLIENT_RENEG_WINDOW</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Gibt das Zeitfenster für die Neuverhandlung in Sekunden an. <strong>Standard:</strong> <code>600</code> (10 Minuten).</li></ul><p>Die Standard-Renegotiierungsgrenzwerte sollten nicht ohne ein umfassendes Verständnis der Implikationen und Risiken geändert werden.</p><p>TLSv1.3 unterstützt keine Neuverhandlung.</p><h3 id="session-resumption" tabindex="-1">Sitzungswiederaufnahme <a class="header-anchor" href="#session-resumption" aria-label="Permalink to “Sitzungswiederaufnahme”">​</a></h3><p>Das Einrichten einer TLS-Sitzung kann relativ langsam sein. Der Prozess kann beschleunigt werden, indem der Sitzungsstatus gespeichert und später wiederverwendet wird. Es gibt verschiedene Mechanismen dafür, die hier vom ältesten zum neuesten (und bevorzugten) diskutiert werden.</p><h4 id="session-identifiers" tabindex="-1">Sitzungsbezeichner <a class="header-anchor" href="#session-identifiers" aria-label="Permalink to “Sitzungsbezeichner”">​</a></h4><p>Server generieren eine eindeutige ID für neue Verbindungen und senden diese an den Client. Clients und Server speichern den Sitzungsstatus. Wenn sich Clients erneut verbinden, senden sie die ID ihres gespeicherten Sitzungsstatus, und wenn der Server auch den Status für diese ID hat, kann er sich damit einverstanden erklären, ihn zu verwenden. Andernfalls erstellt der Server eine neue Sitzung. Weitere Informationen finden Sie in <a href="https://www.ietf.org/rfc/rfc2246.txt" target="_blank" rel="noreferrer">RFC 2246</a> auf den Seiten 23 und 30.</p><p>Die Wiederaufnahme mit Sitzungsbezeichnern wird von den meisten Webbrowsern unterstützt, wenn HTTPS-Anfragen gestellt werden.</p><p>Für Node.js warten Clients auf das <a href="/de/nodejs/api/tls#event-session"><code>&#39;session&#39;</code></a>-Ereignis, um die Sitzungsdaten zu erhalten, und stellen die Daten der <code>session</code>-Option einer nachfolgenden <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a> bereit, um die Sitzung wiederzuverwenden. Server müssen Handler für die Ereignisse <a href="/de/nodejs/api/tls#event-newsession"><code>&#39;newSession&#39;</code></a> und <a href="/de/nodejs/api/tls#event-resumesession"><code>&#39;resumeSession&#39;</code></a> implementieren, um die Sitzungsdaten mithilfe der Sitzungs-ID als Suchschlüssel zu speichern und wiederherzustellen, um Sitzungen wiederzuverwenden. Um Sitzungen über Load Balancer oder Cluster-Worker hinweg wiederzuverwenden, müssen Server einen gemeinsam genutzten Sitzungs-Cache (z. B. Redis) in ihren Sitzungshandlern verwenden.</p><h4 id="session-tickets" tabindex="-1">Session-Tickets <a class="header-anchor" href="#session-tickets" aria-label="Permalink to “Session-Tickets”">​</a></h4><p>Die Server verschlüsseln den gesamten Sitzungszustand und senden ihn als &quot;Ticket&quot; an den Client. Bei der Wiederverbindung wird der Zustand in der ersten Verbindung an den Server gesendet. Dieser Mechanismus vermeidet die Notwendigkeit eines serverseitigen Sitzungs-Cache. Wenn der Server das Ticket aus irgendeinem Grund nicht verwendet (Fehler beim Entschlüsseln, es ist zu alt usw.), erstellt er eine neue Sitzung und sendet ein neues Ticket. Weitere Informationen finden Sie in <a href="https://tools.ietf.org/html/rfc5077" target="_blank" rel="noreferrer">RFC 5077</a>.</p><p>Die Wiederaufnahme mit Session-Tickets wird von vielen Webbrowsern bei HTTPS-Anfragen zunehmend unterstützt.</p><p>Für Node.js verwenden Clients die gleichen APIs für die Wiederaufnahme mit Session-IDs wie für die Wiederaufnahme mit Session-Tickets. Für das Debugging gilt: Wenn <a href="/de/nodejs/api/tls#tlssocketgettlsticket"><code>tls.TLSSocket.getTLSTicket()</code></a> einen Wert zurückgibt, enthalten die Sitzungsdaten ein Ticket, andernfalls enthalten sie den clientseitigen Sitzungszustand.</p><p>Beachten Sie bei TLSv1.3, dass der Server möglicherweise mehrere Tickets sendet, was zu mehreren <code>&#39;session&#39;</code>-Ereignissen führt. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#event-session"><code>&#39;session&#39;</code></a>.</p><p>Single-Prozess-Server benötigen keine spezielle Implementierung, um Session-Tickets zu verwenden. Um Session-Tickets über Serverneustarts oder Load Balancer hinweg zu verwenden, müssen alle Server die gleichen Ticket-Schlüssel haben. Intern gibt es drei 16-Byte-Schlüssel, aber die TLS-API stellt sie der Einfachheit halber als einen einzigen 48-Byte-Puffer zur Verfügung.</p><p>Es ist möglich, die Ticket-Schlüssel abzurufen, indem man <a href="/de/nodejs/api/tls#servergetticketkeys"><code>server.getTicketKeys()</code></a> auf einer Serverinstanz aufruft und sie dann verteilt, aber es ist sinnvoller, 48 Byte sicherer Zufallsdaten sicher zu generieren und sie mit der Option <code>ticketKeys</code> von <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a> zu setzen. Die Schlüssel sollten regelmäßig neu generiert werden, und die Schlüssel des Servers können mit <a href="/de/nodejs/api/tls#serversetticketkeyskeys"><code>server.setTicketKeys()</code></a> zurückgesetzt werden.</p><p>Session-Ticket-Schlüssel sind kryptografische Schlüssel, und sie <em><strong>müssen sicher aufbewahrt werden</strong></em>. Mit TLS 1.2 und älter können alle Sitzungen, die mit ihnen verschlüsselte Tickets verwendet haben, entschlüsselt werden, wenn sie kompromittiert werden. Sie sollten nicht auf der Festplatte gespeichert und regelmäßig neu generiert werden.</p><p>Wenn Clients die Unterstützung für Tickets ankündigen, sendet der Server diese. Der Server kann Tickets deaktivieren, indem er <code>require(&#39;node:constants&#39;).SSL_OP_NO_TICKET</code> in <code>secureOptions</code> angibt.</p><p>Sowohl Session-IDs als auch Session-Tickets haben ein Timeout, wodurch der Server neue Sitzungen erstellt. Das Timeout kann mit der Option <code>sessionTimeout</code> von <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a> konfiguriert werden.</p><p>Bei allen Mechanismen erstellen Server neue Sitzungen, wenn die Wiederaufnahme fehlschlägt. Da das Fehlschlagen der Wiederaufnahme der Sitzung keine TLS/HTTPS-Verbindungsfehler verursacht, ist es leicht, unnötig schlechte TLS-Performance zu übersehen. Die OpenSSL-CLI kann verwendet werden, um zu überprüfen, ob Server Sitzungen wiederaufnehmen. Verwenden Sie die Option <code>-reconnect</code> für <code>openssl s_client</code>, zum Beispiel:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s_client</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -connect</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> localhost:443</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -reconnect</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Lesen Sie die Debug-Ausgabe. Die erste Verbindung sollte &quot;New&quot; sagen, zum Beispiel:</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>New, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Nachfolgende Verbindungen sollten &quot;Reused&quot; sagen, zum Beispiel:</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>Reused, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="modifying-the-default-tls-cipher-suite" tabindex="-1">Modifizieren der Standard-TLS-Cipher-Suite <a class="header-anchor" href="#modifying-the-default-tls-cipher-suite" aria-label="Permalink to “Modifizieren der Standard-TLS-Cipher-Suite”">​</a></h2><p>Node.js ist mit einer Standard-Suite von aktivierten und deaktivierten TLS-Ciphers aufgebaut. Diese Standard-Cipher-Liste kann beim Erstellen von Node.js konfiguriert werden, damit Distributionen ihre eigene Standardliste bereitstellen können.</p><p>Der folgende Befehl kann verwendet werden, um die Standard-Cipher-Suite anzuzeigen:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crypto.constants.defaultCoreCipherList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;:&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;\n&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TLS_AES_256_GCM_SHA384</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TLS_CHACHA20_POLY1305_SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TLS_AES_128_GCM_SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-RSA-AES128-GCM-SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-ECDSA-AES128-GCM-SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-RSA-AES256-GCM-SHA384</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-ECDSA-AES256-GCM-SHA384</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DHE-RSA-AES128-GCM-SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-RSA-AES128-SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DHE-RSA-AES128-SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-RSA-AES256-SHA384</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DHE-RSA-AES256-SHA384</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-RSA-AES256-SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DHE-RSA-AES256-SHA256</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HIGH</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aNULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eNULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EXPORT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DES</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RC4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MD5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PSK</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SRP</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CAMELLIA</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>Dieser Standardwert kann vollständig durch den Befehlszeilenschalter <a href="/de/nodejs/api/cli#tls-cipher-listlist"><code>--tls-cipher-list</code></a> ersetzt werden (direkt oder über die Umgebungsvariable <a href="/de/nodejs/api/cli#node-optionsoptions"><code>NODE_OPTIONS</code></a>). Beispielsweise macht Folgendes <code>ECDHE-RSA-AES128-GCM-SHA256:!RC4</code> zur Standard-TLS-Cipher-Suite:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tls-cipher-list=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ECDHE-RSA-AES128-GCM-SHA256:!RC4&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server.js</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NODE_OPTIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">--tls-cipher-list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ECDHE-RSA-AES128-GCM-SHA256:!RC4&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Verwenden Sie zur Überprüfung den folgenden Befehl, um die eingestellte Cipher-Liste anzuzeigen. Beachten Sie den Unterschied zwischen <code>defaultCoreCipherList</code> und <code>defaultCipherList</code>:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tls-cipher-list=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ECDHE-RSA-AES128-GCM-SHA256:!RC4&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> crypto.constants.defaultCipherList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;:&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;\n&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ECDHE-RSA-AES128-GCM-SHA256</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RC4</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>d.h. die <code>defaultCoreCipherList</code>-Liste wird zur Kompilierzeit festgelegt und die <code>defaultCipherList</code> wird zur Laufzeit festgelegt.</p><p>Um die Standard-Cipher-Suites innerhalb der Laufzeit zu modifizieren, modifizieren Sie die Variable <code>tls.DEFAULT_CIPHERS</code>. Dies muss vor dem Lauschen auf Sockets erfolgen und hat keine Auswirkungen auf bereits geöffnete Sockets. Zum Beispiel:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Veraltete CBC-Ciphers und RSA Key Exchange basierte Ciphers entfernen, da sie keine Forward Secrecy bieten</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tls.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">DEFAULT_CIPHERS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +=</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;:!ECDHE-RSA-AES128-SHA:!ECDHE-RSA-AES128-SHA256:!ECDHE-RSA-AES256-SHA:!ECDHE-RSA-AES256-SHA384&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;:!ECDHE-ECDSA-AES128-SHA:!ECDHE-ECDSA-AES128-SHA256:!ECDHE-ECDSA-AES256-SHA:!ECDHE-ECDSA-AES256-SHA384&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;:!kRSA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Der Standardwert kann auch pro Client oder Server mithilfe der Option <code>ciphers</code> von <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> ersetzt werden, die auch in <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a>, <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a> und beim Erstellen neuer <a href="/de/nodejs/api/tls#class-tlstlssocket"><code>tls.TLSSocket</code></a>s verfügbar ist.</p><p>Die Cipher-Liste kann eine Mischung aus TLSv1.3-Cipher-Suite-Namen enthalten, die mit <code>&#39;TLS_&#39;</code> beginnen, und Spezifikationen für TLSv1.2 und niedrigere Cipher-Suites. Die TLSv1.2-Ciphers unterstützen ein Legacy-Spezifikationsformat. Weitere Informationen finden Sie in der OpenSSL-Dokumentation zum <a href="https://www.openssl.org/docs/man1.1.1/man1/ciphers#CIPHER-LIST-FORMAT" target="_blank" rel="noreferrer">Cipher-Listenformat</a>. Diese Spezifikationen gelten jedoch <em>nicht</em> für TLSv1.3-Ciphers. Die TLSv1.3-Suites können nur aktiviert werden, indem ihr vollständiger Name in die Cipher-Liste aufgenommen wird. Sie können beispielsweise nicht mithilfe der Legacy-TLSv1.2-Spezifikation <code>&#39;EECDH&#39;</code> oder <code>&#39;!EECDH&#39;</code> aktiviert oder deaktiviert werden.</p><p>Trotz der relativen Reihenfolge der TLSv1.3- und TLSv1.2-Cipher-Suites ist das TLSv1.3-Protokoll erheblich sicherer als TLSv1.2 und wird immer gegenüber TLSv1.2 gewählt, wenn der Handshake angibt, dass es unterstützt wird und wenn TLSv1.3-Cipher-Suites aktiviert sind.</p><p>Die in Node.js enthaltene Standard-Cipher-Suite wurde sorgfältig ausgewählt, um die aktuellen Best Practices für Sicherheit und Risikominderung widerzuspiegeln. Das Ändern der Standard-Cipher-Suite kann erhebliche Auswirkungen auf die Sicherheit einer Anwendung haben. Der Schalter <code>--tls-cipher-list</code> und die Option <code>ciphers</code> sollten nur verwendet werden, wenn dies unbedingt erforderlich ist.</p><p>Die Standard-Cipher-Suite bevorzugt GCM-Ciphers für die <a href="https://www.chromium.org/Home/chromium-security/education/tls#TOC-Cipher-Suites" target="_blank" rel="noreferrer">&#39;moderne Kryptografie&#39;-Einstellung von Chrome</a> und bevorzugt auch ECDHE- und DHE-Ciphers für perfekte Forward Secrecy, während <em>etwas</em> Abwärtskompatibilität geboten wird.</p><p>Alte Clients, die auf unsichere und veraltete RC4- oder DES-basierte Ciphers (wie Internet Explorer 6) angewiesen sind, können den Handshake-Prozess mit der Standardkonfiguration nicht abschließen. Wenn diese Clients <em>unbedingt</em> unterstützt werden müssen, bieten die <a href="https://wiki.mozilla.org/Security/Server_Side_TLS" target="_blank" rel="noreferrer">TLS-Empfehlungen</a> möglicherweise eine kompatible Cipher-Suite. Weitere Informationen zum Format finden Sie in der OpenSSL-Dokumentation zum <a href="https://www.openssl.org/docs/man1.1.1/man1/ciphers#CIPHER-LIST-FORMAT" target="_blank" rel="noreferrer">Cipher-Listenformat</a>.</p><p>Es gibt nur fünf TLSv1.3-Cipher-Suites:</p><ul><li><code>&#39;TLS_AES_256_GCM_SHA384&#39;</code></li><li><code>&#39;TLS_CHACHA20_POLY1305_SHA256&#39;</code></li><li><code>&#39;TLS_AES_128_GCM_SHA256&#39;</code></li><li><code>&#39;TLS_AES_128_CCM_SHA256&#39;</code></li><li><code>&#39;TLS_AES_128_CCM_8_SHA256&#39;</code></li></ul><p>Die ersten drei sind standardmäßig aktiviert. Die beiden <code>CCM</code>-basierten Suites werden von TLSv1.3 unterstützt, da sie auf eingeschränkten Systemen möglicherweise leistungsfähiger sind, aber sie sind standardmäßig nicht aktiviert, da sie weniger Sicherheit bieten.</p><h2 id="openssl-security-level" tabindex="-1">OpenSSL Sicherheitsstufe <a class="header-anchor" href="#openssl-security-level" aria-label="Permalink to “OpenSSL Sicherheitsstufe”">​</a></h2><p>Die OpenSSL-Bibliothek erzwingt Sicherheitsstufen, um die minimal akzeptable Sicherheitsstufe für kryptografische Operationen zu steuern. Die Sicherheitsstufen von OpenSSL reichen von 0 bis 5, wobei jede Stufe strengere Sicherheitsanforderungen auferlegt. Die Standardsicherheitsstufe ist 1, die im Allgemeinen für die meisten modernen Anwendungen geeignet ist. Einige ältere Funktionen und Protokolle wie TLSv1 erfordern jedoch eine niedrigere Sicherheitsstufe (<code>SECLEVEL=0</code>), um ordnungsgemäß zu funktionieren. Weitere detaillierte Informationen finden Sie in der <a href="https://www.openssl.org/docs/manmaster/man3/SSL_CTX_set_security_level#DEFAULT-CALLBACK-BEHAVIOUR" target="_blank" rel="noreferrer">OpenSSL-Dokumentation zu Sicherheitsstufen</a>.</p><h3 id="setting-security-levels" tabindex="-1">Einstellen der Sicherheitsstufen <a class="header-anchor" href="#setting-security-levels" aria-label="Permalink to “Einstellen der Sicherheitsstufen”">​</a></h3><p>Um die Sicherheitsstufe in Ihrer Node.js-Anwendung anzupassen, können Sie <code>@SECLEVEL=X</code> in eine Cipher-Zeichenkette einfügen, wobei <code>X</code> die gewünschte Sicherheitsstufe ist. Um beispielsweise die Sicherheitsstufe auf 0 zu setzen, während Sie die standardmäßige OpenSSL-Cipher-Liste verwenden, können Sie Folgendes verwenden:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-368" id="tab-369" checked><label data-title="ESM" for="tab-369">ESM</label><input type="radio" name="group-368" id="tab-370"><label data-title="CJS" for="tab-370">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createServer, connect } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ ciphers: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DEFAULT@SECLEVEL=0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, minVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TLSv1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Client connected with protocol:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProtocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(port, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(port, { ciphers: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DEFAULT@SECLEVEL=0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, maxVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TLSv1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> port</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ ciphers: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DEFAULT@SECLEVEL=0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, minVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TLSv1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Client connected with protocol:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProtocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(port, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(port, { ciphers: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DEFAULT@SECLEVEL=0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, maxVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;TLSv1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div></div><p>Dieser Ansatz setzt die Sicherheitsstufe auf 0, wodurch die Verwendung älterer Funktionen ermöglicht wird, während gleichzeitig die standardmäßigen OpenSSL-Ciphern verwendet werden.</p><h3 id="using" tabindex="-1">Verwendung <a class="header-anchor" href="#using" aria-label="Permalink to “Verwendung”">​</a></h3><p>Sie können die Sicherheitsstufe und die Ciphern auch über die Befehlszeile mit <code>--tls-cipher-list=DEFAULT@SECLEVEL=X</code> festlegen, wie in <a href="/de/nodejs/api/tls#modifying-the-default-tls-cipher-suite">Ändern der standardmäßigen TLS-Cipher-Suite</a> beschrieben. Es wird jedoch generell davon abgeraten, die Befehlszeilenoption zum Festlegen von Ciphern zu verwenden, und es ist vorzuziehen, die Ciphern für einzelne Kontexte in Ihrem Anwendungscode zu konfigurieren, da dieser Ansatz eine feinere Kontrolle ermöglicht und das Risiko einer globalen Herabstufung der Sicherheitsstufe verringert.</p><h2 id="x509-certificate-error-codes" tabindex="-1">X509-Zertifikatfehlercodes <a class="header-anchor" href="#x509-certificate-error-codes" aria-label="Permalink to “X509-Zertifikatfehlercodes”">​</a></h2><p>Mehrere Funktionen können aufgrund von Zertifikatfehlern fehlschlagen, die von OpenSSL gemeldet werden. In einem solchen Fall stellt die Funktion über ihren Callback einen <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> bereit, der die Eigenschaft <code>code</code> hat, die einen der folgenden Werte annehmen kann:</p><ul><li><code>&#39;UNABLE_TO_GET_ISSUER_CERT&#39;</code>: Ausstellerzertifikat konnte nicht abgerufen werden.</li><li><code>&#39;UNABLE_TO_GET_CRL&#39;</code>: Zertifikat-CRL konnte nicht abgerufen werden.</li><li><code>&#39;UNABLE_TO_DECRYPT_CERT_SIGNATURE&#39;</code>: Signatur des Zertifikats konnte nicht entschlüsselt werden.</li><li><code>&#39;UNABLE_TO_DECRYPT_CRL_SIGNATURE&#39;</code>: Signatur der CRL konnte nicht entschlüsselt werden.</li><li><code>&#39;UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY&#39;</code>: Öffentlicher Schlüssel des Ausstellers konnte nicht decodiert werden.</li><li><code>&#39;CERT_SIGNATURE_FAILURE&#39;</code>: Zertifikatssignatur fehlgeschlagen.</li><li><code>&#39;CRL_SIGNATURE_FAILURE&#39;</code>: CRL-Signatur fehlgeschlagen.</li><li><code>&#39;CERT_NOT_YET_VALID&#39;</code>: Zertifikat ist noch nicht gültig.</li><li><code>&#39;CERT_HAS_EXPIRED&#39;</code>: Zertifikat ist abgelaufen.</li><li><code>&#39;CRL_NOT_YET_VALID&#39;</code>: CRL ist noch nicht gültig.</li><li><code>&#39;CRL_HAS_EXPIRED&#39;</code>: CRL ist abgelaufen.</li><li><code>&#39;ERROR_IN_CERT_NOT_BEFORE_FIELD&#39;</code>: Formatfehler im notBefore-Feld des Zertifikats.</li><li><code>&#39;ERROR_IN_CERT_NOT_AFTER_FIELD&#39;</code>: Formatfehler im notAfter-Feld des Zertifikats.</li><li><code>&#39;ERROR_IN_CRL_LAST_UPDATE_FIELD&#39;</code>: Formatfehler im lastUpdate-Feld der CRL.</li><li><code>&#39;ERROR_IN_CRL_NEXT_UPDATE_FIELD&#39;</code>: Formatfehler im nextUpdate-Feld der CRL.</li><li><code>&#39;OUT_OF_MEM&#39;</code>: Nicht genügend Speicher.</li><li><code>&#39;DEPTH_ZERO_SELF_SIGNED_CERT&#39;</code>: Selbstsigniertes Zertifikat.</li><li><code>&#39;SELF_SIGNED_CERT_IN_CHAIN&#39;</code>: Selbstsigniertes Zertifikat in der Zertifikatskette.</li><li><code>&#39;UNABLE_TO_GET_ISSUER_CERT_LOCALLY&#39;</code>: Lokales Ausstellerzertifikat konnte nicht abgerufen werden.</li><li><code>&#39;UNABLE_TO_VERIFY_LEAF_SIGNATURE&#39;</code>: Das erste Zertifikat konnte nicht verifiziert werden.</li><li><code>&#39;CERT_CHAIN_TOO_LONG&#39;</code>: Zertifikatskette zu lang.</li><li><code>&#39;CERT_REVOKED&#39;</code>: Zertifikat widerrufen.</li><li><code>&#39;INVALID_CA&#39;</code>: Ungültiges CA-Zertifikat.</li><li><code>&#39;PATH_LENGTH_EXCEEDED&#39;</code>: Pfadlängenbeschränkung überschritten.</li><li><code>&#39;INVALID_PURPOSE&#39;</code>: Nicht unterstützter Zertifikatszweck.</li><li><code>&#39;CERT_UNTRUSTED&#39;</code>: Zertifikat nicht vertrauenswürdig.</li><li><code>&#39;CERT_REJECTED&#39;</code>: Zertifikat abgelehnt.</li><li><code>&#39;HOSTNAME_MISMATCH&#39;</code>: Hostname stimmt nicht überein.</li></ul><h2 id="class-tlscryptostream" tabindex="-1">Klasse: <code>tls.CryptoStream</code> <a class="header-anchor" href="#class-tlscryptostream" aria-label="Permalink to “Klasse: tls.CryptoStream”">​</a></h2><p><strong>Hinzugefügt in: v0.3.4</strong></p><p><strong>Veraltet seit: v0.11.3</strong></p><div class="danger custom-block"><p class="custom-block-title">[Stabil: 0 - Veraltet]</p><p><a href="/de/nodejs/api/documentation#stability-index">Stabil: 0</a> <a href="/de/nodejs/api/documentation#stability-index">Stabilität: 0</a> - Veraltet: Verwenden Sie stattdessen <a href="/de/nodejs/api/tls#class-tlstlssocket"><code>tls.TLSSocket</code></a>.</p></div><p>Die <code>tls.CryptoStream</code>-Klasse repräsentiert einen Stream verschlüsselter Daten. Diese Klasse ist veraltet und sollte nicht mehr verwendet werden.</p><h3 id="cryptostreambyteswritten" tabindex="-1"><code>cryptoStream.bytesWritten</code> <a class="header-anchor" href="#cryptostreambyteswritten" aria-label="Permalink to “cryptoStream.bytesWritten”">​</a></h3><p><strong>Hinzugefügt in: v0.3.4</strong></p><p><strong>Veraltet seit: v0.11.3</strong></p><p>Die <code>cryptoStream.bytesWritten</code>-Eigenschaft gibt die Gesamtzahl der Bytes zurück, die in den zugrunde liegenden Socket geschrieben wurden, <em>einschließlich</em> der Bytes, die für die Implementierung des TLS-Protokolls erforderlich sind.</p><h2 id="class-tlssecurepair" tabindex="-1">Klasse: <code>tls.SecurePair</code> <a class="header-anchor" href="#class-tlssecurepair" aria-label="Permalink to “Klasse: tls.SecurePair”">​</a></h2><p><strong>Hinzugefügt in: v0.3.2</strong></p><p><strong>Veraltet seit: v0.11.3</strong></p><div class="danger custom-block"><p class="custom-block-title">[Stabil: 0 - Veraltet]</p><p><a href="/de/nodejs/api/documentation#stability-index">Stabil: 0</a> <a href="/de/nodejs/api/documentation#stability-index">Stabilität: 0</a> - Veraltet: Verwenden Sie stattdessen <a href="/de/nodejs/api/tls#class-tlstlssocket"><code>tls.TLSSocket</code></a>.</p></div><p>Wird von <a href="/de/nodejs/api/tls#tlscreatesecurepaircontext-isserver-requestcert-rejectunauthorized-options"><code>tls.createSecurePair()</code></a> zurückgegeben.</p><h3 id="event-secure" tabindex="-1">Ereignis: <code>&#39;secure&#39;</code> <a class="header-anchor" href="#event-secure" aria-label="Permalink to “Ereignis: &#39;secure&#39;”">​</a></h3><p><strong>Hinzugefügt in: v0.3.2</strong></p><p><strong>Veraltet seit: v0.11.3</strong></p><p>Das Ereignis <code>&#39;secure&#39;</code> wird vom <code>SecurePair</code>-Objekt ausgelöst, sobald eine sichere Verbindung hergestellt wurde.</p><p>Wie beim Überprüfen des Serverereignisses <a href="/de/nodejs/api/tls#event-secureconnection"><code>&#39;secureConnection&#39;</code></a> sollte <code>pair.cleartext.authorized</code> überprüft werden, um zu bestätigen, ob das verwendete Zertifikat ordnungsgemäß autorisiert ist.</p><h2 id="class-tlsserver" tabindex="-1">Klasse: <code>tls.Server</code> <a class="header-anchor" href="#class-tlsserver" aria-label="Permalink to “Klasse: tls.Server”">​</a></h2><p><strong>Hinzugefügt in: v0.3.2</strong></p><ul><li>Erweitert: <a href="/de/nodejs/api/net#class-netserver">&lt;net.Server&gt;</a></li></ul><p>Akzeptiert verschlüsselte Verbindungen unter Verwendung von TLS oder SSL.</p><h3 id="event-connection" tabindex="-1">Ereignis: <code>&#39;connection&#39;</code> <a class="header-anchor" href="#event-connection" aria-label="Permalink to “Ereignis: &#39;connection&#39;”">​</a></h3><p><strong>Hinzugefügt in: v0.3.2</strong></p><ul><li><code>socket</code> <a href="/de/nodejs/api/stream#class-streamduplex">&lt;stream.Duplex&gt;</a></li></ul><p>Dieses Ereignis wird ausgelöst, wenn ein neuer TCP-Stream hergestellt wird, bevor der TLS-Handshake beginnt. <code>socket</code> ist typischerweise ein Objekt vom Typ <a href="/de/nodejs/api/net#class-netsocket"><code>net.Socket</code></a>, empfängt aber im Gegensatz zum Socket, der vom <a href="/de/nodejs/api/net#class-netserver"><code>net.Server</code></a> <code>&#39;connection&#39;</code>-Ereignis erstellt wurde, keine Ereignisse. Normalerweise möchten Benutzer nicht auf dieses Ereignis zugreifen.</p><p>Dieses Ereignis kann auch explizit von Benutzern ausgelöst werden, um Verbindungen in den TLS-Server einzuspeisen. In diesem Fall kann ein beliebiger <a href="/de/nodejs/api/stream#class-streamduplex"><code>Duplex</code></a>-Stream übergeben werden.</p><h3 id="event-keylog" tabindex="-1">Event: <code>&#39;keylog&#39;</code> <a class="header-anchor" href="#event-keylog" aria-label="Permalink to “Event: &#39;keylog&#39;”">​</a></h3><p><strong>Hinzugefügt in: v12.3.0, v10.20.0</strong></p><ul><li><code>line</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Zeile des ASCII-Textes im NSS <code>SSLKEYLOGFILE</code>-Format.</li><li><code>tlsSocket</code> <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a> Die <code>tls.TLSSocket</code>-Instanz, auf der sie generiert wurde.</li></ul><p>Das <code>keylog</code>-Ereignis wird ausgelöst, wenn Schlüsselmaterial von einer Verbindung zu diesem Server generiert oder empfangen wird (typischerweise bevor der Handshake abgeschlossen ist, aber nicht notwendigerweise). Dieses Schlüsselmaterial kann zur Fehlersuche gespeichert werden, da es die Entschlüsselung des erfassten TLS-Verkehrs ermöglicht. Es kann für jeden Socket mehrmals ausgelöst werden.</p><p>Ein typischer Anwendungsfall ist das Anhängen empfangener Zeilen an eine gemeinsame Textdatei, die später von Software (wie Wireshark) zur Entschlüsselung des Datenverkehrs verwendet wird:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> logFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWriteStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/ssl-keys.log&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { flags: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;keylog&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">tlsSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (tlsSocket.remoteAddress </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;...&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Nur Schlüssel für eine bestimmte IP protokollieren</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  logFile.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="event-newsession" tabindex="-1">Event: <code>&#39;newSession&#39;</code> <a class="header-anchor" href="#event-newsession" aria-label="Permalink to “Event: &#39;newSession&#39;”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v0.11.12</td><td>Das <code>callback</code>-Argument wird jetzt unterstützt.</td></tr><tr><td>v0.9.2</td><td>Hinzugefügt in: v0.9.2</td></tr></tbody></table></div><p>Das <code>&#39;newSession&#39;</code>-Ereignis wird bei der Erstellung einer neuen TLS-Sitzung ausgelöst. Dies kann verwendet werden, um Sitzungen in externem Speicher zu speichern. Die Daten sollten dem <a href="/de/nodejs/api/tls#event-resumesession"><code>&#39;resumeSession&#39;</code></a>-Callback zur Verfügung gestellt werden.</p><p>Der Listener-Callback erhält beim Aufruf drei Argumente:</p><ul><li><code>sessionId</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Die TLS-Sitzungs-ID</li><li><code>sessionData</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Die TLS-Sitzungsdaten</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Eine Callback-Funktion, die keine Argumente entgegennimmt und aufgerufen werden muss, damit Daten über die sichere Verbindung gesendet oder empfangen werden können.</li></ul><p>Das Abhören dieses Ereignisses hat nur Auswirkungen auf Verbindungen, die nach dem Hinzufügen des Ereignis-Listeners hergestellt wurden.</p><h3 id="event-ocsprequest" tabindex="-1">Event: <code>&#39;OCSPRequest&#39;</code> <a class="header-anchor" href="#event-ocsprequest" aria-label="Permalink to “Event: &#39;OCSPRequest&#39;”">​</a></h3><p><strong>Hinzugefügt in: v0.11.13</strong></p><p>Das <code>&#39;OCSPRequest&#39;</code>-Ereignis wird ausgelöst, wenn der Client eine Zertifikatsstatusanfrage sendet. Der Listener-Callback erhält beim Aufruf drei Argumente:</p><ul><li><code>certificate</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Das Serverzertifikat</li><li><code>issuer</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Das Zertifikat des Ausstellers</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Eine Callback-Funktion, die aufgerufen werden muss, um die Ergebnisse der OCSP-Anfrage bereitzustellen.</li></ul><p>Das aktuelle Zertifikat des Servers kann analysiert werden, um die OCSP-URL und die Zertifikats-ID zu erhalten. Nachdem eine OCSP-Antwort erhalten wurde, wird <code>callback(null, resp)</code> aufgerufen, wobei <code>resp</code> eine <code>Buffer</code>-Instanz ist, die die OCSP-Antwort enthält. Sowohl <code>certificate</code> als auch <code>issuer</code> sind <code>Buffer</code>-DER-Darstellungen des primären Zertifikats und des Zertifikats des Ausstellers. Diese können verwendet werden, um die OCSP-Zertifikats-ID und die OCSP-Endpunkt-URL zu erhalten.</p><p>Alternativ kann <code>callback(null, null)</code> aufgerufen werden, um anzuzeigen, dass keine OCSP-Antwort vorlag.</p><p>Der Aufruf von <code>callback(err)</code> führt zu einem <code>socket.destroy(err)</code>-Aufruf.</p><p>Der typische Ablauf einer OCSP-Anfrage ist wie folgt:</p><p>Der <code>issuer</code> kann <code>null</code> sein, wenn das Zertifikat entweder selbstsigniert ist oder sich der Aussteller nicht in der Liste der Root-Zertifikate befindet. (Ein Aussteller kann über die Option <code>ca</code> beim Aufbau der TLS-Verbindung bereitgestellt werden.)</p><p>Das Abhören dieses Ereignisses hat nur Auswirkungen auf Verbindungen, die nach dem Hinzufügen des Ereignis-Listeners hergestellt wurden.</p><p>Ein npm-Modul wie <a href="https://www.npmjs.com/package/asn1.js" target="_blank" rel="noreferrer">asn1.js</a> kann verwendet werden, um die Zertifikate zu analysieren.</p><h3 id="event-resumesession" tabindex="-1">Event: <code>&#39;resumeSession&#39;</code> <a class="header-anchor" href="#event-resumesession" aria-label="Permalink to “Event: &#39;resumeSession&#39;”">​</a></h3><p><strong>Hinzugefügt in: v0.9.2</strong></p><p>Das <code>&#39;resumeSession&#39;</code>-Ereignis wird ausgelöst, wenn der Client anfordert, eine vorherige TLS-Sitzung wiederaufzunehmen. Der Listener-Callback erhält beim Aufruf zwei Argumente:</p><ul><li><code>sessionId</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Die TLS-Sitzungs-ID</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Eine Callback-Funktion, die aufgerufen werden soll, wenn die vorherige Sitzung wiederhergestellt wurde: <code>callback([err[, sessionData]])</code><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>sessionData</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p>Der Ereignis-Listener sollte in einem externen Speicher nach den <code>sessionData</code> suchen, die vom <a href="/de/nodejs/api/tls#event-newsession"><code>&#39;newSession&#39;</code></a>-Ereignis-Handler unter Verwendung der angegebenen <code>sessionId</code> gespeichert wurden. Wenn gefunden, rufen Sie <code>callback(null, sessionData)</code> auf, um die Sitzung wiederaufzunehmen. Wenn nicht gefunden, kann die Sitzung nicht wiederaufgenommen werden. <code>callback()</code> muss ohne <code>sessionData</code> aufgerufen werden, damit der Handshake fortgesetzt und eine neue Sitzung erstellt werden kann. Es ist möglich, <code>callback(err)</code> aufzurufen, um die eingehende Verbindung zu beenden und den Socket zu zerstören.</p><p>Das Abhören dieses Ereignisses wirkt sich nur auf Verbindungen aus, die nach dem Hinzufügen des Ereignis-Listeners hergestellt wurden.</p><p>Das Folgende veranschaulicht die Wiederaufnahme einer TLS-Sitzung:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tlsSessionStore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;newSession&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tlsSessionStore[id.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hex&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;resumeSession&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  cb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tlsSessionStore[id.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hex&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="event-secureconnection" tabindex="-1">Event: <code>&#39;secureConnection&#39;</code> <a class="header-anchor" href="#event-secureconnection" aria-label="Permalink to “Event: &#39;secureConnection&#39;”">​</a></h3><p><strong>Hinzugefügt in: v0.3.2</strong></p><p>Das <code>&#39;secureConnection&#39;</code>-Ereignis wird ausgelöst, nachdem der Handshake-Prozess für eine neue Verbindung erfolgreich abgeschlossen wurde. Der Listener-Callback erhält beim Aufruf ein einzelnes Argument:</p><ul><li><code>tlsSocket</code> <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a> Der aufgebaute TLS-Socket.</li></ul><p>Die Eigenschaft <code>tlsSocket.authorized</code> ist ein <code>boolean</code>, der angibt, ob der Client von einer der für den Server bereitgestellten Zertifizierungsstellen verifiziert wurde. Wenn <code>tlsSocket.authorized</code> <code>false</code> ist, wird <code>socket.authorizationError</code> gesetzt, um zu beschreiben, wie die Autorisierung fehlgeschlagen ist. Abhängig von den Einstellungen des TLS-Servers können nicht autorisierte Verbindungen dennoch akzeptiert werden.</p><p>Die Eigenschaft <code>tlsSocket.alpnProtocol</code> ist ein String, der das ausgewählte ALPN-Protokoll enthält. Wenn ALPN kein ausgewähltes Protokoll hat, weil der Client oder der Server keine ALPN-Erweiterung gesendet hat, ist <code>tlsSocket.alpnProtocol</code> gleich <code>false</code>.</p><p>Die Eigenschaft <code>tlsSocket.servername</code> ist ein String, der den über SNI angeforderten Servernamen enthält.</p><h3 id="event-tlsclienterror" tabindex="-1">Ereignis: <code>&#39;tlsClientError&#39;</code> <a class="header-anchor" href="#event-tlsclienterror" aria-label="Permalink to “Ereignis: &#39;tlsClientError&#39;”">​</a></h3><p><strong>Hinzugefügt in: v6.0.0</strong></p><p>Das <code>&#39;tlsClientError&#39;</code>-Ereignis wird ausgelöst, wenn ein Fehler auftritt, bevor eine sichere Verbindung hergestellt wird. Der Listener-Callback erhält beim Aufruf zwei Argumente:</p><ul><li><code>exception</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> Das <code>Error</code>-Objekt, das den Fehler beschreibt.</li><li><code>tlsSocket</code> <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a> Die <code>tls.TLSSocket</code>-Instanz, von der der Fehler stammt.</li></ul><h3 id="serveraddcontexthostname-context" tabindex="-1"><code>server.addContext(hostname, context)</code> <a class="header-anchor" href="#serveraddcontexthostname-context" aria-label="Permalink to “server.addContext(hostname, context)”">​</a></h3><p><strong>Hinzugefügt in: v0.5.3</strong></p><ul><li><code>hostname</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Ein SNI-Hostname oder ein Wildcard (z. B. <code>&#39;*&#39;</code>)</li><li><code>context</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions">&lt;tls.SecureContext&gt;</a> Ein Objekt, das eine der möglichen Eigenschaften aus den <code>options</code>-Argumenten von <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> enthält (z. B. <code>key</code>, <code>cert</code>, <code>ca</code> usw.) oder ein TLS-Kontextobjekt, das mit <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> selbst erstellt wurde.</li></ul><p>Die <code>server.addContext()</code>-Methode fügt einen sicheren Kontext hinzu, der verwendet wird, wenn der SNI-Name der Clientanfrage mit dem angegebenen <code>hostname</code> (oder Wildcard) übereinstimmt.</p><p>Wenn mehrere übereinstimmende Kontexte vorhanden sind, wird der zuletzt hinzugefügte verwendet.</p><h3 id="serveraddress" tabindex="-1"><code>server.address()</code> <a class="header-anchor" href="#serveraddress" aria-label="Permalink to “server.address()”">​</a></h3><p><strong>Hinzugefügt in: v0.6.0</strong></p><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>Gibt die gebundene Adresse, den Adressfamiliennamen und den Port des Servers zurück, wie vom Betriebssystem gemeldet. Siehe <a href="/de/nodejs/api/net#serveraddress"><code>net.Server.address()</code></a> für weitere Informationen.</p><h3 id="serverclosecallback" tabindex="-1"><code>server.close([callback])</code> <a class="header-anchor" href="#serverclosecallback" aria-label="Permalink to “server.close([callback])”">​</a></h3><p><strong>Hinzugefügt in: v0.3.2</strong></p><ul><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Ein Listener-Callback, der registriert wird, um auf das <code>&#39;close&#39;</code>-Ereignis der Serverinstanz zu hören.</li><li>Gibt zurück: <a href="/de/nodejs/api/tls#class-tlsserver">&lt;tls.Server&gt;</a></li></ul><p>Die <code>server.close()</code>-Methode verhindert, dass der Server neue Verbindungen akzeptiert.</p><p>Diese Funktion arbeitet asynchron. Das <code>&#39;close&#39;</code>-Ereignis wird ausgelöst, wenn der Server keine offenen Verbindungen mehr hat.</p><h3 id="servergetticketkeys" tabindex="-1"><code>server.getTicketKeys()</code> <a class="header-anchor" href="#servergetticketkeys" aria-label="Permalink to “server.getTicketKeys()”">​</a></h3><p><strong>Hinzugefügt in: v3.0.0</strong></p><ul><li>Gibt zurück: <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Ein 48-Byte-Puffer, der die Session-Ticket-Schlüssel enthält.</li></ul><p>Gibt die Session-Ticket-Schlüssel zurück.</p><p>Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Session Wiederaufnahme</a>.</p><h3 id="serverlisten" tabindex="-1"><code>server.listen()</code> <a class="header-anchor" href="#serverlisten" aria-label="Permalink to “server.listen()”">​</a></h3><p>Startet den Server und wartet auf verschlüsselte Verbindungen. Diese Methode ist identisch mit <a href="/de/nodejs/api/net#serverlisten"><code>server.listen()</code></a> von <a href="/de/nodejs/api/net#class-netserver"><code>net.Server</code></a>.</p><h3 id="serversetsecurecontextoptions" tabindex="-1"><code>server.setSecureContext(options)</code> <a class="header-anchor" href="#serversetsecurecontextoptions" aria-label="Permalink to “server.setSecureContext(options)”">​</a></h3><p><strong>Hinzugefügt in: v11.0.0</strong></p><ul><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Ein Objekt, das beliebige mögliche Eigenschaften aus den <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> <code>options</code>-Argumenten enthält (z. B. <code>key</code>, <code>cert</code>, <code>ca</code> usw.).</li></ul><p>Die Methode <code>server.setSecureContext()</code> ersetzt den sicheren Kontext eines bestehenden Servers. Bestehende Verbindungen zum Server werden nicht unterbrochen.</p><h3 id="serversetticketkeyskeys" tabindex="-1"><code>server.setTicketKeys(keys)</code> <a class="header-anchor" href="#serversetticketkeyskeys" aria-label="Permalink to “server.setTicketKeys(keys)”">​</a></h3><p><strong>Hinzugefügt in: v3.0.0</strong></p><ul><li><code>keys</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Ein 48-Byte-Puffer, der die Session-Ticket-Schlüssel enthält.</li></ul><p>Setzt die Session-Ticket-Schlüssel.</p><p>Änderungen an den Ticket-Schlüsseln sind nur für zukünftige Serververbindungen wirksam. Bestehende oder aktuell ausstehende Serververbindungen verwenden die vorherigen Schlüssel.</p><p>Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Session Wiederaufnahme</a>.</p><h2 id="class-tlstlssocket" tabindex="-1">Klasse: <code>tls.TLSSocket</code> <a class="header-anchor" href="#class-tlstlssocket" aria-label="Permalink to “Klasse: tls.TLSSocket”">​</a></h2><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li>Erweitert: <a href="/de/nodejs/api/net#class-netsocket">&lt;net.Socket&gt;</a></li></ul><p>Führt eine transparente Verschlüsselung der geschriebenen Daten und die gesamte erforderliche TLS-Aushandlung durch.</p><p>Instanzen von <code>tls.TLSSocket</code> implementieren die Duplex-<a href="/de/nodejs/api/stream#stream">Stream</a>-Schnittstelle.</p><p>Methoden, die TLS-Verbindungsmetadaten zurückgeben (z. B. <a href="/de/nodejs/api/tls#tlssocketgetpeercertificatedetailed"><code>tls.TLSSocket.getPeerCertificate()</code></a>), geben nur dann Daten zurück, wenn die Verbindung geöffnet ist.</p><h3 id="new-tlstlssocketsocket-options" tabindex="-1"><code>new tls.TLSSocket(socket[, options])</code> <a class="header-anchor" href="#new-tlstlssocketsocket-options" aria-label="Permalink to “new tls.TLSSocket(socket[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historie]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v12.2.0</td><td>Die Option <code>enableTrace</code> wird jetzt unterstützt.</td></tr><tr><td>v5.0.0</td><td>ALPN-Optionen werden jetzt unterstützt.</td></tr><tr><td>v0.11.4</td><td>Hinzugefügt in: v0.11.4</td></tr></tbody></table></div><ul><li><code>socket</code> <a href="/de/nodejs/api/net#class-netsocket">&lt;net.Socket&gt;</a> | <a href="/de/nodejs/api/stream#class-streamduplex">&lt;stream.Duplex&gt;</a> Auf der Serverseite jeder <code>Duplex</code>-Stream. Auf der Clientseite jede Instanz von <a href="/de/nodejs/api/net#class-netsocket"><code>net.Socket</code></a> (für generische <code>Duplex</code>-Stream-Unterstützung auf der Clientseite muss <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a> verwendet werden).</li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>enableTrace</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>isServer</code>: Das SSL/TLS-Protokoll ist asymmetrisch, TLSSockets müssen wissen, ob sie sich als Server oder als Client verhalten sollen. Wenn <code>true</code>, wird der TLS-Socket als Server instanziiert. <strong>Standard:</strong> <code>false</code>.</li><li><code>server</code> <a href="/de/nodejs/api/net#class-netserver">&lt;net.Server&gt;</a> Eine <a href="/de/nodejs/api/net#class-netserver"><code>net.Server</code></a>-Instanz.</li><li><code>requestCert</code>: Ob der Remote-Peer durch Anfordern eines Zertifikats authentifiziert werden soll. Clients fordern immer ein Serverzertifikat an. Server (<code>isServer</code> ist true) können <code>requestCert</code> auf true setzen, um ein Clientzertifikat anzufordern.</li><li><code>rejectUnauthorized</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>ALPNProtocols</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>SNICallback</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>session</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Eine <code>Buffer</code>-Instanz, die eine TLS-Sitzung enthält.</li><li><code>requestOCSP</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn <code>true</code>, gibt an, dass die OCSP-Statusanforderungserweiterung zum Client-Hallo hinzugefügt wird und ein <code>&#39;OCSPResponse&#39;</code>-Ereignis auf dem Socket ausgelöst wird, bevor eine sichere Kommunikation hergestellt wird.</li><li><code>secureContext</code>: TLS-Kontextobjekt, das mit <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> erstellt wurde. Wenn kein <code>secureContext</code> bereitgestellt wird, wird einer erstellt, indem das gesamte <code>options</code>-Objekt an <code>tls.createSecureContext()</code> übergeben wird.</li><li>...: <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a>-Optionen, die verwendet werden, wenn die Option <code>secureContext</code> fehlt. Andernfalls werden sie ignoriert.</li></ul></li></ul><p>Konstruiert ein neues <code>tls.TLSSocket</code>-Objekt aus einem vorhandenen TCP-Socket.</p><h3 id="event-keylog_1" tabindex="-1">Ereignis: <code>&#39;keylog&#39;</code> <a class="header-anchor" href="#event-keylog_1" aria-label="Permalink to “Ereignis: &#39;keylog&#39;”">​</a></h3><p><strong>Hinzugefügt in: v12.3.0, v10.20.0</strong></p><ul><li><code>line</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Zeile ASCII-Text, im NSS <code>SSLKEYLOGFILE</code>-Format.</li></ul><p>Das <code>keylog</code>-Ereignis wird auf einem <code>tls.TLSSocket</code> ausgelöst, wenn Schlüsselmaterial erzeugt oder von dem Socket empfangen wird. Dieses Schlüsselmaterial kann zur Fehlersuche gespeichert werden, da es die Entschlüsselung des erfassten TLS-Verkehrs ermöglicht. Es kann mehrmals ausgelöst werden, vor oder nach Abschluss des Handshakes.</p><p>Ein typischer Anwendungsfall ist das Anhängen empfangener Zeilen an eine gemeinsame Textdatei, die später von Software (wie Wireshark) zur Entschlüsselung des Datenverkehrs verwendet wird:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> logFile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWriteStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/ssl-keys.log&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { flags: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tlsSocket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;keylog&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> logFile.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="event-ocspresponse" tabindex="-1">Ereignis: <code>&#39;OCSPResponse&#39;</code> <a class="header-anchor" href="#event-ocspresponse" aria-label="Permalink to “Ereignis: &#39;OCSPResponse&#39;”">​</a></h3><p><strong>Hinzugefügt in: v0.11.13</strong></p><p>Das <code>&#39;OCSPResponse&#39;</code>-Ereignis wird ausgelöst, wenn die Option <code>requestOCSP</code> beim Erstellen des <code>tls.TLSSocket</code> festgelegt wurde und eine OCSP-Antwort empfangen wurde. Der Listener-Callback erhält beim Aufruf ein einzelnes Argument:</p><ul><li><code>response</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Die OCSP-Antwort des Servers</li></ul><p>Typischerweise ist die <code>response</code> ein digital signiertes Objekt von der CA des Servers, das Informationen über den Widerrufsstatus des Zertifikats des Servers enthält.</p><h3 id="event-secureconnect" tabindex="-1">Ereignis: <code>&#39;secureConnect&#39;</code> <a class="header-anchor" href="#event-secureconnect" aria-label="Permalink to “Ereignis: &#39;secureConnect&#39;”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><p>Das <code>&#39;secureConnect&#39;</code>-Ereignis wird ausgelöst, nachdem der Handshake-Prozess für eine neue Verbindung erfolgreich abgeschlossen wurde. Der Listener-Callback wird unabhängig davon aufgerufen, ob das Zertifikat des Servers autorisiert wurde oder nicht. Es liegt in der Verantwortung des Clients, die Eigenschaft <code>tlsSocket.authorized</code> zu überprüfen, um festzustellen, ob das Serverzertifikat von einer der angegebenen CAs signiert wurde. Wenn <code>tlsSocket.authorized === false</code> ist, kann der Fehler durch Untersuchen der Eigenschaft <code>tlsSocket.authorizationError</code> gefunden werden. Wenn ALPN verwendet wurde, kann die Eigenschaft <code>tlsSocket.alpnProtocol</code> überprüft werden, um das ausgehandelte Protokoll zu ermitteln.</p><p>Das <code>&#39;secureConnect&#39;</code>-Ereignis wird nicht ausgelöst, wenn ein <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a> mithilfe des Konstruktors <code>new tls.TLSSocket()</code> erstellt wird.</p><h3 id="event-session" tabindex="-1">Ereignis: <code>&#39;session&#39;</code> <a class="header-anchor" href="#event-session" aria-label="Permalink to “Ereignis: &#39;session&#39;”">​</a></h3><p><strong>Hinzugefügt in: v11.10.0</strong></p><ul><li><code>session</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>Das <code>&#39;session&#39;</code>-Ereignis wird auf einem Client <code>tls.TLSSocket</code> ausgelöst, wenn eine neue Sitzung oder ein neues TLS-Ticket verfügbar ist. Dies kann vor oder nach dem Abschluss des Handshakes erfolgen, abhängig von der ausgehandelten TLS-Protokollversion. Das Ereignis wird nicht auf dem Server ausgelöst oder wenn keine neue Sitzung erstellt wurde, z. B. wenn die Verbindung fortgesetzt wurde. Bei einigen TLS-Protokollversionen kann das Ereignis mehrmals ausgelöst werden. In diesem Fall können alle Sitzungen für die Wiederaufnahme verwendet werden.</p><p>Auf dem Client kann die <code>session</code> der Option <code>session</code> von <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a> bereitgestellt werden, um die Verbindung fortzusetzen.</p><p>Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Sitzungswiederaufnahme</a>.</p><p>Für TLSv1.2 und darunter kann <a href="/de/nodejs/api/tls#tlssocketgetsession"><code>tls.TLSSocket.getSession()</code></a> aufgerufen werden, sobald der Handshake abgeschlossen ist. Für TLSv1.3 ist durch das Protokoll nur die Ticket-basierte Wiederaufnahme zulässig, es werden mehrere Tickets gesendet und die Tickets werden erst nach Abschluss des Handshakes gesendet. Daher ist es notwendig, auf das <code>&#39;session&#39;</code>-Ereignis zu warten, um eine wiederaufnehmbare Sitzung zu erhalten. Anwendungen sollten das <code>&#39;session&#39;</code>-Ereignis anstelle von <code>getSession()</code> verwenden, um sicherzustellen, dass sie für alle TLS-Versionen funktionieren. Anwendungen, die nur erwarten, eine Sitzung zu erhalten oder zu verwenden, sollten nur einmal auf dieses Ereignis hören:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tlsSocket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">once</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;session&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Die Sitzung kann sofort oder später verwendet werden.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  tls.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    session: session,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Andere Verbindungsoptionen...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="tlssocketaddress" tabindex="-1"><code>tlsSocket.address()</code> <a class="header-anchor" href="#tlssocketaddress" aria-label="Permalink to “tlsSocket.address()”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v18.4.0</td><td>Die <code>family</code>-Eigenschaft gibt jetzt einen String anstelle einer Zahl zurück.</td></tr><tr><td>v18.0.0</td><td>Die <code>family</code>-Eigenschaft gibt jetzt eine Zahl anstelle eines Strings zurück.</td></tr><tr><td>v0.11.4</td><td>Hinzugefügt in: v0.11.4</td></tr></tbody></table></div><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>Gibt die gebundene <code>address</code>, den Adress<code>family</code>-Namen und den <code>port</code> des zugrunde liegenden Sockets zurück, wie vom Betriebssystem gemeldet: <code>{ port: 12346, family: &#39;IPv4&#39;, address: &#39;127.0.0.1&#39; }</code>.</p><h3 id="tlssocketauthorizationerror" tabindex="-1"><code>tlsSocket.authorizationError</code> <a class="header-anchor" href="#tlssocketauthorizationerror" aria-label="Permalink to “tlsSocket.authorizationError”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><p>Gibt den Grund zurück, warum das Zertifikat des Peers nicht verifiziert wurde. Diese Eigenschaft wird nur gesetzt, wenn <code>tlsSocket.authorized === false</code> ist.</p><h3 id="tlssocketauthorized" tabindex="-1"><code>tlsSocket.authorized</code> <a class="header-anchor" href="#tlssocketauthorized" aria-label="Permalink to “tlsSocket.authorized”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Diese Eigenschaft ist <code>true</code>, wenn das Peer-Zertifikat von einer der CAs signiert wurde, die beim Erstellen der <code>tls.TLSSocket</code>-Instanz angegeben wurden, andernfalls <code>false</code>.</p><h3 id="tlssocketdisablerenegotiation" tabindex="-1"><code>tlsSocket.disableRenegotiation()</code> <a class="header-anchor" href="#tlssocketdisablerenegotiation" aria-label="Permalink to “tlsSocket.disableRenegotiation()”">​</a></h3><p><strong>Hinzugefügt in: v8.4.0</strong></p><p>Deaktiviert die TLS-Neuverhandlung für diese <code>TLSSocket</code>-Instanz. Nach dem Aufruf lösen Versuche zur Neuverhandlung ein <code>&#39;error&#39;</code>-Ereignis auf dem <code>TLSSocket</code> aus.</p><h3 id="tlssocketenabletrace" tabindex="-1"><code>tlsSocket.enableTrace()</code> <a class="header-anchor" href="#tlssocketenabletrace" aria-label="Permalink to “tlsSocket.enableTrace()”">​</a></h3><p><strong>Hinzugefügt in: v12.2.0</strong></p><p>Wenn aktiviert, werden TLS-Paketverfolgungsinformationen nach <code>stderr</code> geschrieben. Dies kann zur Fehlersuche bei TLS-Verbindungsproblemen verwendet werden.</p><p>Das Format der Ausgabe ist identisch mit der Ausgabe von <code>openssl s_client -trace</code> oder <code>openssl s_server -trace</code>. Obwohl es von der OpenSSL-Funktion <code>SSL_trace()</code> erzeugt wird, ist das Format undokumentiert, kann sich ohne Vorankündigung ändern und sollte nicht darauf verlassen werden.</p><h3 id="tlssocketencrypted" tabindex="-1"><code>tlsSocket.encrypted</code> <a class="header-anchor" href="#tlssocketencrypted" aria-label="Permalink to “tlsSocket.encrypted”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><p>Gibt immer <code>true</code> zurück. Dies kann verwendet werden, um TLS-Sockets von regulären <code>net.Socket</code>-Instanzen zu unterscheiden.</p><h3 id="tlssocketexportkeyingmateriallength-label-context" tabindex="-1"><code>tlsSocket.exportKeyingMaterial(length, label[, context])</code> <a class="header-anchor" href="#tlssocketexportkeyingmateriallength-label-context" aria-label="Permalink to “tlsSocket.exportKeyingMaterial(length, label[, context])”">​</a></h3><p><strong>Hinzugefügt in: v13.10.0, v12.17.0</strong></p><ul><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Anzahl der Bytes, die aus dem Keying Material abgerufen werden sollen.</li><li><code>label</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> eine anwendungsspezifische Bezeichnung, typischerweise ein Wert aus dem <a href="https://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#exporter-labels" target="_blank" rel="noreferrer">IANA Exporter Label Registry</a>.</li><li><code>context</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Optional kann ein Kontext bereitgestellt werden.</li><li>Gibt zurück: <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Angefragte Bytes des Keying Material.</li></ul><p>Keying Material wird für Validierungen verwendet, um verschiedene Arten von Angriffen in Netzwerkprotokollen zu verhindern, beispielsweise in den Spezifikationen von IEEE 802.1X.</p><p>Beispiel</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> keyingMaterial</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tlsSocket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exportKeyingMaterial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;client finished&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Beispielhafter Rückgabewert von keyingMaterial:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> &lt;Buffer 76 26 af 99 c5 56 8e 42 09 91 ef 9f 93 cb ad 6c 7b 65 f8 53 f1 d8 d9</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    12 5a 33 b8 b5 25 df 7b 37 9f e0 e2 4f b8 67 83 a3 2f cd 5d 41 42 4c 91</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    74 ef 2c ... 78 more bytes&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Weitere Informationen finden Sie in der OpenSSL-Dokumentation <a href="https://www.openssl.org/docs/man1.1.1/man3/SSL_export_keying_material" target="_blank" rel="noreferrer"><code>SSL_export_keying_material</code></a>.</p><h3 id="tlssocketgetcertificate" tabindex="-1"><code>tlsSocket.getCertificate()</code> <a class="header-anchor" href="#tlssocketgetcertificate" aria-label="Permalink to “tlsSocket.getCertificate()”">​</a></h3><p><strong>Hinzugefügt in: v11.2.0</strong></p><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>Gibt ein Objekt zurück, das das lokale Zertifikat darstellt. Das zurückgegebene Objekt hat einige Eigenschaften, die den Feldern des Zertifikats entsprechen.</p><p>Siehe <a href="/de/nodejs/api/tls#tlssocketgetpeercertificatedetailed"><code>tls.TLSSocket.getPeerCertificate()</code></a> für ein Beispiel der Zertifikatsstruktur.</p><p>Wenn kein lokales Zertifikat vorhanden ist, wird ein leeres Objekt zurückgegeben. Wenn der Socket zerstört wurde, wird <code>null</code> zurückgegeben.</p><h3 id="tlssocketgetcipher" tabindex="-1"><code>tlsSocket.getCipher()</code> <a class="header-anchor" href="#tlssocketgetcipher" aria-label="Permalink to “tlsSocket.getCipher()”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v13.4.0, v12.16.0</td><td>Gibt den IETF-Chiffriernamen als <code>standardName</code> zurück.</td></tr><tr><td>v12.0.0</td><td>Gibt die minimale Chiffrierversion anstelle einer festen Zeichenfolge zurück (<code>&#39;TLSv1/SSLv3&#39;</code>).</td></tr><tr><td>v0.11.4</td><td>Hinzugefügt in: v0.11.4</td></tr></tbody></table></div><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>name</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> OpenSSL-Name für die Chiffriersuite.</li><li><code>standardName</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> IETF-Name für die Chiffriersuite.</li><li><code>version</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Die minimale TLS-Protokollversion, die von dieser Chiffriersuite unterstützt wird. Das tatsächlich ausgehandelte Protokoll finden Sie unter <a href="/de/nodejs/api/tls#tlssocketgetprotocol"><code>tls.TLSSocket.getProtocol()</code></a>.</li></ul></li></ul><p>Gibt ein Objekt zurück, das Informationen über die ausgehandelte Chiffriersuite enthält.</p><p>Zum Beispiel ein TLSv1.2-Protokoll mit AES256-SHA-Chiffre:</p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AES256-SHA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;standardName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SSLv3&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Weitere Informationen finden Sie unter <a href="https://www.openssl.org/docs/man1.1.1/man3/SSL_CIPHER_get_name" target="_blank" rel="noreferrer">SSL_CIPHER_get_name</a>.</p><h3 id="tlssocketgetephemeralkeyinfo" tabindex="-1"><code>tlsSocket.getEphemeralKeyInfo()</code> <a class="header-anchor" href="#tlssocketgetephemeralkeyinfo" aria-label="Permalink to “tlsSocket.getEphemeralKeyInfo()”">​</a></h3><p><strong>Hinzugefügt in: v5.0.0</strong></p><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>Gibt ein Objekt zurück, das den Typ, den Namen und die Größe des Parameters eines Ephemeral-Key-Exchange in <a href="/de/nodejs/api/tls#perfect-forward-secrecy">Perfect Forward Secrecy</a> auf einer Clientverbindung darstellt. Es gibt ein leeres Objekt zurück, wenn der Key Exchange nicht ephemer ist. Da dies nur auf einem Client-Socket unterstützt wird, wird <code>null</code> zurückgegeben, wenn es auf einem Server-Socket aufgerufen wird. Die unterstützten Typen sind <code>&#39;DH&#39;</code> und <code>&#39;ECDH&#39;</code>. Die <code>name</code>-Eigenschaft ist nur verfügbar, wenn der Typ <code>&#39;ECDH&#39;</code> ist.</p><p>Zum Beispiel: <code>{ type: &#39;ECDH&#39;, name: &#39;prime256v1&#39;, size: 256 }</code>.</p><h3 id="tlssocketgetfinished" tabindex="-1"><code>tlsSocket.getFinished()</code> <a class="header-anchor" href="#tlssocketgetfinished" aria-label="Permalink to “tlsSocket.getFinished()”">​</a></h3><p><strong>Hinzugefügt in: v9.9.0</strong></p><ul><li>Gibt zurück: <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a> Die letzte <code>Finished</code>-Nachricht, die als Teil eines SSL/TLS-Handshakes an den Socket gesendet wurde, oder <code>undefined</code>, wenn noch keine <code>Finished</code>-Nachricht gesendet wurde.</li></ul><p>Da die <code>Finished</code>-Nachrichten Message Digests des kompletten Handshakes sind (mit insgesamt 192 Bits für TLS 1.0 und mehr für SSL 3.0), können sie für externe Authentifizierungsverfahren verwendet werden, wenn die durch SSL/TLS bereitgestellte Authentifizierung nicht erwünscht oder nicht ausreichend ist.</p><p>Entspricht der <code>SSL_get_finished</code>-Routine in OpenSSL und kann verwendet werden, um das <code>tls-unique</code> Channel Binding von <a href="https://tools.ietf.org/html/rfc5929" target="_blank" rel="noreferrer">RFC 5929</a> zu implementieren.</p><h3 id="tlssocketgetpeercertificatedetailed" tabindex="-1"><code>tlsSocket.getPeerCertificate([detailed])</code> <a class="header-anchor" href="#tlssocketgetpeercertificatedetailed" aria-label="Permalink to “tlsSocket.getPeerCertificate([detailed])”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><code>detailed</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Die vollständige Zertifikatskette einbeziehen, wenn <code>true</code>, andernfalls nur das Zertifikat des Peers einbeziehen.</li><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Ein Zertifikatsobjekt.</li></ul><p>Gibt ein Objekt zurück, das das Zertifikat des Peers repräsentiert. Wenn der Peer kein Zertifikat bereitstellt, wird ein leeres Objekt zurückgegeben. Wenn der Socket zerstört wurde, wird <code>null</code> zurückgegeben.</p><p>Wenn die vollständige Zertifikatskette angefordert wurde, enthält jedes Zertifikat eine Eigenschaft <code>issuerCertificate</code>, die ein Objekt enthält, das das Zertifikat des Ausstellers repräsentiert.</p><h4 id="certificate-object" tabindex="-1">Zertifikatsobjekt <a class="header-anchor" href="#certificate-object" aria-label="Permalink to “Zertifikatsobjekt”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v19.1.0, v18.13.0</td><td>Eigenschaft &quot;ca&quot; hinzugefügt.</td></tr><tr><td>v17.2.0, v16.14.0</td><td>Fingerprint512 hinzugefügt.</td></tr><tr><td>v11.4.0</td><td>Unterstützung für Public-Key-Informationen für elliptische Kurven.</td></tr></tbody></table></div><p>Ein Zertifikatsobjekt hat Eigenschaften, die den Feldern des Zertifikats entsprechen.</p><ul><li><code>ca</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code>, wenn eine Zertifizierungsstelle (CA), <code>false</code> andernfalls.</li><li><code>raw</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Die DER-codierten X.509-Zertifikatsdaten.</li><li><code>subject</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Der Zertifikatsinhaber, beschrieben in Bezug auf Land (<code>C</code>), Bundesland oder Provinz (<code>ST</code>), Ort (<code>L</code>), Organisation (<code>O</code>), Organisationseinheit (<code>OU</code>) und CommonName (<code>CN</code>). Der CommonName ist typischerweise ein DNS-Name mit TLS-Zertifikaten. Beispiel: <code>{C: &#39;UK&#39;, ST: &#39;BC&#39;, L: &#39;Metro&#39;, O: &#39;Node Fans&#39;, OU: &#39;Docs&#39;, CN: &#39;example.com&#39;}</code>.</li><li><code>issuer</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Der Zertifikatsaussteller, beschrieben in den gleichen Begriffen wie das <code>subject</code>.</li><li><code>valid_from</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Das Datum und die Uhrzeit, ab der das Zertifikat gültig ist.</li><li><code>valid_to</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Das Datum und die Uhrzeit, bis zu der das Zertifikat gültig ist.</li><li><code>serialNumber</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Die Zertifikatsseriennummer als Hexadezimalzeichenfolge. Beispiel: <code>&#39;B9B0D332A1AA5635&#39;</code>.</li><li><code>fingerprint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der SHA-1-Digest des DER-codierten Zertifikats. Er wird als <code>:</code>-separierte hexadezimale Zeichenfolge zurückgegeben. Beispiel: <code>&#39;2A:7A:C2:DD:...&#39;</code>.</li><li><code>fingerprint256</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der SHA-256-Digest des DER-codierten Zertifikats. Er wird als <code>:</code>-separierte hexadezimale Zeichenfolge zurückgegeben. Beispiel: <code>&#39;2A:7A:C2:DD:...&#39;</code>.</li><li><code>fingerprint512</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der SHA-512-Digest des DER-codierten Zertifikats. Er wird als <code>:</code>-separierte hexadezimale Zeichenfolge zurückgegeben. Beispiel: <code>&#39;2A:7A:C2:DD:...&#39;</code>.</li><li><code>ext_key_usage</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noreferrer">&lt;Array&gt;</a> (Optional) Die erweiterte Schlüsselverwendung, eine Menge von OIDs.</li><li><code>subjectaltname</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> (Optional) Eine Zeichenfolge, die verkettete Namen für den Betreff enthält, eine Alternative zu den <code>subject</code>-Namen.</li><li><code>infoAccess</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noreferrer">&lt;Array&gt;</a> (Optional) Ein Array, das den AuthorityInfoAccess beschreibt, der mit OCSP verwendet wird.</li><li><code>issuerCertificate</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> (Optional) Das Aussteller-Zertifikatsobjekt. Bei selbstsignierten Zertifikaten kann dies eine zirkuläre Referenz sein.</li></ul><p>Das Zertifikat kann Informationen über den öffentlichen Schlüssel enthalten, abhängig vom Schlüsseltyp.</p><p>Für RSA-Schlüssel können die folgenden Eigenschaften definiert sein:</p><ul><li><code>bits</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Die RSA-Bitgröße. Beispiel: <code>1024</code>.</li><li><code>exponent</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der RSA-Exponent, als Zeichenfolge in hexadezimaler Zahlendarstellung. Beispiel: <code>&#39;0x010001&#39;</code>.</li><li><code>modulus</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der RSA-Modulus als hexadezimale Zeichenfolge. Beispiel: <code>&#39;B56CE45CB7...&#39;</code>.</li><li><code>pubkey</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Der öffentliche Schlüssel.</li></ul><p>Für EC-Schlüssel können die folgenden Eigenschaften definiert sein:</p><ul><li><code>pubkey</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Der öffentliche Schlüssel.</li><li><code>bits</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Die Schlüsselgröße in Bits. Beispiel: <code>256</code>.</li><li><code>asn1Curve</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> (Optional) Der ASN.1-Name der OID der elliptischen Kurve. Bekannte Kurven werden durch eine OID identifiziert. Obwohl es ungewöhnlich ist, ist es möglich, dass die Kurve durch ihre mathematischen Eigenschaften identifiziert wird, in diesem Fall hat sie keine OID. Beispiel: <code>&#39;prime256v1&#39;</code>.</li><li><code>nistCurve</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> (Optional) Der NIST-Name für die elliptische Kurve, falls vorhanden (nicht alle bekannten Kurven haben von NIST Namen erhalten). Beispiel: <code>&#39;P-256&#39;</code>.</li></ul><p>Beispielzertifikat:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   { </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OU</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Domain Control Validated&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PositiveSSL Wildcard&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ],</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     CN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;*.nodejs.org&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  issuer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   { </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;GB&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     ST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Greater Manchester&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     L</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Salford&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     O</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;COMODO CA Limited&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     CN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;COMODO RSA Domain Validation Secure Server CA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  subjectaltname</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;DNS:*.nodejs.org, DNS:nodejs.org&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  infoAccess</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   { </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CA Issuers - URI&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://crt.comodoca.com/COMODORSADomainValidationSecureServerCA.crt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     &#39;OCSP - URI&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://ocsp.comodoca.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ] },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  modulus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;B56CE45CB740B09A13F64AC543B712FF9EE8E4C284B542A1708A27E82A8D151CA178153E12E6DDA15BF70FFD96CB8A88618641BDFCCA03527E665B70D779C8A349A6F88FD4EF6557180BD4C98192872BCFE3AF56E863C09DDD8BC1EC58DF9D94F914F0369102B2870BECFA1348A0838C9C49BD1C20124B442477572347047506B1FCD658A80D0C44BCC16BC5C5496CFE6E4A8428EF654CD3D8972BF6E5BFAD59C93006830B5EB1056BBB38B53D1464FA6E02BFDF2FF66CD949486F0775EC43034EC2602AEFBF1703AD221DAA2A88353C3B6A688EFE8387811F645CEED7B3FE46E1F8B9F59FAD028F349B9BC14211D5830994D055EEA3D547911E07A0ADDEB8A82B9188E58720D95CD478EEC9AF1F17BE8141BE80906F1A339445A7EB5B285F68039B0F294598A7D1C0005FC22B5271B0752F58CCDEF8C8FD856FB7AE21C80B8A2CE983AE94046E53EDE4CB89F42502D31B5360771C01C80155918637490550E3F555E2EE75CC8C636DDE3633CFEDD62E91BF0F7688273694EEEBA20C2FC9F14A2A435517BC1D7373922463409AB603295CEB0BB53787A334C9CA3CA8B30005C5A62FC0715083462E00719A8FA3ED0A9828C3871360A73F8B04A4FC1E71302844E9BB9940B77E745C9D91F226D71AFCAD4B113AAF68D92B24DDB4A2136B55A1CD1ADF39605B63CB639038ED0F4C987689866743A68769CC55847E4A06D6E2E3F1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  exponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;0x10001&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  pubkey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Buffer</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  valid_from: &#39;Aug 14 00:00:00 2017 GMT&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  valid_to: &#39;Nov 20 23:59:59 2019 GMT&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fingerprint: &#39;01:02:59:D9:C3:D2:0D:08:F7:82:4E:44:A4:B4:53:C5:E2:3A:87:4D&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fingerprint256: &#39;69:AE:1A:6A:D4:3D:C6:C1:1B:EA:C6:23:DE:BA:2A:14:62:62:93:5C:7A:EA:06:41:9B:0B:BC:87:CE:48:4E:02&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fingerprint512: &#39;19:2B:3E:C3:B3:5B:32:E8:AE:BB:78:97:27:E4:BA:6C:39:C9:92:79:4F:31:46:39:E2:70:E5:5F:89:42:17:C9:E8:64:CA:FF:BB:72:56:73:6E:28:8A:92:7E:A3:2A:15:8B:C2:E0:45:CA:C3:BC:EA:40:52:EC:CA:A2:68:CB:32&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ext_key_usage: [ &#39;1.3.6.1.5.5.7.3.1&#39;, &#39;1.3.6.1.5.5.7.3.2&#39; ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  serialNumber: &#39;66593D57F20CBC573E433381B5FEC280&#39;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  raw: &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Buffer</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;"> ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &gt; }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="tlssocketgetpeerfinished" tabindex="-1"><code>tlsSocket.getPeerFinished()</code> <a class="header-anchor" href="#tlssocketgetpeerfinished" aria-label="Permalink to “tlsSocket.getPeerFinished()”">​</a></h3><p><strong>Hinzugefügt in: v9.9.0</strong></p><ul><li>Gibt zurück: <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a> Die letzte <code>Finished</code>-Nachricht, die im Rahmen eines SSL/TLS-Handshakes von dem Socket erwartet oder tatsächlich empfangen wurde, oder <code>undefined</code>, falls bisher keine <code>Finished</code>-Nachricht vorliegt.</li></ul><p>Da die <code>Finished</code>-Nachrichten Message Digests des kompletten Handshakes sind (mit insgesamt 192 Bit für TLS 1.0 und mehr für SSL 3.0), können sie für externe Authentifizierungsverfahren verwendet werden, wenn die von SSL/TLS bereitgestellte Authentifizierung nicht erwünscht oder nicht ausreichend ist.</p><p>Entspricht der Routine <code>SSL_get_peer_finished</code> in OpenSSL und kann zur Implementierung der <code>tls-unique</code>-Kanalbindung aus <a href="https://tools.ietf.org/html/rfc5929" target="_blank" rel="noreferrer">RFC 5929</a> verwendet werden.</p><h3 id="tlssocketgetpeerx509certificate" tabindex="-1"><code>tlsSocket.getPeerX509Certificate()</code> <a class="header-anchor" href="#tlssocketgetpeerx509certificate" aria-label="Permalink to “tlsSocket.getPeerX509Certificate()”">​</a></h3><p><strong>Hinzugefügt in: v15.9.0</strong></p><ul><li>Gibt zurück: <a href="/de/nodejs/api/crypto#class-x509certificate">&lt;X509Certificate&gt;</a></li></ul><p>Gibt das Peer-Zertifikat als <a href="/de/nodejs/api/crypto#class-x509certificate">&lt;X509Certificate&gt;</a>-Objekt zurück.</p><p>Wenn kein Peer-Zertifikat vorhanden ist oder der Socket zerstört wurde, wird <code>undefined</code> zurückgegeben.</p><h3 id="tlssocketgetprotocol" tabindex="-1"><code>tlsSocket.getProtocol()</code> <a class="header-anchor" href="#tlssocketgetprotocol" aria-label="Permalink to “tlsSocket.getProtocol()”">​</a></h3><p><strong>Hinzugefügt in: v5.7.0</strong></p><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a></li></ul><p>Gibt eine Zeichenkette zurück, die die ausgehandelte SSL/TLS-Protokollversion der aktuellen Verbindung enthält. Der Wert <code>&#39;unknown&#39;</code> wird für verbundene Sockets zurückgegeben, die den Handshake-Prozess noch nicht abgeschlossen haben. Der Wert <code>null</code> wird für Server-Sockets oder getrennte Client-Sockets zurückgegeben.</p><p>Protokollversionen sind:</p><ul><li><code>&#39;SSLv3&#39;</code></li><li><code>&#39;TLSv1&#39;</code></li><li><code>&#39;TLSv1.1&#39;</code></li><li><code>&#39;TLSv1.2&#39;</code></li><li><code>&#39;TLSv1.3&#39;</code></li></ul><p>Weitere Informationen finden Sie in der OpenSSL-Dokumentation <a href="https://www.openssl.org/docs/man1.1.1/man3/SSL_get_version" target="_blank" rel="noreferrer"><code>SSL_get_version</code></a>.</p><h3 id="tlssocketgetsession" tabindex="-1"><code>tlsSocket.getSession()</code> <a class="header-anchor" href="#tlssocketgetsession" aria-label="Permalink to “tlsSocket.getSession()”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>Gibt die TLS-Sitzungsdaten zurück oder <code>undefined</code>, wenn keine Sitzung ausgehandelt wurde. Auf dem Client können die Daten der Option <code>session</code> von <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a> bereitgestellt werden, um die Verbindung fortzusetzen. Auf dem Server kann dies zum Debuggen nützlich sein.</p><p>Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Session Resumption</a>.</p><p>Hinweis: <code>getSession()</code> funktioniert nur für TLSv1.2 und darunter. Für TLSv1.3 müssen Anwendungen das <a href="/de/nodejs/api/tls#event-session"><code>&#39;session&#39;</code></a>-Event verwenden (es funktioniert auch für TLSv1.2 und darunter).</p><h3 id="tlssocketgetsharedsigalgs" tabindex="-1"><code>tlsSocket.getSharedSigalgs()</code> <a class="header-anchor" href="#tlssocketgetsharedsigalgs" aria-label="Permalink to “tlsSocket.getSharedSigalgs()”">​</a></h3><p><strong>Hinzugefügt in: v12.11.0</strong></p><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noreferrer">&lt;Array&gt;</a> Liste der zwischen Server und Client gemeinsam genutzten Signaturalgorithmen in absteigender Reihenfolge ihrer Präferenz.</li></ul><p>Weitere Informationen finden Sie unter <a href="https://www.openssl.org/docs/man1.1.1/man3/SSL_get_shared_sigalgs" target="_blank" rel="noreferrer">SSL_get_shared_sigalgs</a>.</p><h3 id="tlssocketgettlsticket" tabindex="-1"><code>tlsSocket.getTLSTicket()</code> <a class="header-anchor" href="#tlssocketgettlsticket" aria-label="Permalink to “tlsSocket.getTLSTicket()”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>Für einen Client wird das TLS-Session-Ticket zurückgegeben, falls eines verfügbar ist, oder <code>undefined</code>. Für einen Server wird immer <code>undefined</code> zurückgegeben.</p><p>Es kann für das Debuggen nützlich sein.</p><p>Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Session-Wiederaufnahme</a>.</p><h3 id="tlssocketgetx509certificate" tabindex="-1"><code>tlsSocket.getX509Certificate()</code> <a class="header-anchor" href="#tlssocketgetx509certificate" aria-label="Permalink to “tlsSocket.getX509Certificate()”">​</a></h3><p><strong>Hinzugefügt in: v15.9.0</strong></p><ul><li>Gibt zurück: <a href="/de/nodejs/api/crypto#class-x509certificate">&lt;X509Certificate&gt;</a></li></ul><p>Gibt das lokale Zertifikat als <a href="/de/nodejs/api/crypto#class-x509certificate">&lt;X509Certificate&gt;</a>-Objekt zurück.</p><p>Wenn kein lokales Zertifikat vorhanden ist oder der Socket zerstört wurde, wird <code>undefined</code> zurückgegeben.</p><h3 id="tlssocketissessionreused" tabindex="-1"><code>tlsSocket.isSessionReused()</code> <a class="header-anchor" href="#tlssocketissessionreused" aria-label="Permalink to “tlsSocket.isSessionReused()”">​</a></h3><p><strong>Hinzugefügt in: v0.5.6</strong></p><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code>, wenn die Session wiederverwendet wurde, andernfalls <code>false</code>.</li></ul><p>Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Session-Wiederaufnahme</a>.</p><h3 id="tlssocketlocaladdress" tabindex="-1"><code>tlsSocket.localAddress</code> <a class="header-anchor" href="#tlssocketlocaladdress" aria-label="Permalink to “tlsSocket.localAddress”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>Gibt die String-Repräsentation der lokalen IP-Adresse zurück.</p><h3 id="tlssocketlocalport" tabindex="-1"><code>tlsSocket.localPort</code> <a class="header-anchor" href="#tlssocketlocalport" aria-label="Permalink to “tlsSocket.localPort”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Gibt die numerische Repräsentation des lokalen Ports zurück.</p><h3 id="tlssocketremoteaddress" tabindex="-1"><code>tlsSocket.remoteAddress</code> <a class="header-anchor" href="#tlssocketremoteaddress" aria-label="Permalink to “tlsSocket.remoteAddress”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>Gibt die String-Repräsentation der Remote-IP-Adresse zurück. Zum Beispiel <code>&#39;74.125.127.100&#39;</code> oder <code>&#39;2001:4860:a005::68&#39;</code>.</p><h3 id="tlssocketremotefamily" tabindex="-1"><code>tlsSocket.remoteFamily</code> <a class="header-anchor" href="#tlssocketremotefamily" aria-label="Permalink to “tlsSocket.remoteFamily”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>Gibt die String-Darstellung der Remote-IP-Familie zurück. <code>&#39;IPv4&#39;</code> oder <code>&#39;IPv6&#39;</code>.</p><h3 id="tlssocketremoteport" tabindex="-1"><code>tlsSocket.remotePort</code> <a class="header-anchor" href="#tlssocketremoteport" aria-label="Permalink to “tlsSocket.remotePort”">​</a></h3><p><strong>Hinzugefügt in: v0.11.4</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Gibt die numerische Darstellung des Remote-Ports zurück. Zum Beispiel <code>443</code>.</p><h3 id="tlssocketrenegotiateoptions-callback" tabindex="-1"><code>tlsSocket.renegotiate(options, callback)</code> <a class="header-anchor" href="#tlssocketrenegotiateoptions-callback" aria-label="Permalink to “tlsSocket.renegotiate(options, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historie]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Das Übergeben eines ungültigen Rückrufs an das <code>callback</code>-Argument wirft jetzt <code>ERR_INVALID_ARG_TYPE</code> anstelle von <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v0.11.8</td><td>Hinzugefügt in: v0.11.8</td></tr></tbody></table></div><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>rejectUnauthorized</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn nicht <code>false</code>, wird das Serverzertifikat anhand der Liste der mitgelieferten CAs überprüft. Ein <code>&#39;error&#39;</code>-Ereignis wird ausgelöst, wenn die Überprüfung fehlschlägt; <code>err.code</code> enthält den OpenSSL-Fehlercode. <strong>Standard:</strong> <code>true</code>.</li><li><code>requestCert</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Wenn <code>renegotiate()</code> <code>true</code> zurückgegeben hat, wird der Rückruf einmal an das <code>&#39;secure&#39;</code>-Ereignis angehängt. Wenn <code>renegotiate()</code> <code>false</code> zurückgegeben hat, wird <code>callback</code> im nächsten Tick mit einem Fehler aufgerufen, es sei denn, der <code>tlsSocket</code> wurde zerstört. In diesem Fall wird <code>callback</code> überhaupt nicht aufgerufen.</p></li><li><p>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code>, wenn die Neuverhandlung initiiert wurde, andernfalls <code>false</code>.</p></li></ul><p>Die Methode <code>tlsSocket.renegotiate()</code> initiiert einen TLS-Neuverhandlungsprozess. Nach Abschluss wird der <code>callback</code>-Funktion ein einzelnes Argument übergeben, das entweder ein <code>Error</code> (wenn die Anfrage fehlgeschlagen ist) oder <code>null</code> ist.</p><p>Diese Methode kann verwendet werden, um das Zertifikat eines Peers anzufordern, nachdem die sichere Verbindung hergestellt wurde.</p><p>Wenn die Ausführung als Server erfolgt, wird der Socket nach dem <code>handshakeTimeout</code>-Timeout mit einem Fehler zerstört.</p><p>Für TLSv1.3 kann keine Neuverhandlung initiiert werden, da sie vom Protokoll nicht unterstützt wird.</p><h3 id="tlssocketsetkeycertcontext" tabindex="-1"><code>tlsSocket.setKeyCert(context)</code> <a class="header-anchor" href="#tlssocketsetkeycertcontext" aria-label="Permalink to “tlsSocket.setKeyCert(context)”">​</a></h3><p><strong>Hinzugefügt in: v22.5.0, v20.17.0</strong></p><ul><li><code>context</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions">&lt;tls.SecureContext&gt;</a> Ein Objekt, das mindestens die Eigenschaften <code>key</code> und <code>cert</code> aus den <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> <code>options</code> enthält, oder ein TLS-Kontextobjekt, das mit <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> selbst erstellt wurde.</li></ul><p>Die Methode <code>tlsSocket.setKeyCert()</code> legt den privaten Schlüssel und das Zertifikat fest, die für den Socket verwendet werden sollen. Dies ist hauptsächlich nützlich, wenn Sie ein Serverzertifikat aus dem <code>ALPNCallback</code> eines TLS-Servers auswählen möchten.</p><h3 id="tlssocketsetmaxsendfragmentsize" tabindex="-1"><code>tlsSocket.setMaxSendFragment(size)</code> <a class="header-anchor" href="#tlssocketsetmaxsendfragmentsize" aria-label="Permalink to “tlsSocket.setMaxSendFragment(size)”">​</a></h3><p><strong>Hinzugefügt in: v0.11.11</strong></p><ul><li><code>size</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Die maximale TLS-Fragmentgröße. Der Maximalwert ist <code>16384</code>. <strong>Standard:</strong> <code>16384</code>.</li><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Die Methode <code>tlsSocket.setMaxSendFragment()</code> legt die maximale TLS-Fragmentgröße fest. Gibt <code>true</code> zurück, wenn das Festlegen des Limits erfolgreich war; andernfalls <code>false</code>.</p><p>Kleinere Fragmentgrößen verringern die Pufferlatenz auf dem Client: Größere Fragmente werden von der TLS-Schicht gepuffert, bis das gesamte Fragment empfangen und seine Integrität überprüft wurde; große Fragmente können mehrere Roundtrips umfassen und ihre Verarbeitung kann sich aufgrund von Paketverlust oder -umordnung verzögern. Kleinere Fragmente fügen jedoch zusätzliche TLS-Framing-Bytes und CPU-Overhead hinzu, was den Gesamtdurchsatz des Servers verringern kann.</p><h2 id="tlscheckserveridentityhostname-cert" tabindex="-1"><code>tls.checkServerIdentity(hostname, cert)</code> <a class="header-anchor" href="#tlscheckserveridentityhostname-cert" aria-label="Permalink to “tls.checkServerIdentity(hostname, cert)”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v17.3.1, v16.13.2, v14.18.3, v12.22.9</td><td>Die Unterstützung für alternative Subjektnamen vom Typ <code>uniformResourceIdentifier</code> wurde als Reaktion auf CVE-2021-44531 deaktiviert.</td></tr><tr><td>v0.8.4</td><td>Hinzugefügt in: v0.8.4</td></tr></tbody></table></div><ul><li><code>hostname</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der Hostname oder die IP-Adresse, gegen die das Zertifikat verifiziert werden soll.</li><li><code>cert</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Ein <a href="/de/nodejs/api/tls#certificate-object">Zertifikatobjekt</a>, das das Zertifikat des Peers darstellt.</li><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a></li></ul><p>Verifiziert, ob das Zertifikat <code>cert</code> für <code>hostname</code> ausgestellt wurde.</p><p>Gibt ein <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a>-Objekt zurück und füllt es bei einem Fehler mit <code>reason</code>, <code>host</code> und <code>cert</code>. Bei Erfolg wird <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a> zurückgegeben.</p><p>Diese Funktion ist für die Verwendung in Kombination mit der Option <code>checkServerIdentity</code> vorgesehen, die an <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a> übergeben werden kann, und arbeitet als solche mit einem <a href="/de/nodejs/api/tls#certificate-object">Zertifikatobjekt</a>. Für andere Zwecke sollte stattdessen <a href="/de/nodejs/api/crypto#x509checkhostname-options"><code>x509.checkHost()</code></a> verwendet werden.</p><p>Diese Funktion kann überschrieben werden, indem eine alternative Funktion als Option <code>options.checkServerIdentity</code> bereitgestellt wird, die an <code>tls.connect()</code> übergeben wird. Die überschreibende Funktion kann natürlich <code>tls.checkServerIdentity()</code> aufrufen, um die durchgeführten Prüfungen durch zusätzliche Verifizierung zu ergänzen.</p><p>Diese Funktion wird nur aufgerufen, wenn das Zertifikat alle anderen Prüfungen bestanden hat, z. B. die Ausstellung durch eine vertrauenswürdige Zertifizierungsstelle (<code>options.ca</code>).</p><p>Frühere Versionen von Node.js akzeptierten fälschlicherweise Zertifikate für einen bestimmten <code>Hostname</code>, wenn ein übereinstimmender alternativer Subjektname <code>uniformResourceIdentifier</code> vorhanden war (siehe <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-44531" target="_blank" rel="noreferrer">CVE-2021-44531</a>). Anwendungen, die alternative Subjektnamen vom Typ <code>uniformResourceIdentifier</code> akzeptieren möchten, können eine benutzerdefinierte Funktion <code>options.checkServerIdentity</code> verwenden, die das gewünschte Verhalten implementiert.</p><h2 id="tlsconnectoptions-callback" tabindex="-1"><code>tls.connect(options[, callback])</code> <a class="header-anchor" href="#tlsconnectoptions-callback" aria-label="Permalink to “tls.connect(options[, callback])”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v15.1.0, v14.18.0</td><td><code>onread</code>-Option hinzugefügt.</td></tr><tr><td>v14.1.0, v13.14.0</td><td>Die Option <code>highWaterMark</code> wird jetzt akzeptiert.</td></tr><tr><td>v13.6.0, v12.16.0</td><td>Die Option <code>pskCallback</code> wird jetzt unterstützt.</td></tr><tr><td>v12.9.0</td><td>Unterstützung für die Option <code>allowHalfOpen</code>.</td></tr><tr><td>v12.4.0</td><td>Die Option <code>hints</code> wird jetzt unterstützt.</td></tr><tr><td>v12.2.0</td><td>Die Option <code>enableTrace</code> wird jetzt unterstützt.</td></tr><tr><td>v11.8.0, v10.16.0</td><td>Die Option <code>timeout</code> wird jetzt unterstützt.</td></tr><tr><td>v8.0.0</td><td>Die Option <code>lookup</code> wird jetzt unterstützt.</td></tr><tr><td>v8.0.0</td><td>Die Option <code>ALPNProtocols</code> kann jetzt ein <code>TypedArray</code> oder <code>DataView</code> sein.</td></tr><tr><td>v5.0.0</td><td>ALPN-Optionen werden jetzt unterstützt.</td></tr><tr><td>v5.3.0, v4.7.0</td><td>Die Option <code>secureContext</code> wird jetzt unterstützt.</td></tr><tr><td>v0.11.3</td><td>Hinzugefügt in: v0.11.3</td></tr></tbody></table></div><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>enableTrace</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>host</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Host, mit dem sich der Client verbinden soll. <strong>Standard:</strong> <code>&#39;localhost&#39;</code>.</li><li><code>port</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Port, mit dem sich der Client verbinden soll.</li><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Erstellt eine Unix-Socket-Verbindung zu dem Pfad. Wenn diese Option angegeben ist, werden <code>host</code> und <code>port</code> ignoriert.</li><li><code>socket</code> <a href="/de/nodejs/api/stream#class-streamduplex">&lt;stream.Duplex&gt;</a> Baut eine sichere Verbindung über einen gegebenen Socket auf, anstatt einen neuen Socket zu erstellen. Typischerweise ist dies eine Instanz von <a href="/de/nodejs/api/net#class-netsocket"><code>net.Socket</code></a>, aber jeder <code>Duplex</code>-Stream ist erlaubt. Wenn diese Option angegeben ist, werden <code>path</code>, <code>host</code> und <code>port</code> ignoriert, außer für die Zertifikatsvalidierung. Normalerweise ist ein Socket bereits verbunden, wenn er an <code>tls.connect()</code> übergeben wird, aber er kann später verbunden werden. Verbindung/Trennung/Zerstörung des <code>socket</code> liegt in der Verantwortung des Benutzers; der Aufruf von <code>tls.connect()</code> führt nicht dazu, dass <code>net.connect()</code> aufgerufen wird.</li><li><code>allowHalfOpen</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn auf <code>false</code> gesetzt, beendet der Socket automatisch die beschreibbare Seite, wenn die lesbare Seite endet. Wenn die Option <code>socket</code> gesetzt ist, hat diese Option keine Auswirkung. Siehe die Option <code>allowHalfOpen</code> von <a href="/de/nodejs/api/net#class-netsocket"><code>net.Socket</code></a> für Details. <strong>Standard:</strong> <code>false</code>.</li><li><code>rejectUnauthorized</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn nicht <code>false</code>, wird das Serverzertifikat anhand der Liste der bereitgestellten CAs verifiziert. Ein <code>&#39;error&#39;</code>-Event wird ausgelöst, wenn die Verifizierung fehlschlägt; <code>err.code</code> enthält den OpenSSL-Fehlercode. <strong>Standard:</strong> <code>true</code>.</li><li><code>pskCallback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Für TLS-PSK-Verhandlungen, siehe <a href="/de/nodejs/api/tls#pre-shared-keys">Pre-Shared Keys</a>.</li><li><code>ALPNProtocols</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Ein Array von Strings, <code>Buffer</code>s, <code>TypedArray</code>s oder <code>DataView</code>s oder ein einzelner <code>Buffer</code>, <code>TypedArray</code> oder <code>DataView</code>, das die unterstützten ALPN-Protokolle enthält. <code>Buffer</code>s sollten das Format <code>[len][name][len][name]...</code> haben, z.B. <code>&#39;\x08http/1.1\x08http/1.0&#39;</code>, wobei das <code>len</code>-Byte die Länge des nächsten Protokollnamens ist. Die Übergabe eines Arrays ist normalerweise viel einfacher, z.B. <code>[&#39;http/1.1&#39;, &#39;http/1.0&#39;]</code>. Protokolle, die in der Liste weiter oben stehen, haben eine höhere Präferenz als die weiter unten.</li><li><code>servername</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Servername für die SNI (Server Name Indication) TLS-Erweiterung. Es ist der Name des Hosts, mit dem eine Verbindung hergestellt wird, und muss ein Hostname und keine IP-Adresse sein. Er kann von einem Multi-Homed-Server verwendet werden, um das richtige Zertifikat auszuwählen, das dem Client präsentiert werden soll, siehe die Option <code>SNICallback</code> zu <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a>.</li><li><code>checkServerIdentity(servername, cert)</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Eine Callback-Funktion, die (anstelle der eingebauten Funktion <code>tls.checkServerIdentity()</code>) verwendet wird, wenn der Hostname des Servers (oder der bereitgestellte <code>servername</code>, wenn er explizit gesetzt ist) mit dem Zertifikat verglichen wird. Dies sollte ein <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> zurückgeben, wenn die Verifizierung fehlschlägt. Die Methode sollte <code>undefined</code> zurückgeben, wenn <code>servername</code> und <code>cert</code> verifiziert sind.</li><li><code>session</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Eine <code>Buffer</code>-Instanz, die die TLS-Sitzung enthält.</li><li><code>minDHSize</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Minimale Größe des DH-Parameters in Bit, um eine TLS-Verbindung zu akzeptieren. Wenn ein Server einen DH-Parameter mit einer Größe von weniger als <code>minDHSize</code> anbietet, wird die TLS-Verbindung zerstört und ein Fehler wird ausgelöst. <strong>Standard:</strong> <code>1024</code>.</li><li><code>highWaterMark</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Konsistent mit dem <code>highWaterMark</code>-Parameter des lesbaren Streams. <strong>Standard:</strong> <code>16 * 1024</code>.</li><li><code>secureContext</code>: TLS-Kontextobjekt, das mit <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> erstellt wurde. Wenn kein <code>secureContext</code> bereitgestellt wird, wird einer erstellt, indem das gesamte <code>options</code>-Objekt an <code>tls.createSecureContext()</code> übergeben wird.</li><li><code>onread</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Wenn die Option <code>socket</code> fehlt, werden eingehende Daten in einem einzelnen <code>Buffer</code> gespeichert und an den bereitgestellten <code>callback</code> übergeben, wenn Daten auf dem Socket eintreffen, andernfalls wird die Option ignoriert. Siehe die Option <code>onread</code> von <a href="/de/nodejs/api/net#class-netsocket"><code>net.Socket</code></a> für Details.</li><li>...: <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> Optionen, die verwendet werden, wenn die Option <code>secureContext</code> fehlt, andernfalls werden sie ignoriert.</li><li>...: Jede <a href="/de/nodejs/api/net#socketconnectoptions-connectlistener"><code>socket.connect()</code></a> Option, die noch nicht aufgeführt ist.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p></li><li><p>Rückgabe: <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a></p></li></ul><p>Die <code>callback</code>-Funktion wird, falls angegeben, als Listener für das <a href="/de/nodejs/api/tls#event-secureconnect"><code>&#39;secureConnect&#39;</code></a>-Ereignis hinzugefügt.</p><p><code>tls.connect()</code> gibt ein <a href="/de/nodejs/api/tls#class-tlstlssocket"><code>tls.TLSSocket</code></a>-Objekt zurück.</p><p>Im Gegensatz zur <code>https</code>-API aktiviert <code>tls.connect()</code> die SNI-Erweiterung (Server Name Indication) nicht standardmäßig, was dazu führen kann, dass einige Server ein falsches Zertifikat zurückgeben oder die Verbindung ganz ablehnen. Um SNI zu aktivieren, setzen Sie zusätzlich zu <code>host</code> die Option <code>servername</code>.</p><p>Das Folgende veranschaulicht einen Client für das Echo-Server-Beispiel von <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a>:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-2354" id="tab-2355" checked><label data-title="ESM" for="tab-2355">ESM</label><input type="radio" name="group-2354" id="tab-2356"><label data-title="CJS" for="tab-2356">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Setzt einen Echo-Server voraus, der an Port 8000 lauscht.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { connect } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { stdin } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:process&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Nur notwendig, wenn der Server eine Client-Zertifikatsauthentifizierung erfordert.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  key: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client-key.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  cert: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Nur notwendig, wenn der Server ein selbstsigniertes Zertifikat verwendet.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ca: [ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Nur notwendig, wenn das Zertifikat des Servers nicht für &quot;localhost&quot; bestimmt ist.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  checkServerIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> socket</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, options, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client connected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              socket.authorized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;authorized&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;unauthorized&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stdin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stdin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server ends connection&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Setzt einen Echo-Server voraus, der an Port 8000 lauscht.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Nur notwendig, wenn der Server eine Client-Zertifikatsauthentifizierung erfordert.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  key: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client-key.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  cert: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Nur notwendig, wenn der Server ein selbstsigniertes Zertifikat verwendet.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ca: [ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Nur notwendig, wenn das Zertifikat des Servers nicht für &quot;localhost&quot; bestimmt ist.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  checkServerIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> socket</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, options, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client connected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              socket.authorized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;authorized&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;unauthorized&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  process.stdin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  process.stdin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;end&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server ends connection&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></div></div><p>Um das Zertifikat und den Schlüssel für dieses Beispiel zu generieren, führen Sie Folgendes aus:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> req</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x509</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -newkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa:2048</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -nodes</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sha256</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -subj</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/CN=localhost&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -keyout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client-cert.pem</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Um dann das <code>server-cert.pem</code>-Zertifikat für dieses Beispiel zu generieren, führen Sie Folgendes aus:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pkcs12</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -certpbe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AES-256-CBC</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -export</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server-cert.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -inkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client-cert.pem</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="tlsconnectpath-options-callback" tabindex="-1"><code>tls.connect(path[, options][, callback])</code> <a class="header-anchor" href="#tlsconnectpath-options-callback" aria-label="Permalink to “tls.connect(path[, options][, callback])”">​</a></h2><p><strong>Hinzugefügt in: v0.11.3</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Standardwert für <code>options.path</code>.</li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Siehe <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a>.</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Siehe <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a>.</li><li>Rückgabe: <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a></li></ul><p>Gleich wie <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a>, außer dass <code>path</code> als Argument anstelle einer Option angegeben werden kann.</p><p>Eine Pfadoption hat, falls angegeben, Vorrang vor dem Pfadargument.</p><h2 id="tlsconnectport-host-options-callback" tabindex="-1"><code>tls.connect(port[, host][, options][, callback])</code> <a class="header-anchor" href="#tlsconnectport-host-options-callback" aria-label="Permalink to “tls.connect(port[, host][, options][, callback])”">​</a></h2><p><strong>Hinzugefügt in: v0.11.3</strong></p><ul><li><code>port</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Standardwert für <code>options.port</code>.</li><li><code>host</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Standardwert für <code>options.host</code>.</li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Siehe <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a>.</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Siehe <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a>.</li><li>Rückgabe: <a href="/de/nodejs/api/tls#class-tlstlssocket">&lt;tls.TLSSocket&gt;</a></li></ul><p>Gleich wie <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a>, außer dass <code>port</code> und <code>host</code> als Argumente anstelle von Optionen angegeben werden können.</p><p>Eine Port- oder Host-Option hat, falls angegeben, Vorrang vor einem Port- oder Host-Argument.</p><h2 id="tlscreatesecurecontextoptions" tabindex="-1"><code>tls.createSecureContext([options])</code> <a class="header-anchor" href="#tlscreatesecurecontextoptions" aria-label="Permalink to “tls.createSecureContext([options])”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[Historie]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v22.9.0, v20.18.0</td><td>Die Option <code>allowPartialTrustChain</code> wurde hinzugefügt.</td></tr><tr><td>v22.4.0, v20.16.0</td><td>Die Optionen <code>clientCertEngine</code>, <code>privateKeyEngine</code> und <code>privateKeyIdentifier</code> hängen von der Unterstützung für benutzerdefinierte Engines in OpenSSL ab, die in OpenSSL 3 als veraltet gilt.</td></tr><tr><td>v19.8.0, v18.16.0</td><td>Die Option <code>dhparam</code> kann jetzt auf <code>&#39;auto&#39;</code> gesetzt werden, um DHE mit geeigneten, bekannten Parametern zu aktivieren.</td></tr><tr><td>v12.12.0</td><td>Die Optionen <code>privateKeyIdentifier</code> und <code>privateKeyEngine</code> wurden hinzugefügt, um den privaten Schlüssel von einer OpenSSL-Engine abzurufen.</td></tr><tr><td>v12.11.0</td><td>Die Option <code>sigalgs</code> wurde hinzugefügt, um die unterstützten Signaturalgorithmen zu überschreiben.</td></tr><tr><td>v12.0.0</td><td>TLSv1.3-Unterstützung hinzugefügt.</td></tr><tr><td>v11.5.0</td><td>Die Option <code>ca:</code> unterstützt jetzt <code>BEGIN TRUSTED CERTIFICATE</code>.</td></tr><tr><td>v11.4.0, v10.16.0</td><td>Die <code>minVersion</code> und <code>maxVersion</code> können verwendet werden, um die zulässigen TLS-Protokollversionen einzuschränken.</td></tr><tr><td>v10.0.0</td><td>Die <code>ecdhCurve</code> kann aufgrund einer Änderung in OpenSSL nicht mehr auf <code>false</code> gesetzt werden.</td></tr><tr><td>v9.3.0</td><td>Der Parameter <code>options</code> kann jetzt <code>clientCertEngine</code> enthalten.</td></tr><tr><td>v9.0.0</td><td>Die Option <code>ecdhCurve</code> kann jetzt mehrere durch <code>&#39;:&#39;</code> getrennte Kurvennamen oder <code>&#39;auto&#39;</code> sein.</td></tr><tr><td>v7.3.0</td><td>Wenn die Option <code>key</code> ein Array ist, benötigen einzelne Einträge keine <code>passphrase</code>-Eigenschaft mehr. <code>Array</code>-Einträge können jetzt auch einfach <code>string</code>s oder <code>Buffer</code>s sein.</td></tr><tr><td>v5.2.0</td><td>Die Option <code>ca</code> kann jetzt ein einzelner String sein, der mehrere CA-Zertifikate enthält.</td></tr><tr><td>v0.11.13</td><td>Hinzugefügt in: v0.11.13</td></tr></tbody></table></div><ul><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>allowPartialTrustChain</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Behandle intermediäre (nicht selbstsignierte) Zertifikate in der Liste der vertrauenswürdigen CA-Zertifikate als vertrauenswürdig.</li><li><code>ca</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> Überschreibt optional die vertrauenswürdigen CA-Zertifikate. Standardmäßig werden die bekannten CAs, die von Mozilla kuratiert werden, als vertrauenswürdig eingestuft. Die CAs von Mozilla werden vollständig ersetzt, wenn CAs explizit mit dieser Option angegeben werden. Der Wert kann ein String oder ein <code>Buffer</code> oder ein <code>Array</code> von Strings und/oder <code>Buffer</code>s sein. Jeder String oder <code>Buffer</code> kann mehrere PEM-CAs enthalten, die miteinander verkettet sind. Das Zertifikat des Peers muss mit einer CA verkettbar sein, der der Server vertraut, damit die Verbindung authentifiziert werden kann. Bei Verwendung von Zertifikaten, die nicht mit einer bekannten CA verkettbar sind, muss die CA des Zertifikats explizit als vertrauenswürdig angegeben werden, andernfalls kann die Verbindung nicht authentifiziert werden. Wenn der Peer ein Zertifikat verwendet, das nicht mit einer der Standard-CAs übereinstimmt oder mit einer solchen verkettet ist, verwenden Sie die Option <code>ca</code>, um ein CA-Zertifikat bereitzustellen, mit dem das Zertifikat des Peers übereinstimmen oder mit dem es verkettet werden kann. Für selbstsignierte Zertifikate ist das Zertifikat seine eigene CA und muss bereitgestellt werden. Für PEM-kodierte Zertifikate sind die unterstützten Typen &quot;TRUSTED CERTIFICATE&quot;, &quot;X509 CERTIFICATE&quot; und &quot;CERTIFICATE&quot;. Siehe auch <a href="/de/nodejs/api/tls#tlsrootcertificates"><code>tls.rootCertificates</code></a>.</li><li><code>cert</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> Zertifikatsketten im PEM-Format. Pro privatem Schlüssel sollte eine Zertifikatskette bereitgestellt werden. Jede Zertifikatskette sollte aus dem PEM-formatierten Zertifikat für einen bereitgestellten privaten <code>key</code> bestehen, gefolgt von den PEM-formatierten Zwischenzertifikaten (falls vorhanden), in der Reihenfolge und ohne die Root-CA (die Root-CA muss dem Peer bekannt sein, siehe <code>ca</code>). Wenn mehrere Zertifikatsketten bereitgestellt werden, müssen sie nicht in der gleichen Reihenfolge wie ihre privaten Schlüssel in <code>key</code> stehen. Wenn die Zwischenzertifikate nicht bereitgestellt werden, kann der Peer das Zertifikat nicht validieren und der Handshake schlägt fehl.</li><li><code>sigalgs</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Durch Doppelpunkte getrennte Liste der unterstützten Signaturalgorithmen. Die Liste kann Digest-Algorithmen (<code>SHA256</code>, <code>MD5</code> usw.), Public-Key-Algorithmen (<code>RSA-PSS</code>, <code>ECDSA</code> usw.), eine Kombination aus beidem (z. B. &#39;RSA+SHA384&#39;) oder TLS v1.3-Schemanammen (z. B. <code>rsa_pss_pss_sha512</code>) enthalten. Weitere Informationen finden Sie in den <a href="https://www.openssl.org/docs/man1.1.1/man3/SSL_CTX_set1_sigalgs_list" target="_blank" rel="noreferrer">OpenSSL-Handbuchseiten</a>.</li><li><code>ciphers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Chiffrensuite-Spezifikation, die die Standardeinstellung ersetzt. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#modifying-the-default-tls-cipher-suite">Ändern der standardmäßigen TLS-Chiffrensuite</a>. Zulässige Chiffren können über <a href="/de/nodejs/api/tls#tlsgetciphers"><code>tls.getCiphers()</code></a> abgerufen werden. Chiffrennamen müssen großgeschrieben sein, damit OpenSSL sie akzeptiert.</li><li><code>clientCertEngine</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Name einer OpenSSL-Engine, die das Clientzertifikat bereitstellen kann. <strong>Veraltet.</strong></li><li><code>crl</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> PEM-formatierte CRLs (Certificate Revocation Lists).</li><li><code>dhparam</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> <code>&#39;auto&#39;</code> oder benutzerdefinierte Diffie-Hellman-Parameter, erforderlich für nicht-ECDHE <a href="/de/nodejs/api/tls#perfect-forward-secrecy">Perfect Forward Secrecy</a>. Wenn sie weggelassen oder ungültig sind, werden die Parameter stillschweigend verworfen und DHE-Chiffren sind nicht verfügbar. <a href="https://en.wikipedia.org/wiki/Elliptic_curve_Diffie%E2%80%93Hellman" target="_blank" rel="noreferrer">ECDHE</a>-basierte <a href="/de/nodejs/api/tls#perfect-forward-secrecy">Perfect Forward Secrecy</a> ist weiterhin verfügbar.</li><li><code>ecdhCurve</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Ein String, der eine benannte Kurve oder eine durch Doppelpunkte getrennte Liste von Kurven-NIDs oder -Namen beschreibt, z. B. <code>P-521:P-384:P-256</code>, die für die ECDH-Schlüsselvereinbarung verwendet werden soll. Setzen Sie sie auf <code>auto</code>, um die Kurve automatisch auszuwählen. Verwenden Sie <a href="/de/nodejs/api/crypto#cryptogetcurves"><code>crypto.getCurves()</code></a>, um eine Liste der verfügbaren Kurvennamen abzurufen. In neueren Versionen zeigt <code>openssl ecparam -list_curves</code> auch den Namen und die Beschreibung jeder verfügbaren elliptischen Kurve an. <strong>Standard:</strong> <a href="/de/nodejs/api/tls#tlsdefault-ecdh-curve"><code>tls.DEFAULT_ECDH_CURVE</code></a>.</li><li><code>honorCipherOrder</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Versuchen Sie, die Chiffrensuite-Präferenzen des Servers anstelle der des Clients zu verwenden. Wenn <code>true</code>, wird <code>SSL_OP_CIPHER_SERVER_PREFERENCE</code> in <code>secureOptions</code> gesetzt. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/crypto#openssl-options">OpenSSL-Optionen</a>.</li><li><code>key</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object[]&gt;</a> Private Schlüssel im PEM-Format. PEM ermöglicht die Option, private Schlüssel zu verschlüsseln. Verschlüsselte Schlüssel werden mit <code>options.passphrase</code> entschlüsselt. Es können mehrere Schlüssel mit unterschiedlichen Algorithmen entweder als Array von unverschlüsselten Schlüsselstrings oder -puffern oder als Array von Objekten im Format <code>{pem: \&lt;string|buffer\&gt;[, passphrase: \&lt;string\&gt;]}</code> bereitgestellt werden. Die Objektform kann nur in einem Array vorkommen. <code>object.passphrase</code> ist optional. Verschlüsselte Schlüssel werden mit <code>object.passphrase</code> entschlüsselt, falls vorhanden, oder mit <code>options.passphrase</code>, falls nicht.</li><li><code>privateKeyEngine</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Name einer OpenSSL-Engine, von der der private Schlüssel abgerufen werden soll. Sollte zusammen mit <code>privateKeyIdentifier</code> verwendet werden. <strong>Veraltet.</strong></li><li><code>privateKeyIdentifier</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Kennung eines privaten Schlüssels, der von einer OpenSSL-Engine verwaltet wird. Sollte zusammen mit <code>privateKeyEngine</code> verwendet werden. Sollte nicht zusammen mit <code>key</code> gesetzt werden, da beide Optionen einen privaten Schlüssel auf unterschiedliche Weise definieren. <strong>Veraltet.</strong></li><li><code>maxVersion</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Legt optional die maximal zulässige TLS-Version fest. Eine von <code>&#39;TLSv1.3&#39;</code>, <code>&#39;TLSv1.2&#39;</code>, <code>&#39;TLSv1.1&#39;</code> oder <code>&#39;TLSv1&#39;</code>. Kann nicht zusammen mit der Option <code>secureProtocol</code> angegeben werden; verwenden Sie entweder das eine oder das andere. <strong>Standard:</strong> <a href="/de/nodejs/api/tls#tlsdefault-max-version"><code>tls.DEFAULT_MAX_VERSION</code></a>.</li><li><code>minVersion</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Legt optional die minimal zulässige TLS-Version fest. Eine von <code>&#39;TLSv1.3&#39;</code>, <code>&#39;TLSv1.2&#39;</code>, <code>&#39;TLSv1.1&#39;</code> oder <code>&#39;TLSv1&#39;</code>. Kann nicht zusammen mit der Option <code>secureProtocol</code> angegeben werden; verwenden Sie entweder das eine oder das andere. Vermeiden Sie es, sie auf weniger als TLSv1.2 zu setzen, aber dies kann für die Interoperabilität erforderlich sein. Versionen vor TLSv1.2 erfordern möglicherweise ein Downgrade des <a href="/de/nodejs/api/tls#openssl-security-level">OpenSSL-Sicherheitslevels</a>. <strong>Standard:</strong> <a href="/de/nodejs/api/tls#tlsdefault-min-version"><code>tls.DEFAULT_MIN_VERSION</code></a>.</li><li><code>passphrase</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Gemeinsame Passphrase, die für einen einzelnen privaten Schlüssel und/oder eine PFX verwendet wird.</li><li><code>pfx</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object[]&gt;</a> PFX- oder PKCS12-kodierter privater Schlüssel und Zertifikatskette. <code>pfx</code> ist eine Alternative zur individuellen Bereitstellung von <code>key</code> und <code>cert</code>. PFX ist normalerweise verschlüsselt. Wenn dies der Fall ist, wird <code>passphrase</code> verwendet, um es zu entschlüsseln. Es können mehrere PFX entweder als Array von unverschlüsselten PFX-Puffern oder als Array von Objekten im Format <code>{buf: \&lt;string|buffer\&gt;[, passphrase: \&lt;string\&gt;]}</code> bereitgestellt werden. Die Objektform kann nur in einem Array vorkommen. <code>object.passphrase</code> ist optional. Verschlüsselte PFX werden mit <code>object.passphrase</code> entschlüsselt, falls vorhanden, oder mit <code>options.passphrase</code>, falls nicht.</li><li><code>secureOptions</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Beeinflusst optional das OpenSSL-Protokollverhalten, was normalerweise nicht erforderlich ist. Dies sollte nur mit Vorsicht verwendet werden! Der Wert ist eine numerische Bitmaske der <code>SSL_OP_*</code>-Optionen aus <a href="/de/nodejs/api/crypto#openssl-options">OpenSSL-Optionen</a>.</li><li><code>secureProtocol</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Legacy-Mechanismus zur Auswahl der zu verwendenden TLS-Protokollversion, der keine unabhängige Steuerung der minimalen und maximalen Version unterstützt und die Protokollbeschränkung auf TLSv1.3 nicht unterstützt. Verwenden Sie stattdessen <code>minVersion</code> und <code>maxVersion</code>. Die möglichen Werte sind als <a href="https://www.openssl.org/docs/man1.1.1/man7/ssl#Dealing-with-Protocol-Methods" target="_blank" rel="noreferrer">SSL_METHODS</a> aufgeführt. Verwenden Sie die Funktionsnamen als Strings. Verwenden Sie beispielsweise <code>&#39;TLSv1_1_method&#39;</code>, um die TLS-Version 1.1 zu erzwingen, oder <code>&#39;TLS_method&#39;</code>, um jede TLS-Protokollversion bis zu TLSv1.3 zuzulassen. Es wird nicht empfohlen, TLS-Versionen unter 1.2 zu verwenden, aber dies kann für die Interoperabilität erforderlich sein. <strong>Standard:</strong> keine, siehe <code>minVersion</code>.</li><li><code>sessionIdContext</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Opaker Bezeichner, der von Servern verwendet wird, um sicherzustellen, dass der Sitzungsstatus nicht zwischen Anwendungen geteilt wird. Wird von Clients nicht verwendet.</li><li><code>ticketKeys</code>: <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> 48 Bytes kryptografisch starker pseudozufälliger Daten. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Session Resumption</a>.</li><li><code>sessionTimeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Die Anzahl der Sekunden, nach denen eine vom Server erstellte TLS-Sitzung nicht mehr wiederaufgenommen werden kann. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Session Resumption</a>. <strong>Standard:</strong> <code>300</code>.</li></ul></li></ul><p><a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a> setzt den Standardwert der Option <code>honorCipherOrder</code> auf <code>true</code>, andere APIs, die sichere Kontexte erstellen, lassen sie nicht gesetzt.</p><p><a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a> verwendet einen aus <code>process.argv</code> generierten 128-Bit-SHA1-Hashwert als Standardwert der Option <code>sessionIdContext</code>, andere APIs, die sichere Kontexte erstellen, haben keinen Standardwert.</p><p>Die Methode <code>tls.createSecureContext()</code> erstellt ein <code>SecureContext</code>-Objekt. Es kann als Argument für verschiedene <code>tls</code>-APIs verwendet werden, z. B. <a href="/de/nodejs/api/tls#serveraddcontexthostname-context"><code>server.addContext()</code></a>, hat aber keine öffentlichen Methoden. Der <a href="/de/nodejs/api/tls#class-tlsserver"><code>tls.Server</code></a>-Konstruktor und die Methode <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a> unterstützen die Option <code>secureContext</code> nicht.</p><p>Ein Schlüssel ist für Chiffren, die Zertifikate verwenden, <em>erforderlich</em>. Entweder <code>key</code> oder <code>pfx</code> können verwendet werden, um ihn bereitzustellen.</p><p>Wenn die Option <code>ca</code> nicht angegeben ist, verwendet Node.js standardmäßig <a href="https://hg.mozilla.org/mozilla-central/raw-file/tip/security/nss/lib/ckfw/builtins/certdata.txt" target="_blank" rel="noreferrer">Mozillas öffentlich vertrauenswürdige Liste von CAs</a>.</p><p>Benutzerdefinierte DHE-Parameter werden zugunsten der neuen Option <code>dhparam: &#39;auto&#39;</code> abgeraten. Wenn sie auf <code>&#39;auto&#39;</code> gesetzt ist, werden automatisch bekannte DHE-Parameter mit ausreichender Stärke ausgewählt. Andernfalls kann bei Bedarf <code>openssl dhparam</code> verwendet werden, um benutzerdefinierte Parameter zu erstellen. Die Schlüssellänge muss größer oder gleich 1024 Bit sein, andernfalls wird ein Fehler ausgelöst. Obwohl 1024 Bit zulässig sind, verwenden Sie 2048 Bit oder mehr für eine stärkere Sicherheit.</p><h2 id="tlscreatesecurepaircontext-isserver-requestcert-rejectunauthorized-options" tabindex="-1"><code>tls.createSecurePair([context][, isServer][, requestCert][, rejectUnauthorized][, options])</code> <a class="header-anchor" href="#tlscreatesecurepaircontext-isserver-requestcert-rejectunauthorized-options" aria-label="Permalink to “tls.createSecurePair([context][, isServer][, requestCert][, rejectUnauthorized][, options])”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v5.0.0</td><td>ALPN-Optionen werden jetzt unterstützt.</td></tr><tr><td>v0.11.3</td><td>Veraltet seit: v0.11.3</td></tr><tr><td>v0.3.2</td><td>Hinzugefügt in: v0.3.2</td></tr></tbody></table></div><div class="danger custom-block"><p class="custom-block-title">[Stabil: 0 - Veraltet]</p><p><a href="/de/nodejs/api/documentation#stability-index">Stabil: 0</a> <a href="/de/nodejs/api/documentation#stability-index">Stabilität: 0</a> - Veraltet: Verwenden Sie stattdessen <a href="/de/nodejs/api/tls#class-tlstlssocket"><code>tls.TLSSocket</code></a>.</p></div><ul><li><code>context</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> Ein sicheres Kontextobjekt, wie von <code>tls.createSecureContext()</code> zurückgegeben</li><li><code>isServer</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code>, um anzugeben, dass diese TLS-Verbindung als Server geöffnet werden soll.</li><li><code>requestCert</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code>, um anzugeben, ob ein Server ein Zertifikat von einem sich verbindenden Client anfordern soll. Gilt nur, wenn <code>isServer</code> <code>true</code> ist.</li><li><code>rejectUnauthorized</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn nicht <code>false</code>, lehnt ein Server automatisch Clients mit ungültigen Zertifikaten ab. Gilt nur, wenn <code>isServer</code> <code>true</code> ist.</li><li><code>options</code><ul><li><code>enableTrace</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>secureContext</code>: Ein TLS-Kontextobjekt von <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a></li><li><code>isServer</code>: Wenn <code>true</code>, wird der TLS-Socket im Server-Modus instanziiert. <strong>Standard:</strong> <code>false</code>.</li><li><code>server</code> <a href="/de/nodejs/api/net#class-netserver">&lt;net.Server&gt;</a> Eine <a href="/de/nodejs/api/net#class-netserver"><code>net.Server</code></a>-Instanz</li><li><code>requestCert</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>rejectUnauthorized</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>ALPNProtocols</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>SNICallback</code>: Siehe <a href="/de/nodejs/api/tls#tlscreateserveroptions-secureconnectionlistener"><code>tls.createServer()</code></a></li><li><code>session</code> <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Eine <code>Buffer</code>-Instanz, die eine TLS-Sitzung enthält.</li><li><code>requestOCSP</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn <code>true</code>, gibt an, dass die OCSP-Statusanforderungserweiterung zum Client-Hallo hinzugefügt wird und ein <code>&#39;OCSPResponse&#39;</code>-Ereignis auf dem Socket ausgelöst wird, bevor eine sichere Kommunikation hergestellt wird.</li></ul></li></ul><p>Erstellt ein neues sicheres Paarobjekt mit zwei Streams, von denen einer die verschlüsselten Daten liest und schreibt und der andere die Klartextdaten liest und schreibt. Im Allgemeinen wird der verschlüsselte Stream zu/von einem eingehenden verschlüsselten Datenstrom geleitet und der Klartextstrom als Ersatz für den anfänglichen verschlüsselten Strom verwendet.</p><p><code>tls.createSecurePair()</code> gibt ein <code>tls.SecurePair</code>-Objekt mit den Stream-Eigenschaften <code>cleartext</code> und <code>encrypted</code> zurück.</p><p>Die Verwendung von <code>cleartext</code> hat die gleiche API wie <a href="/de/nodejs/api/tls#class-tlstlssocket"><code>tls.TLSSocket</code></a>.</p><p>Die Methode <code>tls.createSecurePair()</code> ist jetzt zugunsten von <code>tls.TLSSocket()</code> veraltet. Zum Beispiel kann der Code:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pair </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tls.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createSecurePair</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pair.encrypted.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pair.encrypted);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ersetzt werden durch:</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">secureSocket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tls.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TLSSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket, options);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>wobei <code>secureSocket</code> die gleiche API wie <code>pair.cleartext</code> hat.</p><h2 id="tlscreateserveroptions-secureconnectionlistener" tabindex="-1"><code>tls.createServer([options][, secureConnectionListener])</code> <a class="header-anchor" href="#tlscreateserveroptions-secureconnectionlistener" aria-label="Permalink to “tls.createServer([options][, secureConnectionListener])”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v22.4.0, v20.16.0</td><td>Die Option <code>clientCertEngine</code> hängt von der Unterstützung benutzerdefinierter Engines in OpenSSL ab, die in OpenSSL 3 veraltet ist.</td></tr><tr><td>v19.0.0</td><td>Wenn <code>ALPNProtocols</code> gesetzt ist, werden eingehende Verbindungen, die eine ALPN-Erweiterung ohne unterstützte Protokolle senden, mit einer fatalen <code>no_application_protocol</code>-Warnung beendet.</td></tr><tr><td>v20.4.0, v18.19.0</td><td>Der Parameter <code>options</code> kann jetzt <code>ALPNCallback</code> enthalten.</td></tr><tr><td>v12.3.0</td><td>Der Parameter <code>options</code> unterstützt jetzt <code>net.createServer()</code>-Optionen.</td></tr><tr><td>v9.3.0</td><td>Der Parameter <code>options</code> kann jetzt <code>clientCertEngine</code> enthalten.</td></tr><tr><td>v8.0.0</td><td>Die Option <code>ALPNProtocols</code> kann jetzt ein <code>TypedArray</code> oder <code>DataView</code> sein.</td></tr><tr><td>v5.0.0</td><td>ALPN-Optionen werden jetzt unterstützt.</td></tr><tr><td>v0.3.2</td><td>Hinzugefügt in: v0.3.2</td></tr></tbody></table></div><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>ALPNProtocols</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView[]&gt;</a> | <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Ein Array von Strings, <code>Buffer</code>s, <code>TypedArray</code>s oder <code>DataView</code>s, oder ein einzelner <code>Buffer</code>, <code>TypedArray</code> oder <code>DataView</code>, der die unterstützten ALPN-Protokolle enthält. <code>Buffer</code>s sollten das Format <code>[len][name][len][name]...</code> haben, z. B. <code>0x05hello0x05world</code>, wobei das erste Byte die Länge des nächsten Protokollnamens ist. Das Übergeben eines Arrays ist normalerweise viel einfacher, z. B. <code>[&#39;hello&#39;, &#39;world&#39;]</code>. (Protokolle sollten nach ihrer Priorität geordnet sein.)</li><li><code>ALPNCallback</code>: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Wenn gesetzt, wird dies aufgerufen, wenn ein Client eine Verbindung unter Verwendung der ALPN-Erweiterung öffnet. Ein Argument wird an den Callback übergeben: ein Objekt, das die Felder <code>servername</code> und <code>protocols</code> enthält, die jeweils den Servernamen aus der SNI-Erweiterung (falls vorhanden) und ein Array von ALPN-Protokollnamen-Strings enthalten. Der Callback muss entweder einen der in <code>protocols</code> aufgeführten Strings zurückgeben, der an den Client als das ausgewählte ALPN-Protokoll zurückgegeben wird, oder <code>undefined</code>, um die Verbindung mit einer fatalen Warnung abzulehnen. Wenn ein String zurückgegeben wird, der nicht mit einem der ALPN-Protokolle des Clients übereinstimmt, wird ein Fehler ausgelöst. Diese Option kann nicht mit der Option <code>ALPNProtocols</code> verwendet werden, und das Setzen beider Optionen löst einen Fehler aus.</li><li><code>clientCertEngine</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Name einer OpenSSL-Engine, die das Client-Zertifikat bereitstellen kann. <strong>Veraltet.</strong></li><li><code>enableTrace</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn <code>true</code>, wird <a href="/de/nodejs/api/tls#tlssocketenabletrace"><code>tls.TLSSocket.enableTrace()</code></a> für neue Verbindungen aufgerufen. Tracing kann aktiviert werden, nachdem die sichere Verbindung hergestellt wurde, aber diese Option muss verwendet werden, um den Aufbau der sicheren Verbindung zu verfolgen. <strong>Standard:</strong> <code>false</code>.</li><li><code>handshakeTimeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Die Verbindung wird abgebrochen, wenn der SSL/TLS-Handshake nicht innerhalb der angegebenen Anzahl von Millisekunden abgeschlossen wird. Ein <code>&#39;tlsClientError&#39;</code> wird für das <code>tls.Server</code>-Objekt ausgelöst, wenn ein Handshake-Timeout auftritt. <strong>Standard:</strong> <code>120000</code> (120 Sekunden).</li><li><code>rejectUnauthorized</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn nicht <code>false</code>, lehnt der Server jede Verbindung ab, die nicht mit der Liste der bereitgestellten CAs autorisiert ist. Diese Option hat nur eine Auswirkung, wenn <code>requestCert</code> <code>true</code> ist. <strong>Standard:</strong> <code>true</code>.</li><li><code>requestCert</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Wenn <code>true</code>, fordert der Server ein Zertifikat von Clients an, die sich verbinden, und versucht, dieses Zertifikat zu verifizieren. <strong>Standard:</strong> <code>false</code>.</li><li><code>sessionTimeout</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Die Anzahl der Sekunden, nach denen eine vom Server erstellte TLS-Sitzung nicht mehr wiederaufgenommen werden kann. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Sitzungswiederaufnahme</a>. <strong>Standard:</strong> <code>300</code>.</li><li><code>SNICallback(servername, callback)</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Eine Funktion, die aufgerufen wird, wenn der Client die SNI-TLS-Erweiterung unterstützt. Zwei Argumente werden beim Aufruf übergeben: <code>servername</code> und <code>callback</code>. <code>callback</code> ist ein Error-First-Callback, der zwei optionale Argumente entgegennimmt: <code>error</code> und <code>ctx</code>. <code>ctx</code>, falls bereitgestellt, ist eine <code>SecureContext</code>-Instanz. <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> kann verwendet werden, um einen korrekten <code>SecureContext</code> zu erhalten. Wenn <code>callback</code> mit einem falschen <code>ctx</code>-Argument aufgerufen wird, wird der Standard-Secure-Context des Servers verwendet. Wenn <code>SNICallback</code> nicht bereitgestellt wurde, wird der Standard-Callback mit High-Level-API verwendet (siehe unten).</li><li><code>ticketKeys</code>: <a href="/de/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> 48 Byte kryptografisch starker pseudozufälliger Daten. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#session-resumption">Sitzungswiederaufnahme</a>.</li><li><code>pskCallback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Für TLS-PSK-Verhandlungen siehe <a href="/de/nodejs/api/tls#pre-shared-keys">Pre-Shared Keys</a>.</li><li><code>pskIdentityHint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> optionaler Hinweis, der an einen Client gesendet werden soll, um bei der Auswahl der Identität während der TLS-PSK-Verhandlung zu helfen. Wird in TLS 1.3 ignoriert. Wenn das Festlegen von pskIdentityHint fehlschlägt, wird <code>&#39;tlsClientError&#39;</code> mit dem Code <code>&#39;ERR_TLS_PSK_SET_IDENTITY_HINT_FAILED&#39;</code> ausgelöst.</li><li>...: Jede <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a>-Option kann bereitgestellt werden. Für Server sind die Identitätsoptionen (<code>pfx</code>, <code>key</code>/<code>cert</code> oder <code>pskCallback</code>) normalerweise erforderlich.</li><li>...: Jede <a href="/de/nodejs/api/net#netcreateserveroptions-connectionlistener"><code>net.createServer()</code></a>-Option kann bereitgestellt werden.</li></ul></li><li><p><code>secureConnectionListener</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p></li><li><p>Gibt zurück: <a href="/de/nodejs/api/tls#class-tlsserver">&lt;tls.Server&gt;</a></p></li></ul><p>Erstellt einen neuen <a href="/de/nodejs/api/tls#class-tlsserver"><code>tls.Server</code></a>. Der <code>secureConnectionListener</code> wird, falls angegeben, automatisch als Listener für das <a href="/de/nodejs/api/tls#event-secureconnection"><code>&#39;secureConnection&#39;</code>-Ereignis</a> gesetzt.</p><p>Die Option <code>ticketKeys</code> wird automatisch zwischen den Worker-Threads des <code>node:cluster</code>-Moduls geteilt.</p><p>Das folgende Beispiel zeigt einen einfachen Echo-Server:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-3035" id="tab-3036" checked><label data-title="ESM" for="tab-3036">ESM</label><input type="radio" name="group-3035" id="tab-3037"><label data-title="CJS" for="tab-3037">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createServer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  key: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server-key.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  cert: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Dies ist nur erforderlich, wenn die Client-Zertifikatsauthentifizierung verwendet wird.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  requestCert: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Dies ist nur erforderlich, wenn der Client ein selbstsigniertes Zertifikat verwendet.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ca: [ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server connected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              socket.authorized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;authorized&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;unauthorized&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server bound&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:tls&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  key: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server-key.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  cert: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Dies ist nur erforderlich, wenn die Client-Zertifikatsauthentifizierung verwendet wird.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  requestCert: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Dies ist nur erforderlich, wenn der Client ein selbstsigniertes Zertifikat verwendet.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ca: [ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;client-cert.pem&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(options, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server connected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">              socket.authorized </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;authorized&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;unauthorized&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;welcome!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setEncoding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;server bound&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></div></div><p>Um das Zertifikat und den Schlüssel für dieses Beispiel zu generieren, führen Sie Folgendes aus:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> req</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x509</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -newkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa:2048</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -nodes</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -sha256</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -subj</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/CN=localhost&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -keyout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server-cert.pem</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Um dann das Zertifikat <code>client-cert.pem</code> für dieses Beispiel zu generieren, führen Sie Folgendes aus:</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pkcs12</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -certpbe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> AES-256-CBC</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -export</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> client-cert.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -inkey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server-key.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server-cert.pem</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Der Server kann getestet werden, indem man sich mit dem Beispiel-Client von <a href="/de/nodejs/api/tls#tlsconnectoptions-callback"><code>tls.connect()</code></a> mit ihm verbindet.</p><h2 id="tlsgetciphers" tabindex="-1"><code>tls.getCiphers()</code> <a class="header-anchor" href="#tlsgetciphers" aria-label="Permalink to “tls.getCiphers()”">​</a></h2><p><strong>Hinzugefügt in: v0.10.2</strong></p><ul><li>Gibt zurück: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a></li></ul><p>Gibt ein Array mit den Namen der unterstützten TLS-Chiffren zurück. Die Namen sind aus historischen Gründen kleingeschrieben, müssen aber in Großbuchstaben geschrieben werden, um in der Option <code>ciphers</code> von <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a> verwendet zu werden.</p><p>Nicht alle unterstützten Chiffren sind standardmäßig aktiviert. Siehe <a href="/de/nodejs/api/tls#modifying-the-default-tls-cipher-suite">Ändern der standardmäßigen TLS-Cipher Suite</a>.</p><p>Chiffrennamen, die mit <code>&#39;tls_&#39;</code> beginnen, sind für TLSv1.3, alle anderen sind für TLSv1.2 und darunter.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tls.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCiphers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&#39;aes128-gcm-sha256&#39;, &#39;aes128-sha&#39;, ...]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="tlsrootcertificates" tabindex="-1"><code>tls.rootCertificates</code> <a class="header-anchor" href="#tlsrootcertificates" aria-label="Permalink to “tls.rootCertificates”">​</a></h2><p><strong>Hinzugefügt in: v12.3.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a></li></ul><p>Ein unveränderliches Array von Strings, das die Root-Zertifikate (im PEM-Format) aus dem mitgelieferten Mozilla CA-Store darstellt, wie sie von der aktuellen Node.js-Version bereitgestellt werden.</p><p>Der von Node.js mitgelieferte CA-Store ist ein Snapshot des Mozilla CA-Stores, der zum Zeitpunkt der Veröffentlichung festgelegt wird. Er ist auf allen unterstützten Plattformen identisch.</p><h2 id="tlsdefault_ecdh_curve" tabindex="-1"><code>tls.DEFAULT_ECDH_CURVE</code> <a class="header-anchor" href="#tlsdefault_ecdh_curve" aria-label="Permalink to “tls.DEFAULT_ECDH_CURVE”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[Verlauf]</p><table tabindex="0"><thead><tr><th>Version</th><th>Änderungen</th></tr></thead><tbody><tr><td>v10.0.0</td><td>Standardwert geändert in <code>&#39;auto&#39;</code>.</td></tr><tr><td>v0.11.13</td><td>Hinzugefügt in: v0.11.13</td></tr></tbody></table></div><p>Der Standardkurvenname für die ECDH-Schlüsselvereinbarung in einem TLS-Server. Der Standardwert ist <code>&#39;auto&#39;</code>. Weitere Informationen finden Sie unter <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a>.</p><h2 id="tlsdefault_max_version" tabindex="-1"><code>tls.DEFAULT_MAX_VERSION</code> <a class="header-anchor" href="#tlsdefault_max_version" aria-label="Permalink to “tls.DEFAULT_MAX_VERSION”">​</a></h2><p><strong>Hinzugefügt in: v11.4.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der Standardwert der Option <code>maxVersion</code> von <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a>. Er kann einer der unterstützten TLS-Protokollversionen zugewiesen werden: <code>&#39;TLSv1.3&#39;</code>, <code>&#39;TLSv1.2&#39;</code>, <code>&#39;TLSv1.1&#39;</code> oder <code>&#39;TLSv1&#39;</code>. <strong>Standard:</strong> <code>&#39;TLSv1.3&#39;</code>, sofern nicht über CLI-Optionen geändert. Die Verwendung von <code>--tls-max-v1.2</code> setzt den Standard auf <code>&#39;TLSv1.2&#39;</code>. Die Verwendung von <code>--tls-max-v1.3</code> setzt den Standard auf <code>&#39;TLSv1.3&#39;</code>. Wenn mehrere Optionen angegeben werden, wird das höchste Maximum verwendet.</li></ul><h2 id="tlsdefault_min_version" tabindex="-1"><code>tls.DEFAULT_MIN_VERSION</code> <a class="header-anchor" href="#tlsdefault_min_version" aria-label="Permalink to “tls.DEFAULT_MIN_VERSION”">​</a></h2><p><strong>Hinzugefügt in: v11.4.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der Standardwert der Option <code>minVersion</code> von <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a>. Er kann einer der unterstützten TLS-Protokollversionen zugewiesen werden: <code>&#39;TLSv1.3&#39;</code>, <code>&#39;TLSv1.2&#39;</code>, <code>&#39;TLSv1.1&#39;</code> oder <code>&#39;TLSv1&#39;</code>. Versionen vor TLSv1.2 erfordern möglicherweise eine Herabstufung des <a href="/de/nodejs/api/tls#openssl-security-level">OpenSSL-Sicherheitslevels</a>. <strong>Standard:</strong> <code>&#39;TLSv1.2&#39;</code>, sofern nicht durch CLI-Optionen geändert. Die Verwendung von <code>--tls-min-v1.0</code> setzt den Standard auf <code>&#39;TLSv1&#39;</code>. Die Verwendung von <code>--tls-min-v1.1</code> setzt den Standard auf <code>&#39;TLSv1.1&#39;</code>. Die Verwendung von <code>--tls-min-v1.3</code> setzt den Standard auf <code>&#39;TLSv1.3&#39;</code>. Wenn mehrere Optionen angegeben werden, wird das niedrigste Minimum verwendet.</li></ul><h2 id="tlsdefault_ciphers" tabindex="-1"><code>tls.DEFAULT_CIPHERS</code> <a class="header-anchor" href="#tlsdefault_ciphers" aria-label="Permalink to “tls.DEFAULT_CIPHERS”">​</a></h2><p><strong>Hinzugefügt in: v19.8.0, v18.16.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Der Standardwert der Option <code>ciphers</code> von <a href="/de/nodejs/api/tls#tlscreatesecurecontextoptions"><code>tls.createSecureContext()</code></a>. Er kann einer der unterstützten OpenSSL-Ciphern zugewiesen werden. Standardmäßig ist dies der Inhalt von <code>crypto.constants.defaultCoreCipherList</code>, sofern nicht durch CLI-Optionen mit <code>--tls-default-ciphers</code> geändert.</li></ul></div></div></main><footer class="VPDocFooter" data-v-d668f7cc data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><!----><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Letzte Aktualisierung: <time datetime="2025-06-09T10:21:38.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/de/nodejs/api/net" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Vorherige Seite</span><span class="title" data-v-1bcd8184>Net</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/de/nodejs/api/dgram" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Nächste Seite</span><span class="title" data-v-1bcd8184>UDP/Datagrammsockets</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-4539713c data-v-5b9946f5><div class="container" data-v-5b9946f5><p class="message" data-v-5b9946f5><a href="https://idoc.dev/de/privacy">Datenschutzrichtlinie</a></p><p class="copyright" data-v-5b9946f5>Alle Rechte vorbehalten © 2024-heute <a href="https://idoc.dev/de/">iDoc.dev</a></p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>