<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Documentation de l'API du système de fichiers de Node.js | API &amp; Guide &amp; Pour les développeurs</title>
    <meta name="description" content="Guide complet sur le module système de fichiers de Node.js, détaillant les méthodes pour les opérations sur les fichiers comme la lecture, l'écriture, l'ouverture, la fermeture, et la gestion des permissions et des statistiques de fichiers.">
    <meta name="generator" content="VitePress v2.0.0-alpha.5">
    <link rel="preload stylesheet" href="/assets/style.4-HONZjt.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.b396fbd4.js"></script>
    <script type="module" src="/assets/app.NvFkMFIO.js"></script>
    <link rel="modulepreload" href="/assets/chunks/plugin-vue_export-helper.Bts1mPc7.js">
    <link rel="modulepreload" href="/assets/chunks/translation.CRvAmi0k.js">
    <link rel="modulepreload" href="/assets/chunks/VPLocalSearchBox.DEL5Gh-3.js">
    <link rel="modulepreload" href="/assets/fr_nodejs_api_fs.md.OYKRcaiz.lean.js">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <link rel="icon" type="image/png" href="/logo.png">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="theme-color" content="#5f67ee">
    <meta property="og:type" content="website">
    <meta property="og:title" content="iDoc | API &amp; Guide for Developers">
    <meta property="og:site_name" content="iDoc">
    <meta property="og:image" content="https://idoc.dev/logo.svg">
    <meta property="og:url" content="https://idoc.dev/fr/nodejs/api/fs">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="idoc.dev">
    <meta name="twitter:image" content="https://idoc.dev/logo.svg">
    <meta name="twitter:title" content="Documentation de l'API du système de fichiers de Node.js | Node.js - iDoc.dev">
    <meta name="twitter:creator" content="neo@idoc.dev">
    <meta name="twitter:url" content="https://node.idoc.dev/">
    <meta name="twitter:description" content="Guide complet sur le module système de fichiers de Node.js, détaillant les méthodes pour les opérations sur les fichiers comme la lecture, l'écriture, l'ouverture, la fermeture, et la gestion des permissions et des statistiques de fichiers.">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X0C67TVVXR"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-X0C67TVVXR");</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3961359407117622" crossorigin="anonymous"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta name="og:title" content="Documentation de l'API du système de fichiers de Node.js | Node.js - iDoc.dev">
    <meta name="og:description" content="Guide complet sur le module système de fichiers de Node.js, détaillant les méthodes pour les opérations sur les fichiers comme la lecture, l'écriture, l'ouverture, la fermeture, et la gestion des permissions et des statistiques de fichiers.">
    <link rel="canonical" href="https://idoc.dev/fr/nodejs/api/fs">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-4539713c><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-4539713c data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-cb5e22fa><div class="wrapper" data-v-cb5e22fa><div class="container" data-v-cb5e22fa><div class="title" data-v-cb5e22fa><div class="VPNavBarTitle has-sidebar" data-v-cb5e22fa data-v-d4488dd0><a class="title" href="/fr/" data-v-d4488dd0><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" width="24" height="24" alt="iDoc.dev" data-v-ab19afbb><!--]--><span data-v-d4488dd0>iDoc</span><!--[--><!--]--></a></div></div><div class="content" data-v-cb5e22fa><div class="content-body" data-v-cb5e22fa><!--[--><!--]--><div class="VPNavBarSearch search" data-v-cb5e22fa><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="ابحث في الوثائق"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">ابحث في الوثائق</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-cb5e22fa data-v-020be4db><span id="main-nav-aria-label" class="visually-hidden" data-v-020be4db> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/fr/nodejs/api/synopsis" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>Référence API</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/fr/nodejs/guide/what-is-nodejs" tabindex="0" data-v-020be4db data-v-815115f5><!--[--><span data-v-815115f5>Guide</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-cb5e22fa data-v-acee064b data-v-9bb987dd><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Langues" data-v-9bb987dd><span class="text" data-v-9bb987dd><span class="vpi-languages option-icon" data-v-9bb987dd></span><!----><span class="vpi-chevron-down text-icon" data-v-9bb987dd></span></span></button><div class="menu" data-v-9bb987dd><div class="VPMenu" data-v-9bb987dd data-v-2f78439e><!----><!--[--><!--[--><div class="items" data-v-acee064b><p class="title" data-v-acee064b>Français</p><!--[--><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>English</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/zh/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>简体中文</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/es/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Español</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/pt/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/de/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Deutsch</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/it/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Italiano</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ja/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>日本語</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ko/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ru/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Русский</span><!--]--></a></div><div class="VPMenuLink" data-v-acee064b data-v-7eeeb2dc><a class="VPLink link" href="/ar/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>العربية</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-cb5e22fa data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-cb5e22fa data-v-f953d92f data-v-9bb987dd><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9bb987dd><span class="vpi-more-horizontal icon" data-v-9bb987dd></span></button><div class="menu" data-v-9bb987dd><div class="VPMenu" data-v-9bb987dd data-v-2f78439e><!----><!--[--><!--[--><div class="group translations" data-v-f953d92f><p class="trans-title" data-v-f953d92f>Français</p><!--[--><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>English</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/zh/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>简体中文</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/es/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Español</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/pt/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Português</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/de/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Deutsch</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/it/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Italiano</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ja/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>日本語</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ko/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>한국어</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ru/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>Русский</span><!--]--></a></div><div class="VPMenuLink" data-v-f953d92f data-v-7eeeb2dc><a class="VPLink link" href="/ar/nodejs/api/fs" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>العربية</span><!--]--></a></div><!--]--></div><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Thème</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-cb5e22fa data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-cb5e22fa><div class="divider-line" data-v-cb5e22fa></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-4539713c data-v-6c0451ca><div class="container" data-v-6c0451ca><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-6c0451ca><span class="vpi-align-left menu-icon" data-v-6c0451ca></span><span class="menu-text" data-v-6c0451ca>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-6c0451ca data-v-92b7576c><button data-v-92b7576c>Retour en haut</button><!----></div></div></div><aside class="VPSidebar" data-v-4539713c data-v-606f96d3><div class="curtain" data-v-606f96d3></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-606f96d3><span class="visually-hidden" id="sidebar-aria-label" data-v-606f96d3> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Guide de démarrage</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/documentation" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>À propos de ce document</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/synopsis" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Utilisation et exemples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Modules</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/module" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>API node:module</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/modules" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Modules CommonJS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/typescript" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Modules TypeScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/esm" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Modules ECMAScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/packages" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Gestion des paquets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/corepack" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Corepack</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>HTTP et Réseaux</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/http" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>HTTP</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/http2" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>HTTP/2</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/https" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>HTTPS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/net" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Net</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/tls" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>TLS (SSL)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/dgram" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>UDP/Sockets Datagrammes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/dns" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>DNS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/tty" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>TTY</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/url" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>URL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/domain" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Domaine</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Système de fichiers et chemins</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/fs" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Système de fichiers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/path" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Chemins</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Streams, Buffers et WASI</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/stream" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Streams</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/webstreams" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>API Streams Web</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/buffer" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Buffer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/wasi" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Interface WebAssembly System (WASI)</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Événements, Canaux et Hooks Asynchrones</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/events" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Événements</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/tracing" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Suivi des événements</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/diagnostics_channel" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Canal de diagnostic</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/async_hooks" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Hooks asynchrones</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/async_context" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Suivi du contexte asynchrone</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Processus, Cluster et Threads</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/process" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Processus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/child_process" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Sous-processus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/cluster" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Cluster</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/worker_threads" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Threads de travail</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/permissions" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Permissions</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Extensions C++ et API d'Intégration</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/addons" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Extensions C++</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/n-api" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Extensions C/C++ avec Node-API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/embedding" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>API d'intégration C++</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Tests et Débogage</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/cli" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Options en ligne de commande</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/test" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Exécuteur de tests</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/assert" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Tests d'assertion</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/debugger" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Débogueur</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/console" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Console</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/errors" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Gestion des erreurs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/timers" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Temporisateurs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/inspector" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Inspecteur</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/report" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Rapport</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/repl" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>REPL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/readline" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Readline</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/perf_hooks" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Hooks de performance</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Outils et Utilitaires</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/util" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Utilitaires</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/crypto" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Cryptographie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/webcrypto" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Cryptographie Web</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/zlib" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Zlib</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/querystring" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Chaîne de requête</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/string_decoder" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Décodeur de chaîne</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/sqlite" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>SQLite</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 collapsible collapsed" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>Autres</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-6b36a2fd><span class="vpi-chevron-right caret-icon" data-v-6b36a2fd></span></div></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/intl" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Internationalisation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/globals" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Objets globaux</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/single-executable-applications" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Applications exécutables uniques</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/os" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Système d'exploitation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/v8" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Moteur V8</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/vm" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Module VM</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/punycode" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>Punycode</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/fr/nodejs/api/deprecations" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>API obsolètes</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-4539713c data-v-2652e39a><div class="VPDoc has-sidebar has-aside" data-v-2652e39a data-v-d668f7cc><!--[--><!--]--><div class="container" data-v-d668f7cc><div class="aside" data-v-d668f7cc><div class="aside-curtain" data-v-d668f7cc></div><div class="aside-container" data-v-d668f7cc><div class="aside-content" data-v-d668f7cc><div class="VPDocAside" data-v-d668f7cc data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-c8b19031><div class="content" data-v-c8b19031><div class="outline-marker" data-v-c8b19031></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c8b19031>Navigation de la page</div><ul class="VPDocOutlineItem root" data-v-c8b19031 data-v-b7d7ef80><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d668f7cc><div class="content-container" data-v-d668f7cc><!--[--><!--]--><main class="main" data-v-d668f7cc><div style="position:relative;" class="vp-doc _fr_nodejs_api_fs" data-v-d668f7cc><div><h1 id="file-system" tabindex="-1">Système de fichiers <a class="header-anchor" href="#file-system" aria-label="Permalink to “Système de fichiers”">​</a></h1><div class="tip custom-block"><p class="custom-block-title">[Stable: 2 - Stable]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 2</a> <a href="/fr/nodejs/api/documentation#stability-index">Stability: 2</a> - Stable</p></div><p><strong>Code source :</strong> <a href="https://github.com/nodejs/node/blob/v23.5.0/lib/fs.js" target="_blank" rel="noreferrer">lib/fs.js</a></p><p>Le module <code>node:fs</code> permet d&#39;interagir avec le système de fichiers d&#39;une manière calquée sur les fonctions POSIX standard.</p><p>Pour utiliser les API basées sur les promesses :</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-17" id="tab-18" checked><label data-title="ESM" for="tab-18">ESM</label><input type="radio" name="group-17" id="tab-19"><label data-title="CJS" for="tab-19">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><p>Pour utiliser les API de rappel et synchrones :</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-24" id="tab-25" checked><label data-title="ESM" for="tab-25">ESM</label><input type="radio" name="group-24" id="tab-26"><label data-title="CJS" for="tab-26">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><p>Toutes les opérations du système de fichiers ont des formes synchrones, de rappel et basées sur des promesses, et sont accessibles en utilisant la syntaxe CommonJS et les modules ES6 (ESM).</p><h2 id="promise-example" tabindex="-1">Exemple de promesse <a class="header-anchor" href="#promise-example" aria-label="Permalink to “Exemple de promesse”">​</a></h2><p>Les opérations basées sur les promesses renvoient une promesse qui est tenue lorsque l&#39;opération asynchrone est terminée.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-37" id="tab-38" checked><label data-title="ESM" for="tab-38">ESM</label><input type="radio" name="group-37" id="tab-39"><label data-title="CJS" for="tab-39">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { unlink } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> unlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;successfully deleted /tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;there was an error:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> unlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`successfully deleted ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;there was an error:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div></div><h2 id="callback-example" tabindex="-1">Exemple de rappel <a class="header-anchor" href="#callback-example" aria-label="Permalink to “Exemple de rappel”">​</a></h2><p>La forme de rappel prend une fonction de rappel d&#39;achèvement comme dernier argument et invoque l&#39;opération de manière asynchrone. Les arguments transmis au rappel d&#39;achèvement dépendent de la méthode, mais le premier argument est toujours réservé à une exception. Si l&#39;opération est terminée avec succès, alors le premier argument est <code>null</code> ou <code>undefined</code>.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-47" id="tab-48" checked><label data-title="ESM" for="tab-48">ESM</label><input type="radio" name="group-47" id="tab-49"><label data-title="CJS" for="tab-49">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { unlink } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;successfully deleted /tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;successfully deleted /tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div><p>Les versions basées sur le rappel des API du module <code>node:fs</code> sont préférables à l&#39;utilisation des API de promesse lorsque des performances maximales (tant en termes de temps d&#39;exécution que d&#39;allocation de mémoire) sont requises.</p><h2 id="synchronous-example" tabindex="-1">Exemple synchrone <a class="header-anchor" href="#synchronous-example" aria-label="Permalink to “Exemple synchrone”">​</a></h2><p>Les API synchrones bloquent la boucle d&#39;événements Node.js et l&#39;exécution ultérieure de JavaScript jusqu&#39;à ce que l&#39;opération soit terminée. Les exceptions sont levées immédiatement et peuvent être gérées à l&#39;aide de <code>try…catch</code>, ou peuvent être autorisées à remonter.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-60" id="tab-61" checked><label data-title="ESM" for="tab-61">ESM</label><input type="radio" name="group-60" id="tab-62"><label data-title="CJS" for="tab-62">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { unlinkSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  unlinkSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;successfully deleted /tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // handle the error</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unlinkSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  unlinkSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;successfully deleted /tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // handle the error</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div></div><h2 id="promises-api" tabindex="-1">API Promises <a class="header-anchor" href="#promises-api" aria-label="Permalink to “API Promises”">​</a></h2><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v14.0.0</td><td>Exposé comme <code>require(&#39;fs/promises&#39;)</code>.</td></tr><tr><td>v11.14.0, v10.17.0</td><td>Cette API n&#39;est plus expérimentale.</td></tr><tr><td>v10.1.0</td><td>L&#39;API est accessible via <code>require(&#39;fs&#39;).promises</code> uniquement.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><p>L&#39;API <code>fs/promises</code> fournit des méthodes asynchrones de système de fichiers qui renvoient des promesses.</p><p>Les API de promesses utilisent le pool de threads Node.js sous-jacent pour effectuer les opérations du système de fichiers hors du thread de boucle d&#39;événements. Ces opérations ne sont pas synchronisées ou thread-safe. Des précautions doivent être prises lors de l&#39;exécution de plusieurs modifications simultanées sur le même fichier, car une corruption des données peut se produire.</p><h3 id="class-filehandle" tabindex="-1">Classe : <code>FileHandle</code> <a class="header-anchor" href="#class-filehandle" aria-label="Permalink to “Classe : FileHandle”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><p>Un objet <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> est un wrapper d&#39;objet pour un descripteur de fichier numérique.</p><p>Les instances de l&#39;objet <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> sont créées par la méthode <code>fsPromises.open()</code>.</p><p>Tous les objets <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> sont des <a href="/fr/nodejs/api/events#class-eventemitter">&lt;EventEmitter&gt;</a>.</p><p>Si un <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> n&#39;est pas fermé à l&#39;aide de la méthode <code>filehandle.close()</code>, il tentera de fermer automatiquement le descripteur de fichier et d&#39;émettre un avertissement de processus, aidant à prévenir les fuites de mémoire. Veuillez ne pas vous fier à ce comportement car il peut être peu fiable et le fichier peut ne pas être fermé. Au lieu de cela, fermez toujours explicitement les <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a>. Node.js peut modifier ce comportement à l&#39;avenir.</p><h4 id="event-close" tabindex="-1">Événement : <code>&#39;close&#39;</code> <a class="header-anchor" href="#event-close" aria-label="Permalink to “Événement : &#39;close&#39;”">​</a></h4><p><strong>Ajouté dans : v15.4.0</strong></p><p>L&#39;événement <code>&#39;close&#39;</code> est émis lorsque le <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> a été fermé et ne peut plus être utilisé.</p><h4 id="filehandleappendfiledata-options" tabindex="-1"><code>filehandle.appendFile(data[, options])</code> <a class="header-anchor" href="#filehandleappendfiledata-options" aria-label="Permalink to “filehandle.appendFile(data[, options])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.1.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v15.14.0, v14.18.0</td><td>L&#39;argument <code>data</code> prend en charge <code>AsyncIterable</code>, <code>Iterable</code> et <code>Stream</code>.</td></tr><tr><td>v14.0.0</td><td>Le paramètre <code>data</code> ne forcera plus les entrées non prises en charge en chaînes de caractères.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="https://tc39.github.io/ecma262/#sec-asynciterable-interface" target="_blank" rel="noreferrer">&lt;AsyncIterable&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol" target="_blank" rel="noreferrer">&lt;Iterable&gt;</a> | <a href="/fr/nodejs/api/stream#stream">&lt;Stream&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, le descripteur de fichier sous-jacent est vidé avant sa fermeture. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</p></li></ul><p>Alias de <a href="/fr/nodejs/api/fs#filehandlewritefiledata-options"><code>filehandle.writeFile()</code></a>.</p><p>Lors de l&#39;utilisation de descripteurs de fichiers, le mode ne peut pas être modifié par rapport à ce qui a été défini avec <a href="/fr/nodejs/api/fs#fspromisesopenpath-flags-mode"><code>fsPromises.open()</code></a>. Par conséquent, cela équivaut à <a href="/fr/nodejs/api/fs#filehandlewritefiledata-options"><code>filehandle.writeFile()</code></a>.</p><h4 id="filehandlechmodmode" tabindex="-1"><code>filehandle.chmod(mode)</code> <a class="header-anchor" href="#filehandlechmodmode" aria-label="Permalink to “filehandle.chmod(mode)”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> le masque de bits du mode fichier.</li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</li></ul><p>Modifie les permissions sur le fichier. Voir <a href="http://man7.org/linux/man-pages/man2/chmod.2" target="_blank" rel="noreferrer"><code>chmod(2)</code></a>.</p><h4 id="filehandlechownuid-gid" tabindex="-1"><code>filehandle.chown(uid, gid)</code> <a class="header-anchor" href="#filehandlechownuid-gid" aria-label="Permalink to “filehandle.chown(uid, gid)”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;ID utilisateur du nouveau propriétaire du fichier.</li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;ID de groupe du nouveau groupe du fichier.</li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</li></ul><p>Modifie la propriété du fichier. Un wrapper pour <a href="http://man7.org/linux/man-pages/man2/chown.2" target="_blank" rel="noreferrer"><code>chown(2)</code></a>.</p><h4 id="filehandleclose" tabindex="-1"><code>filehandle.close()</code> <a class="header-anchor" href="#filehandleclose" aria-label="Permalink to “filehandle.close()”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</li></ul><p>Ferme le descripteur de fichier après avoir attendu la fin de toute opération en attente sur le descripteur.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filehandle;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filehandle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;thefile.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filehandle?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="filehandlecreatereadstreamoptions" tabindex="-1"><code>filehandle.createReadStream([options])</code> <a class="header-anchor" href="#filehandlecreatereadstreamoptions" aria-label="Permalink to “filehandle.createReadStream([options])”">​</a></h4><p><strong>Ajouté dans : v16.11.0</strong></p><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>autoClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>emitClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>Infinity</code></li><li><code>highWaterMark</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>64 * 1024</code></li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a> <strong>Par défaut :</strong> <code>undefined</code></li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a></p></li></ul><p>Les <code>options</code> peuvent inclure des valeurs <code>start</code> et <code>end</code> pour lire une plage d&#39;octets à partir du fichier au lieu de la totalité du fichier. <code>start</code> et <code>end</code> sont inclusifs et commencent à compter à 0, les valeurs autorisées se trouvent dans la plage [0, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank" rel="noreferrer"><code>Number.MAX_SAFE_INTEGER</code></a>]. Si <code>start</code> est omis ou <code>undefined</code>, <code>filehandle.createReadStream()</code> lit séquentiellement à partir de la position actuelle du fichier. L&#39;<code>encoding</code> peut être l&#39;une de celles acceptées par <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si le <code>FileHandle</code> pointe vers un périphérique de caractères qui ne prend en charge que les lectures bloquantes (tel qu&#39;un clavier ou une carte son), les opérations de lecture ne se terminent pas tant que des données ne sont pas disponibles. Cela peut empêcher le processus de se fermer et le flux de se fermer naturellement.</p><p>Par défaut, le flux émettra un événement <code>&#39;close&#39;</code> après sa destruction. Définissez l&#39;option <code>emitClose</code> sur <code>false</code> pour modifier ce comportement.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/dev/input/event0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Create a stream from some character device.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stream</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createReadStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// This may not close the stream.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Artificially marking end-of-stream, as if the underlying resource had</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // indicated end-of-file by itself, allows the stream to close.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // This does not cancel pending read operations, and if there is such an</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // operation, the process may still not be able to exit successfully</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // until it finishes.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Si <code>autoClose</code> est false, le descripteur de fichier ne sera pas fermé, même en cas d&#39;erreur. Il est de la responsabilité de l&#39;application de le fermer et de s&#39;assurer qu&#39;il n&#39;y a pas de fuite de descripteur de fichier. Si <code>autoClose</code> est défini sur true (comportement par défaut), sur <code>&#39;error&#39;</code> ou <code>&#39;end&#39;</code>, le descripteur de fichier sera fermé automatiquement.</p><p>Un exemple pour lire les 10 derniers octets d&#39;un fichier de 100 octets :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fd</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sample.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fd.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createReadStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ start: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, end: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">99</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="filehandlecreatewritestreamoptions" tabindex="-1"><code>filehandle.createWriteStream([options])</code> <a class="header-anchor" href="#filehandlecreatewritestreamoptions" aria-label="Permalink to “filehandle.createWriteStream([options])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais supportée.</td></tr><tr><td>v16.11.0</td><td>Ajouté dans : v16.11.0</td></tr></tbody></table></div><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>autoClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>emitClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>highWaterMark</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> <strong>Par défaut :</strong> <code>16384</code></li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, le descripteur de fichier sous-jacent est vidé avant d&#39;être fermé. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Renvoie : <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a></p></li></ul><p><code>options</code> peut également inclure une option <code>start</code> pour permettre l&#39;écriture de données à une position située au-delà du début du fichier. Les valeurs autorisées se trouvent dans la plage [0, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank" rel="noreferrer"><code>Number.MAX_SAFE_INTEGER</code></a>]. La modification d&#39;un fichier plutôt que son remplacement peut nécessiter que l&#39;option <code>flags</code> <code>open</code> soit définie sur <code>r+</code> plutôt que sur la valeur par défaut <code>r</code>. L&#39;<code>encoding</code> peut être l&#39;une de celles acceptées par <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>autoClose</code> est défini sur true (comportement par défaut), le descripteur de fichier sera automatiquement fermé en cas de <code>&#39;error&#39;</code> ou de <code>&#39;finish&#39;</code>. Si <code>autoClose</code> est défini sur false, le descripteur de fichier ne sera pas fermé, même en cas d&#39;erreur. Il incombe à l&#39;application de le fermer et de s&#39;assurer qu&#39;il n&#39;y a pas de fuite de descripteur de fichier.</p><p>Par défaut, le flux émettra un événement <code>&#39;close&#39;</code> après avoir été détruit. Définissez l&#39;option <code>emitClose</code> sur <code>false</code> pour modifier ce comportement.</p><h4 id="filehandledatasync" tabindex="-1"><code>filehandle.datasync()</code> <a class="header-anchor" href="#filehandledatasync" aria-label="Permalink to “filehandle.datasync()”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> S&#39;accomplit avec <code>undefined</code> en cas de succès.</li></ul><p>Force toutes les opérations d&#39;E/S actuellement mises en file d&#39;attente associées au fichier à l&#39;état d&#39;achèvement d&#39;E/S synchronisées du système d&#39;exploitation. Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fdatasync.2" target="_blank" rel="noreferrer"><code>fdatasync(2)</code></a> pour plus de détails.</p><p>Contrairement à <code>filehandle.sync</code>, cette méthode ne vide pas les métadonnées modifiées.</p><h4 id="filehandlefd" tabindex="-1"><code>filehandle.fd</code> <a class="header-anchor" href="#filehandlefd" aria-label="Permalink to “filehandle.fd”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Le descripteur de fichier numérique géré par l&#39;objet <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a>.</li></ul><h4 id="filehandlereadbuffer-offset-length-position" tabindex="-1"><code>filehandle.read(buffer, offset, length, position)</code> <a class="header-anchor" href="#filehandlereadbuffer-offset-length-position" aria-label="Permalink to “filehandle.read(buffer, offset, length, position)”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0</td><td>Accepte les valeurs bigint comme <code>position</code>.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Un tampon qui sera rempli avec les données de fichier lues.</li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;emplacement dans le tampon où commencer à remplir. <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d&#39;octets à lire. <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> L&#39;emplacement où commencer à lire les données du fichier. Si <code>null</code> ou <code>-1</code>, les données seront lues à partir de la position actuelle du fichier, et la position sera mise à jour. Si <code>position</code> est un entier non négatif, la position actuelle du fichier restera inchangée. <strong>Par défaut :</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> S&#39;accomplit en cas de succès avec un objet avec deux propriétés : <ul><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d&#39;octets lus</li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Une référence à l&#39;argument <code>buffer</code> transmis.</li></ul></li></ul><p>Lit les données du fichier et les stocke dans le tampon donné.</p><p>Si le fichier n&#39;est pas modifié simultanément, la fin de fichier est atteinte lorsque le nombre d&#39;octets lus est nul.</p><h4 id="filehandlereadoptions" tabindex="-1"><code>filehandle.read([options])</code> <a class="header-anchor" href="#filehandlereadoptions" aria-label="Permalink to “filehandle.read([options])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0</td><td>Accepte les valeurs bigint comme <code>position</code>.</td></tr><tr><td>v13.11.0, v12.17.0</td><td>Ajouté dans : v13.11.0, v12.17.0</td></tr></tbody></table></div><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Un tampon qui sera rempli avec les données du fichier lues. <strong>Par défaut :</strong> <code>Buffer.alloc(16384)</code></li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;emplacement dans le tampon où commencer le remplissage. <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d&#39;octets à lire. <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> L&#39;emplacement à partir duquel commencer la lecture des données du fichier. Si <code>null</code> ou <code>-1</code>, les données seront lues à partir de la position actuelle du fichier, et la position sera mise à jour. Si <code>position</code> est un entier non négatif, la position actuelle du fichier restera inchangée. <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise en cas de succès avec un objet avec deux propriétés :</p><ul><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d&#39;octets lus</li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Une référence à l&#39;argument <code>buffer</code> transmis.</li></ul></li></ul><p>Lit les données du fichier et les stocke dans le tampon donné.</p><p>Si le fichier n&#39;est pas modifié simultanément, la fin de fichier est atteinte lorsque le nombre d&#39;octets lus est nul.</p><h4 id="filehandlereadbuffer-options" tabindex="-1"><code>filehandle.read(buffer[, options])</code> <a class="header-anchor" href="#filehandlereadbuffer-options" aria-label="Permalink to “filehandle.read(buffer[, options])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0</td><td>Accepte les valeurs bigint comme <code>position</code>.</td></tr><tr><td>v18.2.0, v16.17.0</td><td>Ajouté dans : v18.2.0, v16.17.0</td></tr></tbody></table></div><ul><li><p><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Un buffer qui sera rempli avec les données du fichier lues.</p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;emplacement dans le tampon où commencer à remplir. <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d&#39;octets à lire. <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> L&#39;emplacement à partir duquel commencer à lire les données du fichier. Si <code>null</code> ou <code>-1</code>, les données seront lues à partir de la position actuelle du fichier et la position sera mise à jour. Si <code>position</code> est un entier non négatif, la position actuelle du fichier restera inchangée. <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise en cas de succès avec un objet avec deux propriétés :</p><ul><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d&#39;octets lus.</li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Une référence à l&#39;argument <code>buffer</code> passé.</li></ul></li></ul><p>Lit les données du fichier et les stocke dans le buffer donné.</p><p>Si le fichier n&#39;est pas modifié simultanément, la fin de fichier est atteinte lorsque le nombre d&#39;octets lus est nul.</p><h4 id="filehandlereadablewebstreamoptions" tabindex="-1"><code>filehandle.readableWebStream([options])</code> <a class="header-anchor" href="#filehandlereadablewebstreamoptions" aria-label="Permalink to “filehandle.readableWebStream([options])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.0.0, v18.17.0</td><td>Ajout d&#39;une option pour créer un flux &#39;bytes&#39;.</td></tr><tr><td>v17.0.0</td><td>Ajouté dans : v17.0.0</td></tr></tbody></table></div><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Expérimental]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/fr/nodejs/api/documentation#stability-index">Stabilité: 1</a> - Expérimental</p></div><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a> Indique si un flux normal ou un flux <code>&#39;bytes&#39;</code> doit être ouvert. <strong>Par défaut :</strong> <code>undefined</code></li></ul></li><li><p>Renvoie : <a href="/fr/nodejs/api/webstreams#class-readablestream">&lt;ReadableStream&gt;</a></p></li></ul><p>Renvoie un <code>ReadableStream</code> qui peut être utilisé pour lire les données des fichiers.</p><p>Une erreur sera levée si cette méthode est appelée plus d&#39;une fois ou si elle est appelée après que le <code>FileHandle</code> est fermé ou en cours de fermeture.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-809" id="tab-810" checked><label data-title="ESM" for="tab-810">ESM</label><input type="radio" name="group-809" id="tab-811"><label data-title="CJS" for="tab-811">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  open,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./some/file/to/read&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> chunk</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readableWebStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(chunk);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./some/file/to/read&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> chunk</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readableWebStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(chunk);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div></div><p>Bien que le <code>ReadableStream</code> lise le fichier jusqu&#39;à la fin, il ne fermera pas automatiquement le <code>FileHandle</code>. Le code utilisateur doit toujours appeler la méthode <code>fileHandle.close()</code>.</p><h4 id="filehandlereadfileoptions" tabindex="-1"><code>filehandle.readFile(options)</code> <a class="header-anchor" href="#filehandlereadfileoptions" aria-label="Permalink to “filehandle.readFile(options)”">​</a></h4><p><strong>Ajouté dans: v10.0.0</strong></p><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> permet d&#39;abandonner une readFile en cours</li></ul></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est remplie lors d&#39;une lecture réussie avec le contenu du fichier. Si aucun encodage n&#39;est spécifié (en utilisant <code>options.encoding</code>), les données sont renvoyées sous forme d&#39;objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>. Sinon, les données seront une chaîne de caractères.</p></li></ul><p>Lit de manière asynchrone tout le contenu d&#39;un fichier.</p><p>Si <code>options</code> est une chaîne de caractères, alors elle spécifie l&#39;<code>encoding</code>.</p><p>Le <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> doit prendre en charge la lecture.</p><p>Si un ou plusieurs appels <code>filehandle.read()</code> sont effectués sur un descripteur de fichier, puis un appel <code>filehandle.readFile()</code> est effectué, les données seront lues à partir de la position actuelle jusqu&#39;à la fin du fichier. Il ne lit pas toujours depuis le début du fichier.</p><h4 id="filehandlereadlinesoptions" tabindex="-1"><code>filehandle.readLines([options])</code> <a class="header-anchor" href="#filehandlereadlinesoptions" aria-label="Permalink to “filehandle.readLines([options])”">​</a></h4><p><strong>Ajouté dans : v18.11.0</strong></p><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>autoClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>emitClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>Infinity</code></li><li><code>highWaterMark</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>64 * 1024</code></li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/readline#class-interfaceconstructor">&lt;readline.InterfaceConstructor&gt;</a></p></li></ul><p>Méthode pratique pour créer une interface <code>readline</code> et diffuser en continu sur le fichier. Voir <a href="/fr/nodejs/api/fs#filehandlecreatereadstreamoptions"><code>filehandle.createReadStream()</code></a> pour les options.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-911" id="tab-912" checked><label data-title="ESM" for="tab-912">ESM</label><input type="radio" name="group-911" id="tab-913"><label data-title="CJS" for="tab-913">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./some/file/to/read&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> line</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./some/file/to/read&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> line</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div></div><h4 id="filehandlereadvbuffers-position" tabindex="-1"><code>filehandle.readv(buffers[, position])</code> <a class="header-anchor" href="#filehandlereadvbuffers-position" aria-label="Permalink to “filehandle.readv(buffers[, position])”">​</a></h4><p><strong>Ajouté dans : v13.13.0, v12.17.0</strong></p><ul><li><code>buffers</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView[]&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> Le décalage par rapport au début du fichier à partir duquel les données doivent être lues. Si <code>position</code> n&#39;est pas un <code>number</code>, les données seront lues à partir de la position actuelle. <strong>Par défaut :</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise en cas de succès avec un objet contenant deux propriétés : <ul><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> le nombre d&#39;octets lus</li><li><code>buffers</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView[]&gt;</a> propriété contenant une référence à l&#39;entrée <code>buffers</code>.</li></ul></li></ul><p>Lire à partir d&#39;un fichier et écrire dans un tableau de <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView&gt;</a>s</p><h4 id="filehandlestatoptions" tabindex="-1"><code>filehandle.stat([options])</code> <a class="header-anchor" href="#filehandlestatoptions" aria-label="Permalink to “filehandle.stat([options])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques renvoyées doivent être de type bigint.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Objet&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;booléen&gt;</a> Indique si les valeurs numériques de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> renvoyé doivent être de type <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec un <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le fichier.</p></li></ul><h4 id="filehandlesync" tabindex="-1"><code>filehandle.sync()</code> <a class="header-anchor" href="#filehandlesync" aria-label="Permalink to “filehandle.sync()”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</li></ul><p>Demande que toutes les données du descripteur de fichier ouvert soient vidées sur le périphérique de stockage. L&#39;implémentation spécifique dépend du système d&#39;exploitation et du périphérique. Reportez-vous à la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fsync.2" target="_blank" rel="noreferrer"><code>fsync(2)</code></a> pour plus de détails.</p><h4 id="filehandletruncatelen" tabindex="-1"><code>filehandle.truncate(len)</code> <a class="header-anchor" href="#filehandletruncatelen" aria-label="Permalink to “filehandle.truncate(len)”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>len</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;entier&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</li></ul><p>Tronque le fichier.</p><p>Si le fichier était plus grand que <code>len</code> octets, seuls les premiers <code>len</code> octets seront conservés dans le fichier.</p><p>L&#39;exemple suivant ne conserve que les quatre premiers octets du fichier :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filehandle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  filehandle </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;temp.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r+&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filehandle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">truncate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filehandle?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Si le fichier était auparavant plus court que <code>len</code> octets, il est étendu et la partie étendue est remplie d&#39;octets nuls (<code>&#39;\0&#39;</code>) :</p><p>Si <code>len</code> est négatif, alors <code>0</code> sera utilisé.</p><h4 id="filehandleutimesatime-mtime" tabindex="-1"><code>filehandle.utimes(atime, mtime)</code> <a class="header-anchor" href="#filehandleutimesatime-mtime" aria-label="Permalink to “filehandle.utimes(atime, mtime)”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></li></ul><p>Modifie les horodatages du système de fichiers de l’objet référencé par le <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a>, puis confirme la promesse sans arguments en cas de succès.</p><h4 id="filehandlewritebuffer-offset-length-position" tabindex="-1"><code>filehandle.write(buffer, offset[, length[, position]])</code> <a class="header-anchor" href="#filehandlewritebuffer-offset-length-position" aria-label="Permalink to “filehandle.write(buffer, offset[, length[, position]])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v14.0.0</td><td>Le paramètre <code>buffer</code> ne forcera plus les entrées non prises en charge vers les tampons.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> La position de début dans <code>buffer</code> à partir de laquelle les données à écrire commencent.</li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d’octets de <code>buffer</code> à écrire. <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> Le décalage par rapport au début du fichier où les données de <code>buffer</code> doivent être écrites. Si <code>position</code> n’est pas un <code>number</code>, les données seront écrites à la position actuelle. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/pwrite.2" target="_blank" rel="noreferrer"><code>pwrite(2)</code></a> pour plus de détails. <strong>Par défaut :</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></li></ul><p>Écrit <code>buffer</code> dans le fichier.</p><p>La promesse est exécutée avec un objet contenant deux propriétés :</p><ul><li><code>bytesWritten</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> le nombre d’octets écrits</li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> une référence au <code>buffer</code> écrit.</li></ul><p>Il n’est pas sûr d’utiliser <code>filehandle.write()</code> plusieurs fois sur le même fichier sans attendre que la promesse soit remplie (ou rejetée). Pour ce scénario, utilisez <a href="/fr/nodejs/api/fs#filehandlecreatewritestreamoptions"><code>filehandle.createWriteStream()</code></a>.</p><p>Sur Linux, les écritures positionnelles ne fonctionnent pas lorsque le fichier est ouvert en mode ajout. Le noyau ignore l’argument de position et ajoute toujours les données à la fin du fichier.</p><h4 id="filehandlewritebuffer-options" tabindex="-1"><code>filehandle.write(buffer[, options])</code> <a class="header-anchor" href="#filehandlewritebuffer-options" aria-label="Permalink to “filehandle.write(buffer[, options])”">​</a></h4><p><strong>Ajouté dans : v18.3.0, v16.17.0</strong></p><ul><li><p><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></p></li></ul><p>Écrit <code>buffer</code> dans le fichier.</p><p>Similaire à la fonction <code>filehandle.write</code> ci-dessus, cette version prend un objet <code>options</code> facultatif. Si aucun objet <code>options</code> n&#39;est spécifié, il prendra par défaut les valeurs ci-dessus.</p><h4 id="filehandlewritestring-position-encoding" tabindex="-1"><code>filehandle.write(string[, position[, encoding]])</code> <a class="header-anchor" href="#filehandlewritestring-position-encoding" aria-label="Permalink to “filehandle.write(string[, position[, encoding]])”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v14.0.0</td><td>Le paramètre <code>string</code> ne forcera plus les entrées non prises en charge en chaînes.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> Le décalage par rapport au début du fichier où les données de <code>string</code> doivent être écrites. Si <code>position</code> n&#39;est pas un <code>number</code>, les données seront écrites à la position actuelle. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/pwrite.2" target="_blank" rel="noreferrer"><code>pwrite(2)</code></a> pour plus de détails. <strong>Par défaut :</strong> <code>null</code></li><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> L&#39;encodage de chaîne attendu. <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></li></ul><p>Écrit <code>string</code> dans le fichier. Si <code>string</code> n&#39;est pas une chaîne, la promesse est rejetée avec une erreur.</p><p>La promesse est remplie avec un objet contenant deux propriétés :</p><ul><li><code>bytesWritten</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> le nombre d&#39;octets écrits</li><li><code>buffer</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> une référence à la <code>string</code> écrite.</li></ul><p>Il est dangereux d&#39;utiliser <code>filehandle.write()</code> plusieurs fois sur le même fichier sans attendre que la promesse soit remplie (ou rejetée). Pour ce scénario, utilisez <a href="/fr/nodejs/api/fs#filehandlecreatewritestreamoptions"><code>filehandle.createWriteStream()</code></a>.</p><p>Sous Linux, les écritures positionnelles ne fonctionnent pas lorsque le fichier est ouvert en mode append. Le noyau ignore l&#39;argument de position et ajoute toujours les données à la fin du fichier.</p><h4 id="filehandlewritefiledata-options" tabindex="-1"><code>filehandle.writeFile(data, options)</code> <a class="header-anchor" href="#filehandlewritefiledata-options" aria-label="Permalink to “filehandle.writeFile(data, options)”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v15.14.0, v14.18.0</td><td>L&#39;argument <code>data</code> prend en charge <code>AsyncIterable</code>, <code>Iterable</code> et <code>Stream</code>.</td></tr><tr><td>v14.0.0</td><td>Le paramètre <code>data</code> ne forcera plus la conversion des entrées non prises en charge en chaînes de caractères.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="https://tc39.github.io/ecma262/#sec-asynciterable-interface" target="_blank" rel="noreferrer">&lt;AsyncIterable&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol" target="_blank" rel="noreferrer">&lt;Iterable&gt;</a> | <a href="/fr/nodejs/api/stream#stream">&lt;Stream&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> L&#39;encodage de caractères attendu lorsque <code>data</code> est une chaîne de caractères. <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></p></li></ul><p>Écrit de manière asynchrone des données dans un fichier, en remplaçant le fichier s&#39;il existe déjà. <code>data</code> peut être une chaîne de caractères, un tampon, un <a href="https://tc39.github.io/ecma262/#sec-asynciterable-interface" target="_blank" rel="noreferrer">&lt;AsyncIterable&gt;</a> ou un objet <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol" target="_blank" rel="noreferrer">&lt;Iterable&gt;</a>. La promesse est remplie sans arguments en cas de succès.</p><p>Si <code>options</code> est une chaîne de caractères, elle spécifie l&#39;<code>encoding</code>.</p><p>Le <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> doit prendre en charge l&#39;écriture.</p><p>Il est dangereux d&#39;utiliser <code>filehandle.writeFile()</code> plusieurs fois sur le même fichier sans attendre que la promesse soit résolue (ou rejetée).</p><p>Si un ou plusieurs appels à <code>filehandle.write()</code> sont effectués sur un descripteur de fichier, puis qu&#39;un appel à <code>filehandle.writeFile()</code> est effectué, les données seront écrites à partir de la position actuelle jusqu&#39;à la fin du fichier. L&#39;écriture ne se fait pas toujours à partir du début du fichier.</p><h4 id="filehandlewritevbuffers-position" tabindex="-1"><code>filehandle.writev(buffers[, position])</code> <a class="header-anchor" href="#filehandlewritevbuffers-position" aria-label="Permalink to “filehandle.writev(buffers[, position])”">​</a></h4><p><strong>Ajouté dans : v12.9.0</strong></p><ul><li><code>buffers</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView[]&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> Le décalage par rapport au début du fichier où les données de <code>buffers</code> doivent être écrites. Si <code>position</code> n&#39;est pas un <code>number</code>, les données seront écrites à la position actuelle. <strong>Par défaut :</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></li></ul><p>Écrit un tableau de <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView&gt;</a>s dans le fichier.</p><p>La promesse est remplie avec un objet contenant deux propriétés :</p><ul><li><code>bytesWritten</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> le nombre d&#39;octets écrits</li><li><code>buffers</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray[]&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView[]&gt;</a> une référence à l&#39;entrée <code>buffers</code>.</li></ul><p>Il est dangereux d&#39;appeler <code>writev()</code> plusieurs fois sur le même fichier sans attendre que la promesse soit remplie (ou rejetée).</p><p>Sous Linux, les écritures positionnelles ne fonctionnent pas lorsque le fichier est ouvert en mode ajout. Le noyau ignore l&#39;argument de position et ajoute toujours les données à la fin du fichier.</p><h4 id="filehandlesymbolasyncdispose" tabindex="-1"><code>filehandle[Symbol.asyncDispose]()</code> <a class="header-anchor" href="#filehandlesymbolasyncdispose" aria-label="Permalink to “filehandle[Symbol.asyncDispose]()”">​</a></h4><p><strong>Ajouté dans : v20.4.0, v18.18.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Experimental]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/fr/nodejs/api/documentation#stability-index">Stability: 1</a> - Expérimental</p></div><p>Un alias pour <code>filehandle.close()</code>.</p><h3 id="fspromisesaccesspath-mode" tabindex="-1"><code>fsPromises.access(path[, mode])</code> <a class="header-anchor" href="#fspromisesaccesspath-mode" aria-label="Permalink to “fsPromises.access(path[, mode])”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>fs.constants.F_OK</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</li></ul><p>Teste les autorisations d&#39;un utilisateur pour le fichier ou le répertoire spécifié par <code>path</code>. L&#39;argument <code>mode</code> est un entier optionnel qui spécifie les contrôles d&#39;accessibilité à effectuer. <code>mode</code> doit être soit la valeur <code>fs.constants.F_OK</code>, soit un masque constitué du OU bit à bit de l&#39;un des éléments suivants : <code>fs.constants.R_OK</code>, <code>fs.constants.W_OK</code> et <code>fs.constants.X_OK</code> (par exemple, <code>fs.constants.W_OK | fs.constants.R_OK</code>). Consultez <a href="/fr/nodejs/api/fs#file-access-constants">Constantes d&#39;accès aux fichiers</a> pour connaître les valeurs possibles de <code>mode</code>.</p><p>Si le contrôle d&#39;accessibilité réussit, la promesse est tenue sans valeur. Si l&#39;un des contrôles d&#39;accessibilité échoue, la promesse est rejetée avec un objet <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a>. L&#39;exemple suivant vérifie si le fichier <code>/etc/passwd</code> peut être lu et écrit par le processus en cours.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { access, constants } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/etc/passwd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">R_OK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W_OK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;can access&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cannot access&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Il n&#39;est pas recommandé d&#39;utiliser <code>fsPromises.access()</code> pour vérifier l&#39;accessibilité d&#39;un fichier avant d&#39;appeler <code>fsPromises.open()</code>. Cela introduit une condition de concurrence, car d&#39;autres processus peuvent modifier l&#39;état du fichier entre les deux appels. Au lieu de cela, le code utilisateur doit ouvrir/lire/écrire le fichier directement et gérer l&#39;erreur générée si le fichier n&#39;est pas accessible.</p><h3 id="fspromisesappendfilepath-data-options" tabindex="-1"><code>fsPromises.appendFile(path, data[, options])</code> <a class="header-anchor" href="#fspromisesappendfilepath-data-options" aria-label="Permalink to “fsPromises.appendFile(path, data[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.1.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> nom de fichier ou <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a></p></li><li><p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;a&#39;</code>.</li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, le descripteur de fichier sous-jacent est vidé avant d&#39;être fermé. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</p></li></ul><p>Ajoute des données à un fichier de manière asynchrone, en créant le fichier s&#39;il n&#39;existe pas encore. <code>data</code> peut être une chaîne de caractères ou un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>options</code> est une chaîne de caractères, elle spécifie alors l&#39;<code>encoding</code>.</p><p>L&#39;option <code>mode</code> n&#39;affecte que le fichier nouvellement créé. Voir <a href="/fr/nodejs/api/fs#fsopenpath-flags-mode-callback"><code>fs.open()</code></a> pour plus de détails.</p><p>Le <code>path</code> peut être spécifié en tant que <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> qui a été ouvert pour l&#39;ajout (à l&#39;aide de <code>fsPromises.open()</code>).</p><h3 id="fspromiseschmodpath-mode" tabindex="-1"><code>fsPromises.chmod(path, mode)</code> <a class="header-anchor" href="#fspromiseschmodpath-mode" aria-label="Permalink to “fsPromises.chmod(path, mode)”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</li></ul><p>Modifie les permissions d&#39;un fichier.</p><h3 id="fspromiseschownpath-uid-gid" tabindex="-1"><code>fsPromises.chown(path, uid, gid)</code> <a class="header-anchor" href="#fspromiseschownpath-uid-gid" aria-label="Permalink to “fsPromises.chown(path, uid, gid)”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</li></ul><p>Modifie le propriétaire d&#39;un fichier.</p><h3 id="fspromisescopyfilesrc-dest-mode" tabindex="-1"><code>fsPromises.copyFile(src, dest[, mode])</code> <a class="header-anchor" href="#fspromisescopyfilesrc-dest-mode" aria-label="Permalink to “fsPromises.copyFile(src, dest[, mode])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v14.0.0</td><td>L&#39;argument <code>flags</code> a été remplacé par <code>mode</code> et une validation de type plus stricte a été imposée.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> nom du fichier source à copier</p></li><li><p><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> nom du fichier de destination de l&#39;opération de copie</p></li><li><p><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Modificateurs optionnels qui spécifient le comportement de l&#39;opération de copie. Il est possible de créer un masque constitué du OU bit à bit d&#39;au moins deux valeurs (par exemple, <code>fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONE</code>) <strong>Par défaut :</strong> <code>0</code>.</p><ul><li><code>fs.constants.COPYFILE_EXCL</code> : L&#39;opération de copie échoue si <code>dest</code> existe déjà.</li><li><code>fs.constants.COPYFILE_FICLONE</code> : L&#39;opération de copie tente de créer un reflink de copie sur écriture. Si la plateforme ne prend pas en charge la copie sur écriture, un mécanisme de copie de secours est utilisé.</li><li><code>fs.constants.COPYFILE_FICLONE_FORCE</code> : L&#39;opération de copie tente de créer un reflink de copie sur écriture. Si la plateforme ne prend pas en charge la copie sur écriture, l&#39;opération échoue.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</p></li></ul><p>Copie de manière asynchrone <code>src</code> vers <code>dest</code>. Par défaut, <code>dest</code> est écrasé s&#39;il existe déjà.</p><p>Aucune garantie n&#39;est donnée quant à l&#39;atomicité de l&#39;opération de copie. Si une erreur se produit après que le fichier de destination a été ouvert pour écriture, une tentative de suppression de la destination sera effectuée.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { copyFile, constants } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> copyFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt a été copié vers destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Le fichier n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">a pas pu être copié&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// En utilisant COPYFILE_EXCL, l&#39;opération échouera si destination.txt existe.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> copyFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COPYFILE_EXCL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt a été copié vers destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Le fichier n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">a pas pu être copié&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="fspromisescpsrc-dest-options" tabindex="-1"><code>fsPromises.cp(src, dest[, options])</code> <a class="header-anchor" href="#fspromisescpsrc-dest-options" aria-label="Permalink to “fsPromises.cp(src, dest[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v22.3.0</td><td>Cette API n&#39;est plus expérimentale.</td></tr><tr><td>v20.1.0, v18.17.0</td><td>Accepte une option <code>mode</code> supplémentaire pour spécifier le comportement de copie comme l&#39;argument <code>mode</code> de <code>fs.copyFile()</code>.</td></tr><tr><td>v17.6.0, v16.15.0</td><td>Accepte une option <code>verbatimSymlinks</code> supplémentaire pour spécifier s&#39;il faut effectuer une résolution de chemin pour les liens symboliques.</td></tr><tr><td>v16.7.0</td><td>Ajouté dans : v16.7.0</td></tr></tbody></table></div><ul><li><p><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> chemin source à copier.</p></li><li><p><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> chemin de destination vers lequel copier.</p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><p><code>dereference</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> déréférence les liens symboliques. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>errorOnExist</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> quand <code>force</code> est <code>false</code> et que la destination existe, lève une erreur. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>filter</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Fonction permettant de filtrer les fichiers/répertoires copiés. Renvoie <code>true</code> pour copier l&#39;élément, <code>false</code> pour l&#39;ignorer. Lors de l&#39;ignorance d&#39;un répertoire, tout son contenu sera également ignoré. Peut également renvoyer une <code>Promise</code> qui se résout en <code>true</code> ou <code>false</code> <strong>Par défaut :</strong> <code>undefined</code>.</p></li><li><p><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> chemin source à copier.</p></li><li><p><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> chemin de destination vers lequel copier.</p></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Une valeur coercible en <code>boolean</code> ou une <code>Promise</code> qui se réalise avec une telle valeur.</p></li><li><p><code>force</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> écrase le fichier ou le répertoire existant. L&#39;opération de copie ignorera les erreurs si vous définissez cette option sur false et que la destination existe. Utilisez l&#39;option <code>errorOnExist</code> pour modifier ce comportement. <strong>Par défaut :</strong> <code>true</code>.</p></li><li><p><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> modificateurs pour l&#39;opération de copie. <strong>Par défaut :</strong> <code>0</code>. Voir l&#39;indicateur <code>mode</code> de <a href="/fr/nodejs/api/fs#fspromisescopyfilesrc-dest-mode"><code>fsPromises.copyFile()</code></a>.</p></li><li><p><code>preserveTimestamps</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, les horodatages de <code>src</code> seront conservés. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> copie les répertoires de manière récursive. <strong>Par défaut :</strong> <code>false</code></p></li><li><p><code>verbatimSymlinks</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, la résolution de chemin pour les liens symboliques sera ignorée. <strong>Par défaut :</strong> <code>false</code></p></li></ul></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec <code>undefined</code> en cas de succès.</p></li></ul><p>Copie de manière asynchrone toute la structure de répertoires de <code>src</code> vers <code>dest</code>, y compris les sous-répertoires et les fichiers.</p><p>Lors de la copie d&#39;un répertoire vers un autre répertoire, les globs ne sont pas pris en charge et le comportement est similaire à <code>cp dir1/ dir2/</code>.</p><h3 id="fspromisesglobpattern-options" tabindex="-1"><code>fsPromises.glob(pattern[, options])</code> <a class="header-anchor" href="#fspromisesglobpattern-options" aria-label="Permalink to “fsPromises.glob(pattern[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v22.2.0</td><td>Ajout du support de <code>withFileTypes</code> en tant qu&#39;option.</td></tr><tr><td>v22.0.0</td><td>Ajouté dans : v22.0.0</td></tr></tbody></table></div><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Expérimental]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/fr/nodejs/api/documentation#stability-index">Stabilité: 1</a> - Expérimental</p></div><ul><li><p><code>pattern</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>cwd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> répertoire de travail courant. <strong>Par défaut :</strong> <code>process.cwd()</code></li><li><code>exclude</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Fonction pour filtrer les fichiers/répertoires. Retourne <code>true</code> pour exclure l&#39;élément, <code>false</code> pour l&#39;inclure. <strong>Par défaut :</strong> <code>undefined</code>.</li><li><code>withFileTypes</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code> si la glob doit retourner les chemins en tant que Dirents, <code>false</code> sinon. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="https://tc39.github.io/ecma262/#sec-asynciterator-interface" target="_blank" rel="noreferrer">&lt;AsyncIterator&gt;</a> Un AsyncIterator qui produit les chemins des fichiers correspondant au modèle.</p></li></ul><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-1911" id="tab-1912" checked><label data-title="ESM" for="tab-1912">ESM</label><input type="radio" name="group-1911" id="tab-1913"><label data-title="CJS" for="tab-1913">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { glob } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> entry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> glob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(entry);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">glob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> entry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> glob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(entry);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div><h3 id="fspromiseslchmodpath-mode" tabindex="-1"><code>fsPromises.lchmod(path, mode)</code> <a class="header-anchor" href="#fspromiseslchmodpath-mode" aria-label="Permalink to “fsPromises.lchmod(path, mode)”">​</a></h3><p><strong>Obsolète depuis : v10.0.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</li></ul><p>Modifie les permissions sur un lien symbolique.</p><p>Cette méthode est uniquement implémentée sur macOS.</p><h3 id="fspromiseslchownpath-uid-gid" tabindex="-1"><code>fsPromises.lchown(path, uid, gid)</code> <a class="header-anchor" href="#fspromiseslchownpath-uid-gid" aria-label="Permalink to “fsPromises.lchown(path, uid, gid)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.6.0</td><td>Cette API n&#39;est plus obsolète.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</li></ul><p>Modifie la propriété d&#39;un lien symbolique.</p><h3 id="fspromiseslutimespath-atime-mtime" tabindex="-1"><code>fsPromises.lutimes(path, atime, mtime)</code> <a class="header-anchor" href="#fspromiseslutimespath-atime-mtime" aria-label="Permalink to “fsPromises.lutimes(path, atime, mtime)”">​</a></h3><p><strong>Ajouté dans : v14.5.0, v12.19.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</li></ul><p>Modifie les heures d&#39;accès et de modification d&#39;un fichier de la même manière que <a href="/fr/nodejs/api/fs#fspromisesutimespath-atime-mtime"><code>fsPromises.utimes()</code></a>, à la différence que si le chemin fait référence à un lien symbolique, alors le lien n&#39;est pas déréférencé : au lieu de cela, les horodatages du lien symbolique lui-même sont modifiés.</p><h3 id="fspromiseslinkexistingpath-newpath" tabindex="-1"><code>fsPromises.link(existingPath, newPath)</code> <a class="header-anchor" href="#fspromiseslinkexistingpath-newpath" aria-label="Permalink to “fsPromises.link(existingPath, newPath)”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>existingPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>newPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>undefined</code> en cas de succès.</li></ul><p>Crée un nouveau lien de <code>existingPath</code> vers <code>newPath</code>. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/link.2" target="_blank" rel="noreferrer"><code>link(2)</code></a> pour plus de détails.</p><h3 id="fspromiseslstatpath-options" tabindex="-1"><code>fsPromises.lstat(path[, options])</code> <a class="header-anchor" href="#fspromiseslstatpath-options" aria-label="Permalink to “fsPromises.lstat(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques retournées doivent être de type bigint.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> retourné doivent être <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le lien symbolique <code>path</code> donné.</p></li></ul><p>Équivalent à <a href="/fr/nodejs/api/fs#fspromisesstatpath-options"><code>fsPromises.stat()</code></a> sauf si <code>path</code> fait référence à un lien symbolique, auquel cas le lien lui-même est stat-é, et non le fichier auquel il fait référence. Reportez-vous au document POSIX <a href="http://man7.org/linux/man-pages/man2/lstat.2" target="_blank" rel="noreferrer"><code>lstat(2)</code></a> pour plus de détails.</p><h3 id="fspromisesmkdirpath-options" tabindex="-1"><code>fsPromises.mkdir(path[, options])</code> <a class="header-anchor" href="#fspromisesmkdirpath-options" aria-label="Permalink to “fsPromises.mkdir(path[, options])”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p><ul><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Non pris en charge sur Windows. <strong>Par défaut :</strong> <code>0o777</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> En cas de succès, est résolue avec <code>undefined</code> si <code>recursive</code> est <code>false</code>, ou le premier chemin de répertoire créé si <code>recursive</code> est <code>true</code>.</p></li></ul><p>Crée un répertoire de manière asynchrone.</p><p>L&#39;argument optionnel <code>options</code> peut être un entier spécifiant le <code>mode</code> (permissions et bits de persistance), ou un objet avec une propriété <code>mode</code> et une propriété <code>recursive</code> indiquant si les répertoires parents doivent être créés. L&#39;appel de <code>fsPromises.mkdir()</code> lorsque <code>path</code> est un répertoire existant entraîne un rejet uniquement lorsque <code>recursive</code> est false.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-2164" id="tab-2165" checked><label data-title="ESM" for="tab-2165">ESM</label><input type="radio" name="group-2164" id="tab-2166"><label data-title="CJS" for="tab-2166">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mkdir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> projectFolder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./test/project/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.url);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> createDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mkdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(projectFolder, { recursive: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`created ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">createDir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mkdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> makeDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> projectFolder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;project&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dirCreation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mkdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(projectFolder, { recursive: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dirCreation);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dirCreation;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">makeDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.error);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div></div><h3 id="fspromisesmkdtempprefix-options" tabindex="-1"><code>fsPromises.mkdtemp(prefix[, options])</code> <a class="header-anchor" href="#fspromisesmkdtempprefix-options" aria-label="Permalink to “fsPromises.mkdtemp(prefix[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.6.0, v18.19.0</td><td>Le paramètre <code>prefix</code> accepte désormais les tampons et les URL.</td></tr><tr><td>v16.5.0, v14.18.0</td><td>Le paramètre <code>prefix</code> accepte désormais une chaîne vide.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>prefix</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec une chaîne contenant le chemin du système de fichiers du répertoire temporaire nouvellement créé.</p></li></ul><p>Crée un répertoire temporaire unique. Un nom de répertoire unique est généré en ajoutant six caractères aléatoires à la fin du <code>préfixe</code> fourni. En raison d&#39;incohérences entre les plateformes, évitez les caractères <code>X</code> à la fin du <code>préfixe</code>. Certaines plateformes, notamment les BSD, peuvent renvoyer plus de six caractères aléatoires et remplacer les caractères <code>X</code> à la fin du <code>préfixe</code> par des caractères aléatoires.</p><p>L&#39;argument <code>options</code> facultatif peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mkdtemp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { join } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { tmpdir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:os&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mkdtemp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmpdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foo-&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>La méthode <code>fsPromises.mkdtemp()</code> ajoutera les six caractères sélectionnés aléatoirement directement à la chaîne <code>prefix</code>. Par exemple, étant donné un répertoire <code>/tmp</code>, si l&#39;intention est de créer un répertoire temporaire <em>dans</em> <code>/tmp</code>, le <code>prefix</code> doit se terminer par un séparateur de chemin d&#39;accès spécifique à la plateforme (<code>require(&#39;node:path&#39;).sep</code>).</p><h3 id="fspromisesopenpath-flags-mode" tabindex="-1"><code>fsPromises.open(path, flags[, mode])</code> <a class="header-anchor" href="#fspromisesopenpath-flags-mode" aria-label="Permalink to “fsPromises.open(path, flags[, mode])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Changements</th></tr></thead><tbody><tr><td>v11.1.0</td><td>L&#39;argument <code>flags</code> est désormais optionnel et sa valeur par défaut est <code>&#39;r&#39;</code>.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>flags</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;r&#39;</code>.</li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Définit le mode de fichier (permission et bits collants) si le fichier est créé. <strong>Par défaut :</strong> <code>0o666</code> (lisible et accessible en écriture)</li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec un objet <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a>.</li></ul><p>Ouvre un <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a>.</p><p>Référez-vous à la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/open.2" target="_blank" rel="noreferrer"><code>open(2)</code></a> pour plus de détails.</p><p>Certains caractères (<code>\&lt; \&gt; : &quot; / \ | ? *</code>) sont réservés sous Windows, comme indiqué dans <a href="https://docs.microsoft.com/en-us/windows/desktop/FileIO/naming-a-file" target="_blank" rel="noreferrer">Naming Files, Paths, and Namespaces</a>. Sous NTFS, si le nom de fichier contient un deux-points, Node.js ouvre un flux de système de fichiers, comme décrit dans <a href="https://docs.microsoft.com/en-us/windows/desktop/FileIO/using-streams" target="_blank" rel="noreferrer">cette page MSDN</a>.</p><h3 id="fspromisesopendirpath-options" tabindex="-1"><code>fsPromises.opendir(path[, options])</code> <a class="header-anchor" href="#fspromisesopendirpath-options" aria-label="Permalink to “fsPromises.opendir(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Changements</th></tr></thead><tbody><tr><td>v20.1.0, v18.17.0</td><td>Option <code>recursive</code> ajoutée.</td></tr><tr><td>v13.1.0, v12.16.0</td><td>L&#39;option <code>bufferSize</code> a été introduite.</td></tr><tr><td>v12.12.0</td><td>Ajoutée dans : v12.12.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>bufferSize</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Nombre d&#39;entrées de répertoire mises en mémoire tampon en interne lors de la lecture à partir du répertoire. Des valeurs plus élevées améliorent les performances mais augmentent l&#39;utilisation de la mémoire. <strong>Par défaut :</strong> <code>32</code></li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>Dir</code> résolu sera un <a href="https://tc39.github.io/ecma262/#sec-asynciterable-interface" target="_blank" rel="noreferrer">&lt;AsyncIterable&gt;</a> contenant tous les sous-fichiers et répertoires. <strong>Par défaut :</strong> <code>false</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec un <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a>.</p></li></ul><p>Ouvre de manière asynchrone un répertoire pour une analyse itérative. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man3/opendir.3" target="_blank" rel="noreferrer"><code>opendir(3)</code></a> pour plus de détails.</p><p>Crée un <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a>, qui contient toutes les autres fonctions pour lire et nettoyer le répertoire.</p><p>L&#39;option <code>encoding</code> définit l&#39;encodage pour le <code>path</code> lors de l&#39;ouverture du répertoire et des opérations de lecture suivantes.</p><p>Exemple utilisant l&#39;itération asynchrone :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { opendir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> opendir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dirent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dir)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dirent.name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Lors de l&#39;utilisation de l&#39;itérateur asynchrone, l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a> sera automatiquement fermé après la sortie de l&#39;itérateur.</p><h3 id="fspromisesreaddirpath-options" tabindex="-1"><code>fsPromises.readdir(path[, options])</code> <a class="header-anchor" href="#fspromisesreaddirpath-options" aria-label="Permalink to “fsPromises.readdir(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.1.0, v18.17.0</td><td>Ajout de l&#39;option <code>recursive</code>.</td></tr><tr><td>v10.11.0</td><td>La nouvelle option <code>withFileTypes</code> a été ajoutée.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>withFileTypes</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, lit le contenu d&#39;un répertoire de manière récursive. En mode récursif, il listera tous les fichiers, sous-fichiers et répertoires. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec un tableau des noms des fichiers dans le répertoire, excluant <code>&#39;.&#39;</code> et <code>&#39;..&#39;</code>.</p></li></ul><p>Lit le contenu d&#39;un répertoire.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne de caractères spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour les noms de fichiers. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, les noms de fichiers retournés seront passés en tant qu&#39;objets <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>options.withFileTypes</code> est défini sur <code>true</code>, le tableau retourné contiendra des objets <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readdir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> files</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> readdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(path);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> files)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="fspromisesreadfilepath-options" tabindex="-1"><code>fsPromises.readFile(path[, options])</code> <a class="header-anchor" href="#fspromisesreadfilepath-options" aria-label="Permalink to “fsPromises.readFile(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v15.2.0, v14.17.0</td><td>L&#39;argument options peut inclure un AbortSignal pour annuler une requête readFile en cours.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> nom de fichier ou <code>FileHandle</code></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;r&#39;</code>.</li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> permet d’annuler un readFile en cours</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Se réalise avec le contenu du fichier.</p></li></ul><p>Lit de manière asynchrone le contenu entier d’un fichier.</p><p>Si aucun encodage n’est spécifié (en utilisant <code>options.encoding</code>), les données sont renvoyées sous forme d’objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>. Sinon, les données seront une chaîne de caractères.</p><p>Si <code>options</code> est une chaîne, elle spécifie l’encodage.</p><p>Lorsque le <code>path</code> est un répertoire, le comportement de <code>fsPromises.readFile()</code> est spécifique à la plateforme. Sous macOS, Linux et Windows, la promise sera rejetée avec une erreur. Sous FreeBSD, une représentation du contenu du répertoire sera renvoyée.</p><p>Voici un exemple de lecture d’un fichier <code>package.json</code> situé dans le même répertoire que le code en cours d’exécution :</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-2575" id="tab-2576" checked><label data-title="ESM" for="tab-2576">ESM</label><input type="radio" name="group-2575" id="tab-2577"><label data-title="CJS" for="tab-2577">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> filePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./package.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.url);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> contents</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filePath, { encoding: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(contents);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> logFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> filePath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./package.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> contents</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filePath, { encoding: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(contents);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">logFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></div></div><p>Il est possible d’annuler un <code>readFile</code> en cours à l’aide d’un <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a>. Si une requête est annulée, la promise renvoyée est rejetée avec une <code>AbortError</code> :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fileName, { signal });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Annuler la requête avant que la promise ne se réalise.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> promise;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Quand une requête est annulée - err est une AbortError</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>L’annulation d’une requête en cours n’annule pas les requêtes individuelles du système d’exploitation, mais plutôt la mise en mémoire tampon interne effectuée par <code>fs.readFile</code>.</p><p>Tout <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> spécifié doit prendre en charge la lecture.</p><h3 id="fspromisesreadlinkpath-options" tabindex="-1"><code>fsPromises.readlink(path[, options])</code> <a class="header-anchor" href="#fspromisesreadlinkpath-options" aria-label="Permalink to “fsPromises.readlink(path[, options])”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec <code>linkString</code> en cas de succès.</p></li></ul><p>Lit le contenu du lien symbolique référencé par <code>path</code>. Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/readlink.2" target="_blank" rel="noreferrer"><code>readlink(2)</code></a> pour plus de détails. La promesse est remplie avec le <code>linkString</code> en cas de succès.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour le chemin de lien retourné. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, le chemin de lien retourné sera transmis en tant qu&#39;objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><h3 id="fspromisesrealpathpath-options" tabindex="-1"><code>fsPromises.realpath(path[, options])</code> <a class="header-anchor" href="#fspromisesrealpathpath-options" aria-label="Permalink to “fsPromises.realpath(path[, options])”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec le chemin résolu en cas de succès.</p></li></ul><p>Détermine l&#39;emplacement réel de <code>path</code> en utilisant la même sémantique que la fonction <code>fs.realpath.native()</code>.</p><p>Seuls les chemins pouvant être convertis en chaînes UTF8 sont pris en charge.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour le chemin. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, le chemin retourné sera transmis en tant qu&#39;objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Sous Linux, lorsque Node.js est lié à musl libc, le système de fichiers procfs doit être monté sur <code>/proc</code> pour que cette fonction fonctionne. Glibc n&#39;a pas cette restriction.</p><h3 id="fspromisesrenameoldpath-newpath" tabindex="-1"><code>fsPromises.rename(oldPath, newPath)</code> <a class="header-anchor" href="#fspromisesrenameoldpath-newpath" aria-label="Permalink to “fsPromises.rename(oldPath, newPath)”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>oldPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>newPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Remplie avec <code>undefined</code> en cas de succès.</li></ul><p>Renomme <code>oldPath</code> en <code>newPath</code>.</p><h3 id="fspromisesrmdirpath-options" tabindex="-1"><code>fsPromises.rmdir(path[, options])</code> <a class="header-anchor" href="#fspromisesrmdirpath-options" aria-label="Permalink to “fsPromises.rmdir(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v16.0.0</td><td>L&#39;utilisation de <code>fsPromises.rmdir(path, { recursive: true })</code> sur un <code>path</code> qui est un fichier n&#39;est plus autorisée et entraîne une erreur <code>ENOENT</code> sur Windows et une erreur <code>ENOTDIR</code> sur POSIX.</td></tr><tr><td>v16.0.0</td><td>L&#39;utilisation de <code>fsPromises.rmdir(path, { recursive: true })</code> sur un <code>path</code> qui n&#39;existe pas n&#39;est plus autorisée et entraîne une erreur <code>ENOENT</code>.</td></tr><tr><td>v16.0.0</td><td>L&#39;option <code>recursive</code> est obsolète, son utilisation déclenche un avertissement de dépréciation.</td></tr><tr><td>v14.14.0</td><td>L&#39;option <code>recursive</code> est obsolète, utilisez plutôt <code>fsPromises.rm</code>.</td></tr><tr><td>v13.3.0, v12.16.0</td><td>L&#39;option <code>maxBusyTries</code> est renommée en <code>maxRetries</code>, et sa valeur par défaut est 0. L&#39;option <code>emfileWait</code> a été supprimée, et les erreurs <code>EMFILE</code> utilisent la même logique de nouvelle tentative que les autres erreurs. L&#39;option <code>retryDelay</code> est maintenant prise en charge. Les erreurs <code>ENFILE</code> sont maintenant retentées.</td></tr><tr><td>v12.10.0</td><td>Les options <code>recursive</code>, <code>maxBusyTries</code> et <code>emfileWait</code> sont désormais prises en charge.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Si une erreur <code>EBUSY</code>, <code>EMFILE</code>, <code>ENFILE</code>, <code>ENOTEMPTY</code> ou <code>EPERM</code> est rencontrée, Node.js retente l&#39;opération avec une attente linéaire de <code>retryDelay</code> millisecondes plus longue à chaque tentative. Cette option représente le nombre de tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>0</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, effectue une suppression récursive du répertoire. En mode récursif, les opérations sont retentées en cas d&#39;échec. <strong>Par défaut :</strong> <code>false</code>. <strong>Obsolète.</strong></li><li><code>retryDelay</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le temps en millisecondes à attendre entre les tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>100</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Remplie avec <code>undefined</code> en cas de succès.</p></li></ul><p>Supprime le répertoire identifié par <code>path</code>.</p><p>L&#39;utilisation de <code>fsPromises.rmdir()</code> sur un fichier (pas un répertoire) entraîne le rejet de la promesse avec une erreur <code>ENOENT</code> sous Windows et une erreur <code>ENOTDIR</code> sous POSIX.</p><p>Pour obtenir un comportement similaire à la commande Unix <code>rm -rf</code>, utilisez <a href="/fr/nodejs/api/fs#fspromisesrmpath-options"><code>fsPromises.rm()</code></a> avec les options <code>{ recursive: true, force: true }</code>.</p><h3 id="fspromisesrmpath-options" tabindex="-1"><code>fsPromises.rm(path[, options])</code> <a class="header-anchor" href="#fspromisesrmpath-options" aria-label="Permalink to “fsPromises.rm(path[, options])”">​</a></h3><p><strong>Ajouté dans : v14.14.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>force</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, les exceptions seront ignorées si <code>path</code> n&#39;existe pas. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Si une erreur <code>EBUSY</code>, <code>EMFILE</code>, <code>ENFILE</code>, <code>ENOTEMPTY</code> ou <code>EPERM</code> est rencontrée, Node.js réessayera l&#39;opération avec une attente de backoff linéaire de <code>retryDelay</code> millisecondes de plus à chaque tentative. Cette option représente le nombre de tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>0</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, effectue une suppression de répertoire récursive. En mode récursif, les opérations sont réessayées en cas d&#39;échec. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>retryDelay</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le temps en millisecondes à attendre entre les tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>100</code>.</li></ul></li><li><p>Returns: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec <code>undefined</code> en cas de succès.</p></li></ul><p>Supprime les fichiers et les répertoires (basé sur l&#39;utilitaire standard POSIX <code>rm</code>).</p><h3 id="fspromisesstatpath-options" tabindex="-1"><code>fsPromises.stat(path[, options])</code> <a class="header-anchor" href="#fspromisesstatpath-options" aria-label="Permalink to “fsPromises.stat(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques renvoyées doivent être bigint.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> renvoyé doivent être <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Returns: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le <code>path</code> donné.</p></li></ul><h3 id="fspromisesstatfspath-options" tabindex="-1"><code>fsPromises.statfs(path[, options])</code> <a class="header-anchor" href="#fspromisesstatfspath-options" aria-label="Permalink to “fsPromises.statfs(path[, options])”">​</a></h3><p><strong>Ajouté dans : v19.6.0, v18.15.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstatfs">&lt;fs.StatFs&gt;</a> renvoyé doivent être de type <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstatfs">&lt;fs.StatFs&gt;</a> pour le <code>path</code> donné.</p></li></ul><h3 id="fspromisessymlinktarget-path-type" tabindex="-1"><code>fsPromises.symlink(target, path[, type])</code> <a class="header-anchor" href="#fspromisessymlinktarget-path-type" aria-label="Permalink to “fsPromises.symlink(target, path[, type])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19.0.0</td><td>Si l&#39;argument <code>type</code> est <code>null</code> ou omis, Node.js détectera automatiquement le type de <code>target</code> et sélectionnera automatiquement <code>dir</code> ou <code>file</code>.</td></tr><tr><td>v10.0.0</td><td>Ajouté dans : v10.0.0</td></tr></tbody></table></div><ul><li><code>target</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec <code>undefined</code> en cas de succès.</li></ul><p>Crée un lien symbolique.</p><p>L’argument <code>type</code> n’est utilisé que sur les plateformes Windows et peut être <code>&#39;dir&#39;</code>, <code>&#39;file&#39;</code> ou <code>&#39;junction&#39;</code>. Si l&#39;argument <code>type</code> est <code>null</code>, Node.js détectera automatiquement le type <code>target</code> et utilisera <code>&#39;file&#39;</code> ou <code>&#39;dir&#39;</code>. Si le <code>target</code> n’existe pas, <code>&#39;file&#39;</code> sera utilisé. Les points de jonction Windows nécessitent que le chemin de destination soit absolu. Lors de l’utilisation de <code>&#39;junction&#39;</code>, l’argument <code>target</code> sera automatiquement normalisé en chemin absolu. Les points de jonction sur les volumes NTFS ne peuvent pointer que vers des répertoires.</p><h3 id="fspromisestruncatepath-len" tabindex="-1"><code>fsPromises.truncate(path[, len])</code> <a class="header-anchor" href="#fspromisestruncatepath-len" aria-label="Permalink to “fsPromises.truncate(path[, len])”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>len</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec <code>undefined</code> en cas de succès.</li></ul><p>Tronque (raccourcit ou étend la longueur) le contenu à <code>path</code> à <code>len</code> octets.</p><h3 id="fspromisesunlinkpath" tabindex="-1"><code>fsPromises.unlink(path)</code> <a class="header-anchor" href="#fspromisesunlinkpath" aria-label="Permalink to “fsPromises.unlink(path)”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec <code>undefined</code> en cas de succès.</li></ul><p>Si <code>path</code> fait référence à un lien symbolique, alors le lien est supprimé sans affecter le fichier ou le répertoire auquel ce lien fait référence. Si <code>path</code> fait référence à un chemin de fichier qui n&#39;est pas un lien symbolique, le fichier est supprimé. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/unlink.2" target="_blank" rel="noreferrer"><code>unlink(2)</code></a> pour plus de détails.</p><h3 id="fspromisesutimespath-atime-mtime" tabindex="-1"><code>fsPromises.utimes(path, atime, mtime)</code> <a class="header-anchor" href="#fspromisesutimespath-atime-mtime" aria-label="Permalink to “fsPromises.utimes(path, atime, mtime)”">​</a></h3><p><strong>Ajouté dans : v10.0.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec <code>undefined</code> en cas de succès.</li></ul><p>Change les horodatages du système de fichiers de l&#39;objet référencé par <code>path</code>.</p><p>Les arguments <code>atime</code> et <code>mtime</code> suivent ces règles :</p><ul><li>Les valeurs peuvent être des nombres représentant l&#39;heure Unix epoch, des <code>Date</code>s ou une chaîne numérique comme <code>&#39;123456789.0&#39;</code>.</li><li>Si la valeur ne peut pas être convertie en nombre, ou est <code>NaN</code>, <code>Infinity</code> ou <code>-Infinity</code>, une <code>Error</code> sera levée.</li></ul><h3 id="fspromiseswatchfilename-options" tabindex="-1"><code>fsPromises.watch(filename[, options])</code> <a class="header-anchor" href="#fspromiseswatchfilename-options" aria-label="Permalink to “fsPromises.watch(filename[, options])”">​</a></h3><p><strong>Ajouté dans : v15.9.0, v14.18.0</strong></p><ul><li><p><code>filename</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>persistent</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si le processus doit continuer à s&#39;exécuter tant que des fichiers sont surveillés. <strong>Par défaut :</strong> <code>true</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si tous les sous-répertoires doivent être surveillés, ou uniquement le répertoire courant. Ceci s&#39;applique lorsqu&#39;un répertoire est spécifié, et uniquement sur les plateformes supportées (voir <a href="/fr/nodejs/api/fs#caveats">caveats</a>). <strong>Par défaut :</strong> <code>false</code>.</li><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Spécifie l&#39;encodage de caractères à utiliser pour le nom de fichier passé au listener. <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code>.</li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> Un <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> utilisé pour signaler quand le watcher doit s&#39;arrêter.</li></ul></li><li><p>Retourne : <a href="https://tc39.github.io/ecma262/#sec-asynciterator-interface" target="_blank" rel="noreferrer">&lt;AsyncIterator&gt;</a> d&#39;objets avec les propriétés :</p><ul><li><code>eventType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Le type de changement</li><li><code>filename</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> Le nom du fichier modifié.</li></ul></li></ul><p>Retourne un itérateur asynchrone qui surveille les changements sur <code>filename</code>, où <code>filename</code> est soit un fichier, soit un répertoire.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ac</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ac;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ac.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> watcher</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__filename, { signal });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> watcher)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(event);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;AbortError&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>Sur la plupart des plateformes, <code>&#39;rename&#39;</code> est émis chaque fois qu&#39;un nom de fichier apparaît ou disparaît dans le répertoire.</p><p>Toutes les <a href="/fr/nodejs/api/fs#caveats">caveats</a> pour <code>fs.watch()</code> s&#39;appliquent également à <code>fsPromises.watch()</code>.</p><h3 id="fspromiseswritefilefile-data-options" tabindex="-1"><code>fsPromises.writeFile(file, data[, options])</code> <a class="header-anchor" href="#fspromiseswritefilefile-data-options" aria-label="Permalink to “fsPromises.writeFile(file, data[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v15.14.0, v14.18.0</td><td>L&#39;argument <code>data</code> prend en charge <code>AsyncIterable</code>, <code>Iterable</code> et <code>Stream</code>.</td></tr><tr><td>v15.2.0, v14.17.0</td><td>L&#39;argument options peut inclure un AbortSignal pour annuler une requête writeFile en cours.</td></tr><tr><td>v14.0.0</td><td>Le paramètre <code>data</code> ne forcera plus les entrées non prises en charge en chaînes de caractères.</td></tr><tr><td>v10.0.0</td><td>Ajoutée dans : v10.0.0</td></tr></tbody></table></div><ul><li><p><code>file</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> nom de fichier ou <code>FileHandle</code></p></li><li><p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> | <a href="https://tc39.github.io/ecma262/#sec-asynciterable-interface" target="_blank" rel="noreferrer">&lt;AsyncIterable&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol" target="_blank" rel="noreferrer">&lt;Iterable&gt;</a> | <a href="/fr/nodejs/api/stream#stream">&lt;Stream&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir la <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;w&#39;</code>.</li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si toutes les données sont écrites avec succès dans le fichier, et que <code>flush</code> est <code>true</code>, alors <code>filehandle.sync()</code> est utilisé pour vider les données. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> permet d&#39;annuler un writeFile en cours.</li></ul></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Est résolue avec <code>undefined</code> en cas de succès.</p></li></ul><p>Écrit de manière asynchrone des données dans un fichier, en remplaçant le fichier s&#39;il existe déjà. <code>data</code> peut être une chaîne de caractères, un buffer, un <a href="https://tc39.github.io/ecma262/#sec-asynciterable-interface" target="_blank" rel="noreferrer">&lt;AsyncIterable&gt;</a> ou un objet <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_iterable_protocol" target="_blank" rel="noreferrer">&lt;Iterable&gt;</a>.</p><p>L&#39;option <code>encoding</code> est ignorée si <code>data</code> est un buffer.</p><p>Si <code>options</code> est une chaîne de caractères, alors elle spécifie l&#39;encodage.</p><p>L&#39;option <code>mode</code> affecte uniquement le fichier nouvellement créé. Voir <a href="/fr/nodejs/api/fs#fsopenpath-flags-mode-callback"><code>fs.open()</code></a> pour plus de détails.</p><p>Tout <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> spécifié doit prendre en charge l&#39;écriture.</p><p>Il est dangereux d&#39;utiliser <code>fsPromises.writeFile()</code> plusieurs fois sur le même fichier sans attendre que la promise soit réglée.</p><p>De même que <code>fsPromises.readFile</code>, <code>fsPromises.writeFile</code> est une méthode pratique qui effectue plusieurs appels <code>write</code> en interne pour écrire le buffer qui lui est transmis. Pour le code sensible aux performances, envisagez d&#39;utiliser <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a> ou <a href="/fr/nodejs/api/fs#filehandlecreatewritestreamoptions"><code>filehandle.createWriteStream()</code></a>.</p><p>Il est possible d&#39;utiliser un <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> pour annuler un <code>fsPromises.writeFile()</code>. L&#39;annulation est réalisée &quot;au mieux&quot;, et une certaine quantité de données est susceptible d&#39;être quand même écrite.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { writeFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Buffer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:buffer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello Node.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> writeFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data, { signal });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Abort the request before the promise settles.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> promise;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // When a request is aborted - err is an AbortError</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>L&#39;annulation d&#39;une requête en cours n&#39;annule pas les requêtes individuelles du système d&#39;exploitation, mais plutôt la mise en mémoire tampon interne effectuée par <code>fs.writeFile</code>.</p><h3 id="fspromisesconstants" tabindex="-1"><code>fsPromises.constants</code> <a class="header-anchor" href="#fspromisesconstants" aria-label="Permalink to “fsPromises.constants”">​</a></h3><p><strong>Ajouté dans : v18.4.0, v16.17.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>Retourne un objet contenant des constantes couramment utilisées pour les opérations du système de fichiers. L’objet est identique à <code>fs.constants</code>. Voir <a href="/fr/nodejs/api/fs#fs-constants">Constantes FS</a> pour plus de détails.</p><h2 id="callback-api" tabindex="-1">API Callback <a class="header-anchor" href="#callback-api" aria-label="Permalink to “API Callback”">​</a></h2><p>Les API de rappel effectuent toutes les opérations de manière asynchrone, sans bloquer la boucle d’événements, puis invoquent une fonction de rappel à la fin ou en cas d’erreur.</p><p>Les API de rappel utilisent le pool de threads Node.js sous-jacent pour effectuer des opérations de système de fichiers en dehors du thread de la boucle d’événements. Ces opérations ne sont ni synchronisées ni threadsafe. Des précautions doivent être prises lors de l’exécution de plusieurs modifications simultanées sur le même fichier, sinon des données risquent d’être corrompues.</p><h3 id="fsaccesspath-mode-callback" tabindex="-1"><code>fs.access(path[, mode], callback)</code> <a class="header-anchor" href="#fsaccesspath-mode-callback" aria-label="Permalink to “fs.access(path[, mode], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.8.0</td><td>Les constantes <code>fs.F_OK</code>, <code>fs.R_OK</code>, <code>fs.W_OK</code> et <code>fs.X_OK</code> qui étaient présentes directement sur <code>fs</code> sont dépréciées.</td></tr><tr><td>v18.0.0</td><td>La transmission d’un rappel invalide à l’argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file :</code>.</td></tr><tr><td>v6.3.0</td><td>Les constantes telles que <code>fs.R_OK</code>, etc. qui étaient présentes directement sur <code>fs</code> ont été déplacées vers <code>fs.constants</code> en tant que dépréciation progressive. Par conséquent, pour Node.js <code>\&lt; v6.3.0</code>, utilisez <code>fs</code> pour accéder à ces constantes, ou faites quelque chose comme `(fs.constants</td></tr><tr><td>v0.11.15</td><td>Ajouté dans : v0.11.15</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>fs.constants.F_OK</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Teste les permissions d’un utilisateur pour le fichier ou le répertoire spécifié par <code>path</code>. L’argument <code>mode</code> est un entier facultatif qui spécifie les contrôles d’accessibilité à effectuer. <code>mode</code> doit être soit la valeur <code>fs.constants.F_OK</code> ou un masque constitué du OU bit à bit de l’un des <code>fs.constants.R_OK</code>, <code>fs.constants.W_OK</code>, et <code>fs.constants.X_OK</code> (par exemple, <code>fs.constants.W_OK | fs.constants.R_OK</code>). Consultez <a href="/fr/nodejs/api/fs#file-access-constants">Constantes d’accès aux fichiers</a> pour les valeurs possibles de <code>mode</code>.</p><p>L’argument final, <code>callback</code>, est une fonction de rappel qui est appelée avec un argument d’erreur possible. Si l’un des contrôles d’accessibilité échoue, l’argument d’erreur sera un objet <code>Error</code>. Les exemples suivants vérifient si <code>package.json</code> existe, et s’il est lisible ou accessible en écriture.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { access, constants } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;package.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vérifier si le fichier existe dans le répertoire actuel.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">F_OK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">existe pas&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;existe&#39;}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vérifier si le fichier est lisible.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">R_OK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">est pas lisible&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;est lisible&#39;}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vérifier si le fichier est accessible en écriture.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W_OK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">est pas accessible en écriture&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;est accessible en écriture&#39;}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Vérifier si le fichier est lisible et accessible en écriture.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">R_OK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W_OK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">} ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">est pas&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;est&#39;} lisible et accessible en écriture`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>N’utilisez pas <code>fs.access()</code> pour vérifier l’accessibilité d’un fichier avant d’appeler <code>fs.open()</code>, <code>fs.readFile()</code> ou <code>fs.writeFile()</code>. Cela introduit une condition de concurrence, car d’autres processus peuvent modifier l’état du fichier entre les deux appels. Au lieu de cela, le code utilisateur doit ouvrir/lire/écrire le fichier directement et gérer l’erreur soulevée si le fichier n’est pas accessible.</p><p><strong>write (NON RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { access, open, close } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile existe déjà&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      writeMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>write (RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;EEXIST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile existe déjà&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    writeMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>read (NON RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { access, open, close } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">access</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ENOENT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">existe pas&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      readMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>read (RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ENOENT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile n</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">existe pas&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    readMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>Les exemples « non recommandés » ci-dessus vérifient l’accessibilité, puis utilisent le fichier ; les exemples « recommandés » sont meilleurs, car ils utilisent le fichier directement et gèrent l’erreur, le cas échéant.</p><p>En général, vérifiez l’accessibilité d’un fichier uniquement si le fichier n’est pas utilisé directement, par exemple lorsque son accessibilité est un signal provenant d’un autre processus.</p><p>Sous Windows, les stratégies de contrôle d’accès (ACL) sur un répertoire peuvent limiter l’accès à un fichier ou à un répertoire. La fonction <code>fs.access()</code> ne vérifie toutefois pas l’ACL et peut donc signaler qu’un chemin d’accès est accessible même si l’ACL empêche l’utilisateur de le lire ou d’y écrire.</p><h3 id="fsappendfilepath-data-options-callback" tabindex="-1"><code>fs.appendFile(path, data[, options], callback)</code> <a class="header-anchor" href="#fsappendfilepath-data-options-callback" aria-label="Permalink to “fs.appendFile(path, data[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.1.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v18.0.0</td><td>Le fait de passer un callback invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera un <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v7.0.0</td><td>L&#39;objet <code>options</code> passé ne sera jamais modifié.</td></tr><tr><td>v5.0.0</td><td>Le paramètre <code>file</code> peut désormais être un descripteur de fichier.</td></tr><tr><td>v0.6.7</td><td>Ajoutée dans : v0.6.7</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> nom de fichier ou descripteur de fichier</p></li><li><p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">la prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;a&#39;</code>.</li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, le descripteur de fichier sous-jacent est vidé avant d&#39;être fermé. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Ajoute des données de manière asynchrone à un fichier, en créant le fichier s&#39;il n&#39;existe pas déjà. <code>data</code> peut être une chaîne de caractères ou un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>L&#39;option <code>mode</code> n&#39;affecte que le fichier nouvellement créé. Voir <a href="/fr/nodejs/api/fs#fsopenpath-flags-mode-callback"><code>fs.open()</code></a> pour plus de détails.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { appendFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">appendFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data to append&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;The &quot;data to append&quot; was appended to file!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Si <code>options</code> est une chaîne de caractères, elle spécifie alors l&#39;encodage :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { appendFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">appendFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data to append&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, callback);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Le <code>path</code> peut être spécifié comme un descripteur de fichier numérique qui a été ouvert pour l&#39;ajout (en utilisant <code>fs.open()</code> ou <code>fs.openSync()</code>). Le descripteur de fichier ne sera pas fermé automatiquement.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close, appendFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    appendFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data to append&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="fschmodpath-mode-callback" tabindex="-1"><code>fs.chmod(path, mode, callback)</code> <a class="header-anchor" href="#fschmodpath-mode-callback" aria-label="Permalink to “fs.chmod(path, mode, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une erreur <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.1.30</td><td>Ajouté dans : v0.1.30</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Modifie de manière asynchrone les permissions d&#39;un fichier. Aucun argument autre qu&#39;une possible exception n&#39;est donné au callback de complétion.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/chmod.2" target="_blank" rel="noreferrer"><code>chmod(2)</code></a> pour plus de détails.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { chmod } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;my_file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0o775</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Les permissions du fichier &quot;my_file.txt&quot; ont été modifiées !&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="file-modes" tabindex="-1">Modes de fichier <a class="header-anchor" href="#file-modes" aria-label="Permalink to “Modes de fichier”">​</a></h4><p>L&#39;argument <code>mode</code> utilisé dans les méthodes <code>fs.chmod()</code> et <code>fs.chmodSync()</code> est un masque de bits numérique créé en utilisant un OU logique des constantes suivantes :</p><table tabindex="0"><thead><tr><th>Constante</th><th>Octal</th><th>Description</th></tr></thead><tbody><tr><td><code>fs.constants.S_IRUSR</code></td><td><code>0o400</code></td><td>lecture par le propriétaire</td></tr><tr><td><code>fs.constants.S_IWUSR</code></td><td><code>0o200</code></td><td>écriture par le propriétaire</td></tr><tr><td><code>fs.constants.S_IXUSR</code></td><td><code>0o100</code></td><td>exécution/recherche par le propriétaire</td></tr><tr><td><code>fs.constants.S_IRGRP</code></td><td><code>0o40</code></td><td>lecture par le groupe</td></tr><tr><td><code>fs.constants.S_IWGRP</code></td><td><code>0o20</code></td><td>écriture par le groupe</td></tr><tr><td><code>fs.constants.S_IXGRP</code></td><td><code>0o10</code></td><td>exécution/recherche par le groupe</td></tr><tr><td><code>fs.constants.S_IROTH</code></td><td><code>0o4</code></td><td>lecture par les autres</td></tr><tr><td><code>fs.constants.S_IWOTH</code></td><td><code>0o2</code></td><td>écriture par les autres</td></tr><tr><td><code>fs.constants.S_IXOTH</code></td><td><code>0o1</code></td><td>exécution/recherche par les autres</td></tr></tbody></table><p>Une méthode plus simple de construction du <code>mode</code> est d&#39;utiliser une séquence de trois chiffres octaux (par exemple <code>765</code>). Le chiffre le plus à gauche (<code>7</code> dans l&#39;exemple), spécifie les permissions pour le propriétaire du fichier. Le chiffre du milieu (<code>6</code> dans l&#39;exemple), spécifie les permissions pour le groupe. Le chiffre le plus à droite (<code>5</code> dans l&#39;exemple), spécifie les permissions pour les autres.</p><table tabindex="0"><thead><tr><th>Nombre</th><th>Description</th></tr></thead><tbody><tr><td><code>7</code></td><td>lecture, écriture et exécution</td></tr><tr><td><code>6</code></td><td>lecture et écriture</td></tr><tr><td><code>5</code></td><td>lecture et exécution</td></tr><tr><td><code>4</code></td><td>lecture seule</td></tr><tr><td><code>3</code></td><td>écriture et exécution</td></tr><tr><td><code>2</code></td><td>écriture seule</td></tr><tr><td><code>1</code></td><td>exécution seule</td></tr><tr><td><code>0</code></td><td>aucune permission</td></tr></tbody></table><p>Par exemple, la valeur octale <code>0o765</code> signifie :</p><ul><li>Le propriétaire peut lire, écrire et exécuter le fichier.</li><li>Le groupe peut lire et écrire le fichier.</li><li>Les autres peuvent lire et exécuter le fichier.</li></ul><p>Lors de l&#39;utilisation de nombres bruts où les modes de fichier sont attendus, toute valeur supérieure à <code>0o777</code> peut entraîner des comportements spécifiques à la plate-forme qui ne sont pas pris en charge pour fonctionner de manière cohérente. Par conséquent, les constantes telles que <code>S_ISVTX</code>, <code>S_ISGID</code> ou <code>S_ISUID</code> ne sont pas exposées dans <code>fs.constants</code>.</p><p>Mises en garde : sous Windows, seule l’autorisation d’écriture peut être modifiée, et la distinction entre les autorisations de groupe, de propriétaire ou autres n’est pas mise en œuvre.</p><h3 id="fschownpath-uid-gid-callback" tabindex="-1"><code>fs.chown(path, uid, gid, callback)</code> <a class="header-anchor" href="#fschownpath-uid-gid-callback" aria-label="Permalink to “fs.chown(path, uid, gid, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>La transmission d&#39;un rappel non valide à l&#39;argument <code>callback</code> génère maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le transmettre générera une erreur <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le transmettre émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v0.1.97</td><td>Ajouté dans : v0.1.97</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Modifie de manière asynchrone le propriétaire et le groupe d&#39;un fichier. Aucun argument autre qu&#39;une éventuelle exception n&#39;est transmis au rappel d&#39;achèvement.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/chown.2" target="_blank" rel="noreferrer"><code>chown(2)</code></a> pour plus de détails.</p><h3 id="fsclosefd-callback" tabindex="-1"><code>fs.close(fd[, callback])</code> <a class="header-anchor" href="#fsclosefd-callback" aria-label="Permalink to “fs.close(fd[, callback])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>La transmission d&#39;un rappel non valide à l&#39;argument <code>callback</code> génère maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v15.9.0, v14.17.0</td><td>Un rappel par défaut est maintenant utilisé si aucun n&#39;est fourni.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le transmettre générera une erreur <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le transmettre émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v0.0.2</td><td>Ajouté dans : v0.0.2</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Ferme le descripteur de fichier. Aucun argument autre qu&#39;une éventuelle exception n&#39;est transmis au rappel d&#39;achèvement.</p><p>L&#39;appel de <code>fs.close()</code> sur n&#39;importe quel descripteur de fichier (<code>fd</code>) qui est actuellement utilisé par le biais de toute autre opération <code>fs</code> peut entraîner un comportement indéfini.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/close.2" target="_blank" rel="noreferrer"><code>close(2)</code></a> pour plus de détails.</p><h3 id="fscopyfilesrc-dest-mode-callback" tabindex="-1"><code>fs.copyFile(src, dest[, mode], callback)</code> <a class="header-anchor" href="#fscopyfilesrc-dest-mode-callback" aria-label="Permalink to “fs.copyFile(src, dest[, mode], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v14.0.0</td><td>L&#39;argument <code>flags</code> a été remplacé par <code>mode</code> et une validation de type plus stricte a été imposée.</td></tr><tr><td>v8.5.0</td><td>Ajouté dans : v8.5.0</td></tr></tbody></table></div><ul><li><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> nom du fichier source à copier</li><li><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> nom du fichier de destination de l&#39;opération de copie</li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> modificateurs pour l&#39;opération de copie. <strong>Par défaut :</strong> <code>0</code>.</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Copie de manière asynchrone <code>src</code> vers <code>dest</code>. Par défaut, <code>dest</code> est écrasé s&#39;il existe déjà. Aucun argument autre qu&#39;une éventuelle exception n&#39;est transmis à la fonction de rappel. Node.js ne donne aucune garantie quant à l&#39;atomicité de l&#39;opération de copie. Si une erreur se produit après que le fichier de destination a été ouvert pour l&#39;écriture, Node.js tentera de supprimer la destination.</p><p><code>mode</code> est un entier optionnel qui spécifie le comportement de l&#39;opération de copie. Il est possible de créer un masque constitué du OU bit à bit d&#39;au moins deux valeurs (par exemple, <code>fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONE</code>).</p><ul><li><code>fs.constants.COPYFILE_EXCL</code> : L&#39;opération de copie échouera si <code>dest</code> existe déjà.</li><li><code>fs.constants.COPYFILE_FICLONE</code> : L&#39;opération de copie tentera de créer un reflink de copie sur écriture. Si la plateforme ne prend pas en charge la copie sur écriture, un mécanisme de copie de repli est utilisé.</li><li><code>fs.constants.COPYFILE_FICLONE_FORCE</code> : L&#39;opération de copie tentera de créer un reflink de copie sur écriture. Si la plateforme ne prend pas en charge la copie sur écriture, l&#39;opération échouera.</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { copyFile, constants } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt was copied to destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// destination.txt will be created or overwritten by default.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">copyFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, callback);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// By using COPYFILE_EXCL, the operation will fail if destination.txt exists.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">copyFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COPYFILE_EXCL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, callback);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="fscpsrc-dest-options-callback" tabindex="-1"><code>fs.cp(src, dest[, options], callback)</code> <a class="header-anchor" href="#fscpsrc-dest-options-callback" aria-label="Permalink to “fs.cp(src, dest[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v22.3.0</td><td>Cette API n&#39;est plus expérimentale.</td></tr><tr><td>v20.1.0, v18.17.0</td><td>Accepte une option <code>mode</code> supplémentaire pour spécifier le comportement de la copie comme argument <code>mode</code> de <code>fs.copyFile()</code>.</td></tr><tr><td>v18.0.0</td><td>Passer un rappel invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v17.6.0, v16.15.0</td><td>Accepte une option <code>verbatimSymlinks</code> supplémentaire pour spécifier si la résolution de chemin doit être effectuée pour les liens symboliques.</td></tr><tr><td>v16.7.0</td><td>Ajouté dans : v16.7.0</td></tr></tbody></table></div><ul><li><p><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> chemin source à copier.</p></li><li><p><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> chemin de destination où copier.</p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><p><code>dereference</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> déréférence les liens symboliques. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>errorOnExist</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> lorsque <code>force</code> est <code>false</code>, et que la destination existe, lève une erreur. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>filter</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Fonction pour filtrer les fichiers/répertoires copiés. Retourne <code>true</code> pour copier l&#39;élément, <code>false</code> pour l&#39;ignorer. Lors de l&#39;ignorance d&#39;un répertoire, tout son contenu sera également ignoré. Peut également retourner une <code>Promise</code> qui se résout en <code>true</code> ou <code>false</code> <strong>Par défaut :</strong> <code>undefined</code>.</p></li><li><p><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> chemin source à copier.</p></li><li><p><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> chemin de destination où copier.</p></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Une valeur qui peut être convertie en <code>boolean</code> ou une <code>Promise</code> qui se réalise avec une telle valeur.</p></li><li><p><code>force</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> écrase le fichier ou le répertoire existant. L&#39;opération de copie ignorera les erreurs si vous définissez cette option sur false et que la destination existe. Utilisez l&#39;option <code>errorOnExist</code> pour modifier ce comportement. <strong>Par défaut :</strong> <code>true</code>.</p></li><li><p><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> modificateurs pour l&#39;opération de copie. <strong>Par défaut :</strong> <code>0</code>. Voir l&#39;indicateur <code>mode</code> de <a href="/fr/nodejs/api/fs#fscopyfilesrc-dest-mode-callback"><code>fs.copyFile()</code></a>.</p></li><li><p><code>preserveTimestamps</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, les timestamps de <code>src</code> seront conservés. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> copie les répertoires de manière récursive <strong>Par défaut :</strong> <code>false</code></p></li><li><p><code>verbatimSymlinks</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, la résolution de chemin pour les liens symboliques sera ignorée. <strong>Par défaut :</strong> <code>false</code></p></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Copie de manière asynchrone toute la structure de répertoires de <code>src</code> vers <code>dest</code>, y compris les sous-répertoires et les fichiers.</p><p>Lors de la copie d&#39;un répertoire vers un autre, les globs ne sont pas pris en charge et le comportement est similaire à <code>cp dir1/ dir2/</code>.</p><h3 id="fscreatereadstreampath-options" tabindex="-1"><code>fs.createReadStream(path[, options])</code> <a class="header-anchor" href="#fscreatereadstreampath-options" aria-label="Permalink to “fs.createReadStream(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v16.10.0</td><td>L&#39;option <code>fs</code> n&#39;a pas besoin de la méthode <code>open</code> si un <code>fd</code> a été fourni.</td></tr><tr><td>v16.10.0</td><td>L&#39;option <code>fs</code> n&#39;a pas besoin de la méthode <code>close</code> si <code>autoClose</code> est <code>false</code>.</td></tr><tr><td>v15.5.0</td><td>Ajout du support pour <code>AbortSignal</code>.</td></tr><tr><td>v15.4.0</td><td>L&#39;option <code>fd</code> accepte les arguments FileHandle.</td></tr><tr><td>v14.0.0</td><td>Changer la valeur par défaut de <code>emitClose</code> à <code>true</code>.</td></tr><tr><td>v13.6.0, v12.17.0</td><td>Les options <code>fs</code> permettent de remplacer l&#39;implémentation <code>fs</code> utilisée.</td></tr><tr><td>v12.10.0</td><td>Activer l&#39;option <code>emitClose</code>.</td></tr><tr><td>v11.0.0</td><td>Imposer de nouvelles restrictions sur <code>start</code> et <code>end</code>, en lançant des erreurs plus appropriées dans les cas où nous ne pouvons pas gérer raisonnablement les valeurs d&#39;entrée.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>L&#39;objet <code>options</code> passé ne sera jamais modifié.</td></tr><tr><td>v2.3.0</td><td>L&#39;objet <code>options</code> passé peut maintenant être une chaîne de caractères.</td></tr><tr><td>v0.1.31</td><td>Ajouté dans : v0.1.31</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>flags</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">support des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;r&#39;</code>.</li><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>autoClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>emitClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>end</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>Infinity</code></li><li><code>highWaterMark</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>64 * 1024</code></li><li><code>fs</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a></p></li></ul><p><code>options</code> peut inclure les valeurs <code>start</code> et <code>end</code> pour lire une plage d&#39;octets du fichier au lieu du fichier entier. <code>start</code> et <code>end</code> sont tous deux inclusifs et commencent à compter à partir de 0, les valeurs autorisées se trouvent dans la plage [0, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank" rel="noreferrer"><code>Number.MAX_SAFE_INTEGER</code></a>]. Si <code>fd</code> est spécifié et que <code>start</code> est omis ou <code>undefined</code>, <code>fs.createReadStream()</code> lit séquentiellement à partir de la position actuelle du fichier. L&#39;<code>encoding</code> peut être l&#39;un de ceux acceptés par <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>fd</code> est spécifié, <code>ReadStream</code> ignorera l&#39;argument <code>path</code> et utilisera le descripteur de fichier spécifié. Cela signifie qu&#39;aucun événement <code>&#39;open&#39;</code> ne sera émis. <code>fd</code> doit être bloquant ; les <code>fd</code> non bloquants doivent être passés à <a href="/fr/nodejs/api/net#class-netsocket">&lt;net.Socket&gt;</a>.</p><p>Si <code>fd</code> pointe vers un périphérique de caractères qui prend uniquement en charge les lectures bloquantes (tel qu&#39;un clavier ou une carte son), les opérations de lecture ne se terminent pas tant que les données ne sont pas disponibles. Cela peut empêcher le processus de se fermer et le flux de se fermer naturellement.</p><p>Par défaut, le flux émettra un événement <code>&#39;close&#39;</code> après avoir été détruit. Définissez l&#39;option <code>emitClose</code> sur <code>false</code> pour modifier ce comportement.</p><p>En fournissant l&#39;option <code>fs</code>, il est possible de remplacer les implémentations <code>fs</code> correspondantes pour <code>open</code>, <code>read</code> et <code>close</code>. Lors de la fourniture de l&#39;option <code>fs</code>, un remplacement pour <code>read</code> est requis. Si aucun <code>fd</code> n&#39;est fourni, un remplacement pour <code>open</code> est également requis. Si <code>autoClose</code> est <code>true</code>, un remplacement pour <code>close</code> est également requis.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createReadStream } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Créer un flux à partir d&#39;un périphérique de caractères.</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stream</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createReadStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/dev/input/event0&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cela peut ne pas fermer le flux.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Le fait de marquer artificiellement la fin de flux, comme si la ressource sous-jacente avait</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // indiqué la fin de fichier par elle-même, permet au flux de se fermer.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Cela n&#39;annule pas les opérations de lecture en attente, et s&#39;il y a une telle</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // opération, le processus peut toujours ne pas être en mesure de se fermer correctement</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // jusqu&#39;à ce qu&#39;il se termine.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>Si <code>autoClose</code> est faux, alors le descripteur de fichier ne sera pas fermé, même s&#39;il y a une erreur. Il est de la responsabilité de l&#39;application de le fermer et de s&#39;assurer qu&#39;il n&#39;y a pas de fuite de descripteur de fichier. Si <code>autoClose</code> est défini sur true (comportement par défaut), sur <code>&#39;error&#39;</code> ou <code>&#39;end&#39;</code>, le descripteur de fichier sera fermé automatiquement.</p><p><code>mode</code> définit le mode de fichier (permission et bits collants), mais uniquement si le fichier a été créé.</p><p>Un exemple pour lire les 10 derniers octets d&#39;un fichier de 100 octets de long :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createReadStream } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createReadStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sample.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { start: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, end: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">99</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Si <code>options</code> est une chaîne de caractères, alors elle spécifie l&#39;encodage.</p><h3 id="fscreatewritestreampath-options" tabindex="-1"><code>fs.createWriteStream(path[, options])</code> <a class="header-anchor" href="#fscreatewritestreampath-options" aria-label="Permalink to “fs.createWriteStream(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v16.10.0</td><td>L&#39;option <code>fs</code> n&#39;a pas besoin de la méthode <code>open</code> si un <code>fd</code> a été fourni.</td></tr><tr><td>v16.10.0</td><td>L&#39;option <code>fs</code> n&#39;a pas besoin de la méthode <code>close</code> si <code>autoClose</code> est <code>false</code>.</td></tr><tr><td>v15.5.0</td><td>Ajout de la prise en charge de <code>AbortSignal</code>.</td></tr><tr><td>v15.4.0</td><td>L&#39;option <code>fd</code> accepte les arguments FileHandle.</td></tr><tr><td>v14.0.0</td><td>Changement de la valeur par défaut de <code>emitClose</code> à <code>true</code>.</td></tr><tr><td>v13.6.0, v12.17.0</td><td>Les options <code>fs</code> permettent de remplacer l&#39;implémentation <code>fs</code> utilisée.</td></tr><tr><td>v12.10.0</td><td>Activation de l&#39;option <code>emitClose</code>.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>L&#39;objet <code>options</code> passé ne sera jamais modifié.</td></tr><tr><td>v5.5.0</td><td>L&#39;option <code>autoClose</code> est désormais prise en charge.</td></tr><tr><td>v2.3.0</td><td>L&#39;objet <code>options</code> passé peut désormais être une chaîne de caractères.</td></tr><tr><td>v0.1.31</td><td>Ajoutée dans : v0.1.31</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>flags</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir la <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;w&#39;</code>.</li><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>autoClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>emitClose</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>start</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>fs</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>highWaterMark</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> <strong>Par défaut :</strong> <code>16384</code></li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, le descripteur de fichier sous-jacent est vidé avant d&#39;être fermé. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a></p></li></ul><p><code>options</code> peut également inclure une option <code>start</code> pour permettre l&#39;écriture de données à une certaine position après le début du fichier, les valeurs autorisées se situent dans la plage [0, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER" target="_blank" rel="noreferrer"><code>Number.MAX_SAFE_INTEGER</code></a>]. La modification d&#39;un fichier plutôt que son remplacement peut nécessiter que l&#39;option <code>flags</code> soit définie sur <code>r+</code> plutôt que sur la valeur par défaut <code>w</code>. L&#39;<code>encoding</code> peut être l&#39;une de celles acceptées par <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>autoClose</code> est défini sur true (comportement par défaut), sur <code>&#39;error&#39;</code> ou <code>&#39;finish&#39;</code>, le descripteur de fichier sera automatiquement fermé. Si <code>autoClose</code> est false, alors le descripteur de fichier ne sera pas fermé, même en cas d&#39;erreur. Il incombe à l&#39;application de le fermer et de s&#39;assurer qu&#39;il n&#39;y a pas de fuite de descripteur de fichier.</p><p>Par défaut, le flux émettra un événement <code>&#39;close&#39;</code> après avoir été détruit. Définissez l&#39;option <code>emitClose</code> sur <code>false</code> pour modifier ce comportement.</p><p>En fournissant l&#39;option <code>fs</code>, il est possible de remplacer les implémentations <code>fs</code> correspondantes pour <code>open</code>, <code>write</code>, <code>writev</code> et <code>close</code>. Le remplacement de <code>write()</code> sans <code>writev()</code> peut réduire les performances car certaines optimisations (<code>_writev()</code>) seront désactivées. Lorsque vous fournissez l&#39;option <code>fs</code>, les remplacements pour au moins l&#39;un des <code>write</code> et <code>writev</code> sont obligatoires. Si aucune option <code>fd</code> n&#39;est fournie, un remplacement pour <code>open</code> est également requis. Si <code>autoClose</code> est <code>true</code>, un remplacement pour <code>close</code> est également requis.</p><p>Comme <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a>, si <code>fd</code> est spécifié, <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a> ignorera l&#39;argument <code>path</code> et utilisera le descripteur de fichier spécifié. Cela signifie qu&#39;aucun événement <code>&#39;open&#39;</code> ne sera émis. <code>fd</code> doit être bloquant ; les <code>fd</code> non bloquants doivent être passés à <a href="/fr/nodejs/api/net#class-netsocket">&lt;net.Socket&gt;</a>.</p><p>Si <code>options</code> est une chaîne de caractères, elle spécifie l&#39;encodage.</p><h3 id="fsexistspath-callback" tabindex="-1"><code>fs.exists(path, callback)</code> <a class="header-anchor" href="#fsexistspath-callback" aria-label="Permalink to “fs.exists(path, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le fait de passer un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v1.0.0</td><td>Déprécié depuis : v1.0.0</td></tr><tr><td>v0.0.2</td><td>Ajouté dans : v0.0.2</td></tr></tbody></table></div><div class="danger custom-block"><p class="custom-block-title">[Stable: 0 - Déprécié]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 0</a> <a href="/fr/nodejs/api/documentation#stability-index">Stability: 0</a> - Déprécié : Utilisez <a href="/fr/nodejs/api/fs#fsstatpath-options-callback"><code>fs.stat()</code></a> ou <a href="/fr/nodejs/api/fs#fsaccesspath-mode-callback"><code>fs.access()</code></a> à la place.</p></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>exists</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Boolean" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul></li></ul><p>Vérifie si l&#39;élément au <code>path</code> donné existe en interrogeant le système de fichiers. Appelle ensuite l&#39;argument <code>callback</code> avec true ou false :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { exists } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exists</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/etc/passwd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;il existe&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pas de passwd !&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Les paramètres de ce callback ne sont pas cohérents avec les autres callbacks Node.js.</strong> Normalement, le premier paramètre d&#39;un callback Node.js est un paramètre <code>err</code>, éventuellement suivi d&#39;autres paramètres. Le callback <code>fs.exists()</code> n&#39;a qu&#39;un seul paramètre booléen. C&#39;est l&#39;une des raisons pour lesquelles <code>fs.access()</code> est recommandé à la place de <code>fs.exists()</code>.</p><p>Si <code>path</code> est un lien symbolique, il est suivi. Ainsi, si <code>path</code> existe mais pointe vers un élément inexistant, le callback recevra la valeur <code>false</code>.</p><p>Il n&#39;est pas recommandé d&#39;utiliser <code>fs.exists()</code> pour vérifier l&#39;existence d&#39;un fichier avant d&#39;appeler <code>fs.open()</code>, <code>fs.readFile()</code> ou <code>fs.writeFile()</code>. Cela introduit une condition de concurrence, car d&#39;autres processus peuvent modifier l&#39;état du fichier entre les deux appels. Au lieu de cela, le code utilisateur doit ouvrir/lire/écrire le fichier directement et gérer l&#39;erreur levée si le fichier n&#39;existe pas.</p><p><strong>écriture (NON RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { exists, open, close } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exists</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile existe déjà&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        writeMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>écriture (RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;EEXIST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile existe déjà&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    writeMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>lecture (NON RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close, exists } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exists</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        readMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile n&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">existe pas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;)</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>lecture (RECOMMANDÉ)</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.code </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ENOENT&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;myfile n&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">existe pas</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;)</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      return;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    throw err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  try {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    readMyData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } finally {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) throw err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>Les exemples « non recommandés » ci-dessus vérifient l&#39;existence puis utilisent le fichier ; les exemples « recommandés » sont meilleurs car ils utilisent directement le fichier et gèrent l&#39;erreur, le cas échéant.</p><p>En général, vérifiez l&#39;existence d&#39;un fichier uniquement si le fichier ne sera pas utilisé directement, par exemple lorsque son existence est un signal d&#39;un autre processus.</p><h3 id="fsfchmodfd-mode-callback" tabindex="-1"><code>fs.fchmod(fd, mode, callback)</code> <a class="header-anchor" href="#fsfchmodfd-mode-callback" aria-label="Permalink to “fs.fchmod(fd, mode, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lancera une erreur <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.4.7</td><td>Ajouté dans : v0.4.7</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Définit les permissions sur le fichier. Aucun argument autre qu&#39;une exception possible n&#39;est donné au rappel de complétion.</p><p>Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fchmod.2" target="_blank" rel="noreferrer"><code>fchmod(2)</code></a> pour plus de détails.</p><h3 id="fsfchownfd-uid-gid-callback" tabindex="-1"><code>fs.fchown(fd, uid, gid, callback)</code> <a class="header-anchor" href="#fsfchownfd-uid-gid-callback" aria-label="Permalink to “fs.fchown(fd, uid, gid, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lancera une erreur <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.4.7</td><td>Ajouté dans : v0.4.7</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Définit le propriétaire du fichier. Aucun argument autre qu&#39;une exception possible n&#39;est donné au rappel de complétion.</p><p>Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fchown.2" target="_blank" rel="noreferrer"><code>fchown(2)</code></a> pour plus de détails.</p><h3 id="fsfdatasyncfd-callback" tabindex="-1"><code>fs.fdatasync(fd, callback)</code> <a class="header-anchor" href="#fsfdatasyncfd-callback" aria-label="Permalink to “fs.fdatasync(fd, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.1.96</td><td>Ajouté dans : v0.1.96</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Force toutes les opérations d&#39;E/S actuellement en file d&#39;attente associées au fichier à l&#39;état d&#39;achèvement d&#39;E/S synchronisé du système d&#39;exploitation. Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fdatasync.2" target="_blank" rel="noreferrer"><code>fdatasync(2)</code></a> pour plus de détails. Aucun argument autre qu&#39;une éventuelle exception n&#39;est transmis au rappel d&#39;achèvement.</p><h3 id="fsfstatfd-options-callback" tabindex="-1"><code>fs.fstat(fd[, options], callback)</code> <a class="header-anchor" href="#fsfstatfd-options-callback" aria-label="Permalink to “fs.fstat(fd[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques renvoyées doivent être de type bigint.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.1.95</td><td>Ajouté dans : v0.1.95</td></tr></tbody></table></div><ul><li><p><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> renvoyé doivent être de type <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>stats</code> <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></li></ul></li></ul><p>Appelle le rappel avec <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le descripteur de fichier.</p><p>Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fstat.2" target="_blank" rel="noreferrer"><code>fstat(2)</code></a> pour plus de détails.</p><h3 id="fsfsyncfd-callback" tabindex="-1"><code>fs.fsync(fd, callback)</code> <a class="header-anchor" href="#fsfsyncfd-callback" aria-label="Permalink to “fs.fsync(fd, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> lors de l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v0.1.96</td><td>Ajouté dans : v0.1.96</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Demande que toutes les données du descripteur de fichier ouvert soient vidées sur le périphérique de stockage. L&#39;implémentation spécifique dépend du système d&#39;exploitation et du périphérique. Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fsync.2" target="_blank" rel="noreferrer"><code>fsync(2)</code></a> pour plus de détails. Aucun argument autre qu&#39;une exception possible n&#39;est donné au rappel de fin.</p><h3 id="fsftruncatefd-len-callback" tabindex="-1"><code>fs.ftruncate(fd[, len], callback)</code> <a class="header-anchor" href="#fsftruncatefd-len-callback" aria-label="Permalink to “fs.ftruncate(fd[, len], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> lors de l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v0.8.6</td><td>Ajouté dans : v0.8.6</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>len</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Tronque le descripteur de fichier. Aucun argument autre qu&#39;une exception possible n&#39;est donné au rappel de fin.</p><p>Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/ftruncate.2" target="_blank" rel="noreferrer"><code>ftruncate(2)</code></a> pour plus de détails.</p><p>Si le fichier référencé par le descripteur de fichier était plus grand que <code>len</code> octets, seuls les premiers <code>len</code> octets seront conservés dans le fichier.</p><p>Par exemple, le programme suivant ne conserve que les quatre premiers octets du fichier :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close, ftruncate } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;temp.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r+&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ftruncate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>Si le fichier était auparavant plus court que <code>len</code> octets, il est étendu, et la partie étendue est remplie d&#39;octets nuls (<code>&#39;\0&#39;</code>) :</p><p>Si <code>len</code> est négatif, alors <code>0</code> sera utilisé.</p><h3 id="fsfutimesfd-atime-mtime-callback" tabindex="-1"><code>fs.futimes(fd, atime, mtime, callback)</code> <a class="header-anchor" href="#fsfutimesfd-atime-mtime-callback" aria-label="Permalink to “fs.futimes(fd, atime, mtime, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v4.1.0</td><td>Les chaînes numériques, <code>NaN</code> et <code>Infinity</code> sont désormais autorisés comme spécificateurs de temps.</td></tr><tr><td>v0.4.2</td><td>Ajoutée dans : v0.4.2</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Modifie les horodatages du système de fichiers de l&#39;objet référencé par le descripteur de fichier fourni. Voir <a href="/fr/nodejs/api/fs#fsutimespath-atime-mtime-callback"><code>fs.utimes()</code></a>.</p><h3 id="fsglobpattern-options-callback" tabindex="-1"><code>fs.glob(pattern[, options], callback)</code> <a class="header-anchor" href="#fsglobpattern-options-callback" aria-label="Permalink to “fs.glob(pattern[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v22.2.0</td><td>Ajout du support de <code>withFileTypes</code> comme option.</td></tr><tr><td>v22.0.0</td><td>Ajoutée dans : v22.0.0</td></tr></tbody></table></div><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Expérimental]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/fr/nodejs/api/documentation#stability-index">Stabilité : 1</a> - Expérimental</p></div><ul><li><p><code>pattern</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>cwd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> répertoire de travail courant. <strong>Par défaut :</strong> <code>process.cwd()</code></li><li><code>exclude</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Fonction pour filtrer les fichiers/répertoires. Renvoie <code>true</code> pour exclure l&#39;élément, <code>false</code> pour l&#39;inclure. <strong>Par défaut :</strong> <code>undefined</code>.</li><li><code>withFileTypes</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code> si le glob doit renvoyer les chemins en tant que Dirents, <code>false</code> sinon. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li><li><p>Récupère les fichiers correspondant au modèle spécifié.</p></li></ul><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-5566" id="tab-5567" checked><label data-title="ESM" for="tab-5567">ESM</label><input type="radio" name="group-5566" id="tab-5568"><label data-title="CJS" for="tab-5568">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { glob } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">glob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">matches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(matches);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">glob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">glob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">matches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(matches);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div><h3 id="fslchmodpath-mode-callback" tabindex="-1"><code>fs.lchmod(path, mode, callback)</code> <a class="header-anchor" href="#fslchmodpath-mode-callback" aria-label="Permalink to “fs.lchmod(path, mode, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v16.0.0</td><td>L&#39;erreur renvoyée peut être une <code>AggregateError</code> si plus d&#39;une erreur est renvoyée.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;identifiant DEP0013.</td></tr><tr><td>v0.4.7</td><td>Déprécié depuis : v0.4.7</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError" target="_blank" rel="noreferrer">&lt;AggregateError&gt;</a></li></ul></li></ul><p>Modifie les permissions sur un lien symbolique. Aucun argument autre qu&#39;une éventuelle exception n&#39;est donné au callback d&#39;achèvement.</p><p>Cette méthode est uniquement implémentée sur macOS.</p><p>Voir la documentation POSIX <a href="https://www.freebsd.org/cgi/man.cgi?query=lchmod&amp;sektion=2" target="_blank" rel="noreferrer"><code>lchmod(2)</code></a> pour plus de détails.</p><h3 id="fslchownpath-uid-gid-callback" tabindex="-1"><code>fs.lchown(path, uid, gid, callback)</code> <a class="header-anchor" href="#fslchownpath-uid-gid-callback" aria-label="Permalink to “fs.lchown(path, uid, gid, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.6.0</td><td>Cette API n&#39;est plus obsolète.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;identifiant DEP0013.</td></tr><tr><td>v0.4.7</td><td>Dépréciation de la documentation uniquement.</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Définit le propriétaire du lien symbolique. Aucun argument autre qu&#39;une éventuelle exception n&#39;est donné au callback d&#39;achèvement.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/lchown.2" target="_blank" rel="noreferrer"><code>lchown(2)</code></a> pour plus de détails.</p><h3 id="fslutimespath-atime-mtime-callback" tabindex="-1"><code>fs.lutimes(path, atime, mtime, callback)</code> <a class="header-anchor" href="#fslutimespath-atime-mtime-callback" aria-label="Permalink to “fs.lutimes(path, atime, mtime, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v14.5.0, v12.19.0</td><td>Ajouté dans : v14.5.0, v12.19.0</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Modifie les heures d&#39;accès et de modification d&#39;un fichier de la même manière que <a href="/fr/nodejs/api/fs#fsutimespath-atime-mtime-callback"><code>fs.utimes()</code></a>, à la différence que si le chemin d&#39;accès fait référence à un lien symbolique, alors le lien n&#39;est pas déréférencé : à la place, les horodatages du lien symbolique lui-même sont modifiés.</p><p>Aucun argument autre qu&#39;une exception possible n&#39;est transmis au rappel d&#39;achèvement.</p><h3 id="fslinkexistingpath-newpath-callback" tabindex="-1"><code>fs.link(existingPath, newPath, callback)</code> <a class="header-anchor" href="#fslinkexistingpath-newpath-callback" aria-label="Permalink to “fs.link(existingPath, newPath, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer lèvera une <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Les paramètres <code>existingPath</code> et <code>newPath</code> peuvent être des objets <code>URL</code> WHATWG utilisant le protocole <code>file:</code>. La prise en charge est actuellement toujours <em>expérimentale</em>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v0.1.31</td><td>Ajouté dans : v0.1.31</td></tr></tbody></table></div><ul><li><code>existingPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>newPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Crée un nouveau lien de <code>existingPath</code> vers <code>newPath</code>. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/link.2" target="_blank" rel="noreferrer"><code>link(2)</code></a> pour plus de détails. Aucun argument autre qu&#39;une exception possible n&#39;est transmis au rappel d&#39;achèvement.</p><h3 id="fslstatpath-options-callback" tabindex="-1"><code>fs.lstat(path[, options], callback)</code> <a class="header-anchor" href="#fslstatpath-options-callback" aria-label="Permalink to “fs.lstat(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques retournées doivent être de type bigint.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une erreur <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.1.30</td><td>Ajouté dans : v0.1.30</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Boolean" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> retourné doivent être de type <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>stats</code> <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></li></ul></li></ul><p>Récupère le <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le lien symbolique référencé par le chemin. Le callback reçoit deux arguments <code>(err, stats)</code> où <code>stats</code> est un objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a>. <code>lstat()</code> est identique à <code>stat()</code>, sauf que si <code>path</code> est un lien symbolique, alors le lien lui-même est statué, et non le fichier auquel il fait référence.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/lstat.2" target="_blank" rel="noreferrer"><code>lstat(2)</code></a> pour plus de détails.</p><h3 id="fsmkdirpath-options-callback" tabindex="-1"><code>fs.mkdir(path[, options], callback)</code> <a class="header-anchor" href="#fsmkdirpath-options-callback" aria-label="Permalink to “fs.mkdir(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v13.11.0, v12.17.0</td><td>En mode <code>recursive</code>, le callback reçoit maintenant le premier chemin créé en argument.</td></tr><tr><td>v10.12.0</td><td>Le deuxième argument peut maintenant être un objet <code>options</code> avec les propriétés <code>recursive</code> et <code>mode</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera un <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v0.1.8</td><td>Ajoutée dans : v0.1.8</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p><ul><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Non supporté sur Windows. <strong>Par défaut :</strong> <code>0o777</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a> Présent uniquement si un répertoire est créé avec <code>recursive</code> défini sur <code>true</code>.</li></ul></li></ul><p>Crée un répertoire de manière asynchrone.</p><p>Le callback reçoit une exception possible et, si <code>recursive</code> est <code>true</code>, le premier chemin de répertoire créé, <code>(err[, path])</code>. <code>path</code> peut toujours être <code>undefined</code> lorsque <code>recursive</code> est <code>true</code>, si aucun répertoire n&#39;a été créé (par exemple, s&#39;il a été créé précédemment).</p><p>L&#39;argument optionnel <code>options</code> peut être un entier spécifiant <code>mode</code> (permission et bits sticky), ou un objet avec une propriété <code>mode</code> et une propriété <code>recursive</code> indiquant si les répertoires parents doivent être créés. L&#39;appel de <code>fs.mkdir()</code> lorsque <code>path</code> est un répertoire qui existe provoque une erreur uniquement lorsque <code>recursive</code> est false. Si <code>recursive</code> est false et que le répertoire existe, une erreur <code>EEXIST</code> se produit.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mkdir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Crée ./tmp/a/apple, que ./tmp et ./tmp/a existent ou non.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./tmp/a/apple&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { recursive: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Sous Windows, l&#39;utilisation de <code>fs.mkdir()</code> sur le répertoire racine, même avec la récursion, entraînera une erreur :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mkdir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { recursive: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // =&gt; [Error: EPERM: operation not permitted, mkdir &#39;C:\&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/mkdir.2" target="_blank" rel="noreferrer"><code>mkdir(2)</code></a> pour plus de détails.</p><h3 id="fsmkdtempprefix-options-callback" tabindex="-1"><code>fs.mkdtemp(prefix[, options], callback)</code> <a class="header-anchor" href="#fsmkdtempprefix-options-callback" aria-label="Permalink to “fs.mkdtemp(prefix[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.6.0, v18.19.0</td><td>Le paramètre <code>prefix</code> accepte désormais les buffers et les URL.</td></tr><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v16.5.0, v14.18.0</td><td>Le paramètre <code>prefix</code> accepte désormais une chaîne vide.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;identifiant DEP0013.</td></tr><tr><td>v6.2.1</td><td>Le paramètre <code>callback</code> est désormais optionnel.</td></tr><tr><td>v5.10.0</td><td>Ajouté dans : v5.10.0</td></tr></tbody></table></div><ul><li><p><code>prefix</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>directory</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul></li></ul><p>Crée un répertoire temporaire unique.</p><p>Génère six caractères aléatoires à ajouter derrière un <code>prefix</code> requis pour créer un répertoire temporaire unique. En raison d&#39;incohérences entre les plateformes, évitez les caractères <code>X</code> de fin dans <code>prefix</code>. Certaines plateformes, notamment les BSD, peuvent renvoyer plus de six caractères aléatoires et remplacer les caractères <code>X</code> de fin dans <code>prefix</code> par des caractères aléatoires.</p><p>Le chemin du répertoire créé est transmis sous forme de chaîne au deuxième paramètre du callback.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mkdtemp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { join } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { tmpdir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:os&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdtemp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmpdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foo-&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(directory);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Affiche : /tmp/foo-itXde2 ou C:\Users\...\AppData\Local\Temp\foo-itXde2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>La méthode <code>fs.mkdtemp()</code> ajoutera les six caractères sélectionnés de manière aléatoire directement à la chaîne <code>prefix</code>. Par exemple, étant donné un répertoire <code>/tmp</code>, si l&#39;intention est de créer un répertoire temporaire <em>dans</em> <code>/tmp</code>, le <code>prefix</code> doit se terminer par un séparateur de chemin spécifique à la plateforme (<code>require(&#39;node:path&#39;).sep</code>).</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { tmpdir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:os&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { mkdtemp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Le répertoire parent du nouveau répertoire temporaire</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tmpDir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> tmpdir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cette méthode est *INCORRECTE* :</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdtemp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(tmpDir, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(directory);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Affichera quelque chose de similaire à `/tmpabc123`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Un nouveau répertoire temporaire est créé à la racine du système de fichiers</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // plutôt que *dans* le répertoire /tmp.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cette méthode est *CORRECTE* :</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { sep } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdtemp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tmpDir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(directory);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Affichera quelque chose de similaire à `/tmp/abc123`.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Un nouveau répertoire temporaire est créé dans</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // le répertoire /tmp.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="fsopenpath-flags-mode-callback" tabindex="-1"><code>fs.open(path[, flags[, mode]], callback)</code> <a class="header-anchor" href="#fsopenpath-flags-mode-callback" aria-label="Permalink to “fs.open(path[, flags[, mode]], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v11.1.0</td><td>L&#39;argument <code>flags</code> est désormais optionnel et sa valeur par défaut est <code>&#39;r&#39;</code>.</td></tr><tr><td>v9.9.0</td><td>Les indicateurs <code>as</code> et <code>as+</code> sont désormais pris en charge.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.0.2</td><td>Ajouté dans : v0.0.2</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>flags</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;r&#39;</code>.</li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code> (lecture et écriture)</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul></li></ul><p>Ouverture asynchrone d&#39;un fichier. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/open.2" target="_blank" rel="noreferrer"><code>open(2)</code></a> pour plus de détails.</p><p><code>mode</code> définit le mode de fichier (autorisation et bits collants), mais seulement si le fichier a été créé. Sous Windows, seule l&#39;autorisation d&#39;écriture peut être manipulée ; voir <a href="/fr/nodejs/api/fs#fschmodpath-mode-callback"><code>fs.chmod()</code></a>.</p><p>Le callback reçoit deux arguments <code>(err, fd)</code>.</p><p>Certains caractères (<code>\&lt; \&gt; : &quot; / \ | ? *</code>) sont réservés sous Windows, comme indiqué dans <a href="https://docs.microsoft.com/en-us/windows/desktop/FileIO/naming-a-file" target="_blank" rel="noreferrer">Nommage des fichiers, des chemins et des espaces de noms</a>. Sous NTFS, si le nom de fichier contient un deux-points, Node.js ouvre un flux de système de fichiers, comme décrit dans <a href="https://docs.microsoft.com/en-us/windows/desktop/FileIO/using-streams" target="_blank" rel="noreferrer">cette page MSDN</a>.</p><p>Les fonctions basées sur <code>fs.open()</code> présentent également ce comportement : <code>fs.writeFile()</code>, <code>fs.readFile()</code>, etc.</p><h3 id="fsopenasblobpath-options" tabindex="-1"><code>fs.openAsBlob(path[, options])</code> <a class="header-anchor" href="#fsopenasblobpath-options" aria-label="Permalink to “fs.openAsBlob(path[, options])”">​</a></h3><p><strong>Ajouté dans: v19.8.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Expérimental]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/fr/nodejs/api/documentation#stability-index">Stabilité: 1</a> - Expérimental</p></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Un type MIME optionnel pour le blob.</li></ul></li><li><p>Returns: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec un <a href="/fr/nodejs/api/buffer#class-blob">&lt;Blob&gt;</a> en cas de succès.</p></li></ul><p>Renvoie un <a href="/fr/nodejs/api/buffer#class-blob">&lt;Blob&gt;</a> dont les données sont soutenues par le fichier donné.</p><p>Le fichier ne doit pas être modifié après la création du <a href="/fr/nodejs/api/buffer#class-blob">&lt;Blob&gt;</a>. Toute modification entraînera l&#39;échec de la lecture des données <a href="/fr/nodejs/api/buffer#class-blob">&lt;Blob&gt;</a> avec une erreur <code>DOMException</code>. Opérations stat synchrones sur le fichier lors de la création du <code>Blob</code>, et avant chaque lecture afin de détecter si les données du fichier ont été modifiées sur le disque.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-6431" id="tab-6432" checked><label data-title="ESM" for="tab-6432">ESM</label><input type="radio" name="group-6431" id="tab-6433"><label data-title="CJS" for="tab-6433">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { openAsBlob } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> blob</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> openAsBlob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;the.file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ab</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">openAsBlob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> blob</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> openAsBlob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;the.file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ab</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">arrayBuffer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  blob.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div></div><h3 id="fsopendirpath-options-callback" tabindex="-1"><code>fs.opendir(path[, options], callback)</code> <a class="header-anchor" href="#fsopendirpath-options-callback" aria-label="Permalink to “fs.opendir(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.1.0, v18.17.0</td><td>Ajout de l&#39;option <code>recursive</code>.</td></tr><tr><td>v18.0.0</td><td>Le fait de passer un callback invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v13.1.0, v12.16.0</td><td>L&#39;option <code>bufferSize</code> a été introduite.</td></tr><tr><td>v12.12.0</td><td>Ajouté dans: v12.12.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut:</strong> <code>&#39;utf8&#39;</code></li><li><code>bufferSize</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Nombre d&#39;entrées de répertoire mises en mémoire tampon en interne lors de la lecture à partir du répertoire. Des valeurs plus élevées améliorent les performances, mais augmentent l&#39;utilisation de la mémoire. <strong>Par défaut :</strong> <code>32</code></li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>dir</code> <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a></li></ul></li></ul><p>Ouvre un répertoire de manière asynchrone. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man3/opendir.3" target="_blank" rel="noreferrer"><code>opendir(3)</code></a> pour plus de détails.</p><p>Crée un <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a>, qui contient toutes les autres fonctions pour lire et nettoyer le répertoire.</p><p>L&#39;option <code>encoding</code> définit l&#39;encodage pour le <code>path</code> lors de l&#39;ouverture du répertoire et des opérations de lecture suivantes.</p><h3 id="fsreadfd-buffer-offset-length-position-callback" tabindex="-1"><code>fs.read(fd, buffer, offset, length, position, callback)</code> <a class="header-anchor" href="#fsreadfd-buffer-offset-length-position-callback" aria-label="Permalink to “fs.read(fd, buffer, offset, length, position, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>La transmission d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.10.0</td><td>Le paramètre <code>buffer</code> peut désormais être n&#39;importe quel <code>TypedArray</code>, ou un <code>DataView</code>.</td></tr><tr><td>v7.4.0</td><td>Le paramètre <code>buffer</code> peut désormais être un <code>Uint8Array</code>.</td></tr><tr><td>v6.0.0</td><td>Le paramètre <code>length</code> peut désormais être <code>0</code>.</td></tr><tr><td>v0.0.2</td><td>Ajoutée dans : v0.0.2</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Le buffer dans lequel les données seront écrites.</li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> La position dans <code>buffer</code> où écrire les données.</li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le nombre d&#39;octets à lire.</li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> Spécifie où commencer la lecture dans le fichier. Si <code>position</code> est <code>null</code> ou <code>-1</code>, les données seront lues à partir de la position actuelle du fichier, et la position du fichier sera mise à jour. Si <code>position</code> est un entier non négatif, la position du fichier restera inchangée.</li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p>Lit les données du fichier spécifié par <code>fd</code>.</p><p>Le callback reçoit trois arguments, <code>(err, bytesRead, buffer)</code>.</p><p>Si le fichier n&#39;est pas modifié simultanément, la fin de fichier est atteinte lorsque le nombre d&#39;octets lus est nul.</p><p>Si cette méthode est invoquée comme sa version <a href="/fr/nodejs/api/util#utilpromisifyoriginal"><code>util.promisify()</code></a>ed, elle renvoie une promesse pour un <code>Object</code> avec les propriétés <code>bytesRead</code> et <code>buffer</code>.</p><p>La méthode <code>fs.read()</code> lit les données du fichier spécifié par le descripteur de fichier (<code>fd</code>). L&#39;argument <code>length</code> indique le nombre maximal d&#39;octets que Node.js tentera de lire depuis le noyau. Cependant, le nombre réel d&#39;octets lus (<code>bytesRead</code>) peut être inférieur à la <code>length</code> spécifiée pour diverses raisons.</p><p>Par exemple :</p><ul><li>Si le fichier est plus court que la <code>length</code> spécifiée, <code>bytesRead</code> sera défini sur le nombre réel d&#39;octets lus.</li><li>Si le fichier rencontre EOF (Fin de Fichier) avant que le tampon puisse être rempli, Node.js lira tous les octets disponibles jusqu&#39;à ce que EOF soit rencontré, et le paramètre <code>bytesRead</code> dans le callback indiquera le nombre réel d&#39;octets lus, qui peut être inférieur à la <code>length</code> spécifiée.</li><li>Si le fichier est sur un <code>système de fichiers</code> réseau lent ou rencontre un autre problème pendant la lecture, <code>bytesRead</code> peut être inférieur à la <code>length</code> spécifiée.</li></ul><p>Par conséquent, lors de l&#39;utilisation de <code>fs.read()</code>, il est important de vérifier la valeur <code>bytesRead</code> pour déterminer le nombre d&#39;octets réellement lus à partir du fichier. Selon la logique de votre application, vous devrez peut-être gérer les cas où <code>bytesRead</code> est inférieur à la <code>length</code> spécifiée, par exemple en enveloppant l&#39;appel de lecture dans une boucle si vous avez besoin d&#39;une quantité minimale d&#39;octets.</p><p>Ce comportement est similaire à la fonction POSIX <code>preadv2</code>.</p><h3 id="fsreadfd-options-callback" tabindex="-1"><code>fs.read(fd[, options], callback)</code> <a class="header-anchor" href="#fsreadfd-options-callback" aria-label="Permalink to “fs.read(fd[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v13.11.0, v12.17.0</td><td>L&#39;objet d&#39;options peut être passé pour rendre facultatifs buffer, offset, length et position.</td></tr><tr><td>v13.11.0, v12.17.0</td><td>Ajouté dans : v13.11.0, v12.17.0</td></tr></tbody></table></div><ul><li><p><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> <strong>Par défaut :</strong> <code>Buffer.alloc(16384)</code></li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p>Semblable à la fonction <a href="/fr/nodejs/api/fs#fsreadfd-buffer-offset-length-position-callback"><code>fs.read()</code></a>, cette version prend un objet <code>options</code> facultatif. Si aucun objet <code>options</code> n&#39;est spécifié, les valeurs par défaut ci-dessus seront utilisées.</p><h3 id="fsreadfd-buffer-options-callback" tabindex="-1"><code>fs.read(fd, buffer[, options], callback)</code> <a class="header-anchor" href="#fsreadfd-buffer-options-callback" aria-label="Permalink to “fs.read(fd, buffer[, options], callback)”">​</a></h3><p><strong>Ajouté dans : v18.2.0, v16.17.0</strong></p><ul><li><p><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p></li><li><p><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a> Le buffer dans lequel les données seront écrites.</p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p>Similaire à la fonction <a href="/fr/nodejs/api/fs#fsreadfd-buffer-offset-length-position-callback"><code>fs.read()</code></a>, cette version prend un objet <code>options</code> optionnel. Si aucun objet <code>options</code> n&#39;est spécifié, les valeurs par défaut ci-dessus seront utilisées.</p><h3 id="fsreaddirpath-options-callback" tabindex="-1"><code>fs.readdir(path[, options], callback)</code> <a class="header-anchor" href="#fsreaddirpath-options-callback" aria-label="Permalink to “fs.readdir(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.1.0, v18.17.0</td><td>Ajout de l&#39;option <code>recursive</code>.</td></tr><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.10.0</td><td>Nouvelle option <code>withFileTypes</code> ajoutée.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v6.0.0</td><td>Le paramètre <code>options</code> a été ajouté.</td></tr><tr><td>v0.1.8</td><td>Ajouté dans : v0.1.8</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>withFileTypes</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, lit le contenu d&#39;un répertoire de manière récursive. En mode récursif, il listera tous les fichiers, sous-fichiers et répertoires. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>files</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent[]&gt;</a></li></ul></li></ul><p>Lit le contenu d&#39;un répertoire. Le callback reçoit deux arguments <code>(err, files)</code> où <code>files</code> est un tableau des noms des fichiers dans le répertoire, excluant <code>&#39;.&#39;</code> et <code>&#39;..&#39;</code>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man3/readdir.3" target="_blank" rel="noreferrer"><code>readdir(3)</code></a> pour plus de détails.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour les noms de fichiers passés au callback. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, les noms de fichiers retournés seront passés sous forme d&#39;objets <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>options.withFileTypes</code> est défini sur <code>true</code>, le tableau <code>files</code> contiendra des objets <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>.</p><h3 id="fsreadfilepath-options-callback" tabindex="-1"><code>fs.readFile(path[, options], callback)</code> <a class="header-anchor" href="#fsreadfilepath-options-callback" aria-label="Permalink to “fs.readFile(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v16.0.0</td><td>L&#39;erreur renvoyée peut être une <code>AggregateError</code> si plusieurs erreurs sont renvoyées.</td></tr><tr><td>v15.2.0, v14.17.0</td><td>L&#39;argument options peut inclure un AbortSignal pour annuler une requête readFile en cours.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v5.1.0</td><td>Le <code>callback</code> sera toujours appelé avec <code>null</code> comme paramètre <code>error</code> en cas de succès.</td></tr><tr><td>v5.0.0</td><td>Le paramètre <code>path</code> peut désormais être un descripteur de fichier.</td></tr><tr><td>v0.1.29</td><td>Ajoutée dans : v0.1.29</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> nom de fichier ou descripteur de fichier</p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;r&#39;</code>.</li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> permet d&#39;annuler un readFile en cours</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError" target="_blank" rel="noreferrer">&lt;AggregateError&gt;</a></li><li><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p>Lit de manière asynchrone l&#39;intégralité du contenu d&#39;un fichier.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/etc/passwd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Le rappel reçoit deux arguments <code>(err, data)</code>, où <code>data</code> est le contenu du fichier.</p><p>Si aucun encodage n&#39;est spécifié, le buffer brut est renvoyé.</p><p>Si <code>options</code> est une chaîne de caractères, elle spécifie l&#39;encodage :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/etc/passwd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, callback);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Lorsque le chemin est un répertoire, le comportement de <code>fs.readFile()</code> et <a href="/fr/nodejs/api/fs#fsreadfilesyncpath-options"><code>fs.readFileSync()</code></a> est spécifique à la plateforme. Sous macOS, Linux et Windows, une erreur sera renvoyée. Sous FreeBSD, une représentation du contenu du répertoire sera renvoyée.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// macOS, Linux et Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;directory&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // =&gt; [Error: EISDIR: illegal operation on a directory, read &lt;directory&gt;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// FreeBSD</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;directory&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // =&gt; null, &lt;data&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Il est possible d&#39;annuler une requête en cours à l&#39;aide d&#39;un <code>AbortSignal</code>. Si une requête est annulée, le rappel est appelé avec une <code>AbortError</code> :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> signal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller.signal;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fileInfo[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].name, { signal }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">buf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Lorsque vous souhaitez annuler la requête</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>La fonction <code>fs.readFile()</code> met en mémoire tampon l&#39;intégralité du fichier. Pour minimiser les coûts de mémoire, dans la mesure du possible, préférez la diffusion en flux via <code>fs.createReadStream()</code>.</p><p>L&#39;annulation d&#39;une requête en cours n&#39;annule pas les requêtes individuelles du système d&#39;exploitation, mais plutôt la mise en mémoire tampon interne effectuée par <code>fs.readFile</code>.</p><h4 id="file-descriptors" tabindex="-1">Descripteurs de fichiers <a class="header-anchor" href="#file-descriptors" aria-label="Permalink to “Descripteurs de fichiers”">​</a></h4><h4 id="performance-considerations" tabindex="-1">Considérations de performance <a class="header-anchor" href="#performance-considerations" aria-label="Permalink to “Considérations de performance”">​</a></h4><p>La méthode <code>fs.readFile()</code> lit de manière asynchrone le contenu d&#39;un fichier en mémoire, bloc par bloc, permettant à la boucle d&#39;événements de tourner entre chaque bloc. Cela permet à l&#39;opération de lecture d&#39;avoir moins d&#39;impact sur les autres activités qui pourraient utiliser le pool de threads libuv sous-jacent, mais cela signifie qu&#39;il faudra plus de temps pour lire un fichier complet en mémoire.</p><p>La surcharge de lecture supplémentaire peut varier considérablement d&#39;un système à l&#39;autre et dépend du type de fichier en cours de lecture. Si le type de fichier n&#39;est pas un fichier régulier (par exemple un pipe) et que Node.js est incapable de déterminer une taille de fichier réelle, chaque opération de lecture chargera 64 KiB de données. Pour les fichiers réguliers, chaque lecture traitera 512 KiB de données.</p><p>Pour les applications qui nécessitent une lecture aussi rapide que possible du contenu des fichiers, il est préférable d&#39;utiliser directement <code>fs.read()</code> et de laisser le code de l&#39;application gérer lui-même la lecture du contenu complet du fichier.</p><p>Le problème GitHub de Node.js <a href="https://github.com/nodejs/node/issues/25741" target="_blank" rel="noreferrer">#25741</a> fournit plus d&#39;informations et une analyse détaillée des performances de <code>fs.readFile()</code> pour plusieurs tailles de fichiers dans différentes versions de Node.js.</p><h3 id="fsreadlinkpath-options-callback" tabindex="-1"><code>fs.readlink(path[, options], callback)</code> <a class="header-anchor" href="#fsreadlinkpath-options-callback" aria-label="Permalink to “fs.readlink(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer lancera une <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.1.31</td><td>Ajouté dans : v0.1.31</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>linkString</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p>Lit le contenu du lien symbolique référencé par <code>path</code>. Le callback reçoit deux arguments <code>(err, linkString)</code>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/readlink.2" target="_blank" rel="noreferrer"><code>readlink(2)</code></a> pour plus de détails.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour le chemin du lien transmis au callback. Si l&#39;<code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, le chemin du lien renvoyé sera transmis comme un objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><h3 id="fsreadvfd-buffers-position-callback" tabindex="-1"><code>fs.readv(fd, buffers[, position], callback)</code> <a class="header-anchor" href="#fsreadvfd-buffers-position-callback" aria-label="Permalink to “fs.readv(fd, buffers[, position], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v13.13.0, v12.17.0</td><td>Ajouté dans : v13.13.0, v12.17.0</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView[]&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>bytesRead</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView[]&gt;</a></li></ul></li></ul><p>Lit à partir d&#39;un fichier spécifié par <code>fd</code> et écrit dans un tableau de <code>ArrayBufferView</code>s en utilisant <code>readv()</code>.</p><p><code>position</code> est le décalage par rapport au début du fichier à partir duquel les données doivent être lues. Si <code>typeof position !== &#39;number&#39;</code>, les données seront lues à partir de la position actuelle.</p><p>Le rappel recevra trois arguments : <code>err</code>, <code>bytesRead</code> et <code>buffers</code>. <code>bytesRead</code> est le nombre d&#39;octets lus dans le fichier.</p><p>Si cette méthode est appelée comme sa version <a href="/fr/nodejs/api/util#utilpromisifyoriginal"><code>util.promisify()</code></a>ée, elle renvoie une promesse pour un <code>Object</code> avec les propriétés <code>bytesRead</code> et <code>buffers</code>.</p><h3 id="fsrealpathpath-options-callback" tabindex="-1"><code>fs.realpath(path[, options], callback)</code> <a class="header-anchor" href="#fsrealpathpath-options-callback" aria-label="Permalink to “fs.realpath(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un rappel invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer lèvera un <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v8.0.0</td><td>Prise en charge de la résolution des pipes/sockets ajoutée.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v6.4.0</td><td>L&#39;appel à <code>realpath</code> fonctionne à nouveau pour divers cas extrêmes sous Windows.</td></tr><tr><td>v6.0.0</td><td>Le paramètre <code>cache</code> a été supprimé.</td></tr><tr><td>v0.1.31</td><td>Ajouté dans : v0.1.31</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>resolvedPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p>Calcule de manière asynchrone le nom de chemin canonique en résolvant <code>.</code>, <code>..</code> et les liens symboliques.</p><p>Un nom de chemin canonique n&#39;est pas nécessairement unique. Les liens physiques et les montages de liaison peuvent exposer une entité du système de fichiers via de nombreux noms de chemins.</p><p>Cette fonction se comporte comme <a href="http://man7.org/linux/man-pages/man3/realpath.3" target="_blank" rel="noreferrer"><code>realpath(3)</code></a>, avec quelques exceptions :</p><p>Le <code>callback</code> reçoit deux arguments <code>(err, resolvedPath)</code>. Peut utiliser <code>process.cwd</code> pour résoudre les chemins relatifs.</p><p>Seuls les chemins pouvant être convertis en chaînes UTF8 sont pris en charge.</p><p>L&#39;argument facultatif <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour le chemin passé au rappel. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, le chemin renvoyé sera passé comme un objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>path</code> se résout en un socket ou un pipe, la fonction renverra un nom dépendant du système pour cet objet.</p><p>Un chemin qui n&#39;existe pas entraîne une erreur ENOENT. <code>error.path</code> est le chemin de fichier absolu.</p><h3 id="fsrealpathnativepath-options-callback" tabindex="-1"><code>fs.realpath.native(path[, options], callback)</code> <a class="header-anchor" href="#fsrealpathnativepath-options-callback" aria-label="Permalink to “fs.realpath.native(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v9.2.0</td><td>Ajoutée dans : v9.2.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>resolvedPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul></li></ul><p><a href="http://man7.org/linux/man-pages/man3/realpath.3" target="_blank" rel="noreferrer"><code>realpath(3)</code></a> asynchrone.</p><p>Le <code>callback</code> reçoit deux arguments <code>(err, resolvedPath)</code>.</p><p>Seuls les chemins qui peuvent être convertis en chaînes UTF8 sont supportés.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour le chemin passé au callback. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, le chemin renvoyé sera passé comme un objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Sous Linux, lorsque Node.js est lié à musl libc, le système de fichiers procfs doit être monté sur <code>/proc</code> pour que cette fonction fonctionne. Glibc n&#39;a pas cette restriction.</p><h3 id="fsrenameoldpath-newpath-callback" tabindex="-1"><code>fs.rename(oldPath, newPath, callback)</code> <a class="header-anchor" href="#fsrenameoldpath-newpath-callback" aria-label="Permalink to “fs.rename(oldPath, newPath, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Les paramètres <code>oldPath</code> et <code>newPath</code> peuvent être des objets <code>URL</code> WHATWG utilisant le protocole <code>file:</code>. La prise en charge est actuellement encore <em>expérimentale</em>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.0.2</td><td>Ajoutée dans : v0.0.2</td></tr></tbody></table></div><ul><li><code>oldPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>newPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Renomme de manière asynchrone le fichier à <code>oldPath</code> vers le nom de chemin fourni comme <code>newPath</code>. Dans le cas où <code>newPath</code> existe déjà, il sera écrasé. S&#39;il y a un répertoire à <code>newPath</code>, une erreur sera levée à la place. Aucun argument autre qu&#39;une possible exception n&#39;est donné au callback d&#39;achèvement.</p><p>Voir aussi : <a href="http://man7.org/linux/man-pages/man2/rename.2" target="_blank" rel="noreferrer"><code>rename(2)</code></a>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { rename } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;oldFile.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;newFile.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Rename complete!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="fsrmdirpath-options-callback" tabindex="-1"><code>fs.rmdir(path[, options], callback)</code> <a class="header-anchor" href="#fsrmdirpath-options-callback" aria-label="Permalink to “fs.rmdir(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v16.0.0</td><td>L&#39;utilisation de <code>fs.rmdir(path, { recursive: true })</code> sur un <code>path</code> qui est un fichier n&#39;est plus autorisée et entraîne une erreur <code>ENOENT</code> sur Windows et une erreur <code>ENOTDIR</code> sur POSIX.</td></tr><tr><td>v16.0.0</td><td>L&#39;utilisation de <code>fs.rmdir(path, { recursive: true })</code> sur un <code>path</code> qui n&#39;existe pas n&#39;est plus autorisée et entraîne une erreur <code>ENOENT</code>.</td></tr><tr><td>v16.0.0</td><td>L&#39;option <code>recursive</code> est obsolète, son utilisation déclenche un avertissement de dépréciation.</td></tr><tr><td>v14.14.0</td><td>L&#39;option <code>recursive</code> est obsolète, utilisez plutôt <code>fs.rm</code>.</td></tr><tr><td>v13.3.0, v12.16.0</td><td>L&#39;option <code>maxBusyTries</code> est renommée en <code>maxRetries</code>, et sa valeur par défaut est 0. L&#39;option <code>emfileWait</code> a été supprimée, et les erreurs <code>EMFILE</code> utilisent la même logique de nouvelle tentative que les autres erreurs. L&#39;option <code>retryDelay</code> est désormais supportée. Les erreurs <code>ENFILE</code> font désormais l&#39;objet de nouvelles tentatives.</td></tr><tr><td>v12.10.0</td><td>Les options <code>recursive</code>, <code>maxBusyTries</code> et <code>emfileWait</code> sont désormais supportées.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lancera un <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Les paramètres <code>path</code> peuvent être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v0.0.2</td><td>Ajouté dans : v0.0.2</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>maxRetries</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Number" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Si une erreur <code>EBUSY</code>, <code>EMFILE</code>, <code>ENFILE</code>, <code>ENOTEMPTY</code> ou <code>EPERM</code> est rencontrée, Node.js réessaie l&#39;opération avec une attente de backoff linéaire de <code>retryDelay</code> millisecondes plus longue à chaque tentative. Cette option représente le nombre de tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>0</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Boolean" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, effectue une suppression récursive du répertoire. En mode récursif, les opérations sont retentées en cas d&#39;échec. <strong>Par défaut :</strong> <code>false</code>. <strong>Obsolète.</strong></li><li><code>retryDelay</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Number" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le temps en millisecondes à attendre entre les tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>100</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Asynchrone <a href="http://man7.org/linux/man-pages/man2/rmdir.2" target="_blank" rel="noreferrer"><code>rmdir(2)</code></a>. Aucun argument autre qu&#39;une éventuelle exception n&#39;est fourni au callback d&#39;achèvement.</p><p>L&#39;utilisation de <code>fs.rmdir()</code> sur un fichier (pas un répertoire) entraîne une erreur <code>ENOENT</code> sur Windows et une erreur <code>ENOTDIR</code> sur POSIX.</p><p>Pour obtenir un comportement similaire à la commande Unix <code>rm -rf</code>, utilisez <a href="/fr/nodejs/api/fs#fsrmpath-options-callback"><code>fs.rm()</code></a> avec les options <code>{ recursive: true, force: true }</code>.</p><h3 id="fsrmpath-options-callback" tabindex="-1"><code>fs.rm(path[, options], callback)</code> <a class="header-anchor" href="#fsrmpath-options-callback" aria-label="Permalink to “fs.rm(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17.3.0, v16.14.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v14.14.0</td><td>Ajouté dans : v14.14.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>force</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, les exceptions seront ignorées si <code>path</code> n&#39;existe pas. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>maxRetries</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Si une erreur <code>EBUSY</code>, <code>EMFILE</code>, <code>ENFILE</code>, <code>ENOTEMPTY</code> ou <code>EPERM</code> est rencontrée, Node.js réessayera l&#39;opération avec un délai d&#39;attente linéaire de <code>retryDelay</code> millisecondes plus long à chaque tentative. Cette option représente le nombre de tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>0</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Boolean" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, effectue une suppression récursive. En mode récursif, les opérations sont relancées en cas d&#39;échec. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>retryDelay</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Number" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le temps en millisecondes à attendre entre les tentatives. Cette option est ignorée si l&#39;option <code>recursive</code> n&#39;est pas <code>true</code>. <strong>Par défaut :</strong> <code>100</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Supprime de manière asynchrone les fichiers et les répertoires (modelé sur l&#39;utilitaire POSIX standard <code>rm</code>). Aucun argument autre qu&#39;une exception possible n&#39;est donné au callback d&#39;achèvement.</p><h3 id="fsstatpath-options-callback" tabindex="-1"><code>fs.stat(path[, options], callback)</code> <a class="header-anchor" href="#fsstatpath-options-callback" aria-label="Permalink to “fs.stat(path[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Transmettre un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques renvoyées doivent être de type bigint.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le transmettre lèvera une <code>TypeError</code> lors de l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le transmettre émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.0.2</td><td>Ajouté dans : v0.0.2</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> renvoyé doivent être de type <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>stats</code> <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></li></ul></li></ul><p><a href="http://man7.org/linux/man-pages/man2/stat.2" target="_blank" rel="noreferrer"><code>stat(2)</code></a> asynchrone. Le callback reçoit deux arguments <code>(err, stats)</code> où <code>stats</code> est un objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a>.</p><p>En cas d&#39;erreur, <code>err.code</code> sera l&#39;une des <a href="/fr/nodejs/api/errors#common-system-errors">Erreurs système courantes</a>.</p><p><a href="/fr/nodejs/api/fs#fsstatpath-options-callback"><code>fs.stat()</code></a> suit les liens symboliques. Utilisez <a href="/fr/nodejs/api/fs#fslstatpath-options-callback"><code>fs.lstat()</code></a> pour examiner les liens eux-mêmes.</p><p>Il n&#39;est pas recommandé d&#39;utiliser <code>fs.stat()</code> pour vérifier l&#39;existence d&#39;un fichier avant d&#39;appeler <code>fs.open()</code>, <code>fs.readFile()</code> ou <code>fs.writeFile()</code>. Au lieu de cela, le code utilisateur doit ouvrir/lire/écrire directement le fichier et gérer l&#39;erreur levée si le fichier n&#39;est pas disponible.</p><p>Pour vérifier si un fichier existe sans le manipuler ensuite, <a href="/fr/nodejs/api/fs#fsaccesspath-mode-callback"><code>fs.access()</code></a> est recommandé.</p><p>Par exemple, étant donné la structure de répertoire suivante :</p><div class="language-text line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>- txtDir</span></span>
<span class="line"><span>-- file.txt</span></span>
<span class="line"><span>- app.js</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Le programme suivant vérifiera les statistiques des chemins donnés :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { stat } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> pathsToCheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./txtDir&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./txtDir/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pathsToCheck.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(pathsToCheck[i], (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stats.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isDirectory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stats);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>La sortie résultante ressemblera à :</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  dev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 16777220,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mode:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 16877,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  nlink:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  uid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 501,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  gid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rdev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blksize:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4096,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ino:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14214262,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  size:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 96,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blocks:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174653071.963,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174614583.3518,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174626623.5366,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174126937.2893,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:37:33.072Z,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:36:54.583Z,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:37:06.624Z,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:28:46.937Z</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  dev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 16777220,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mode:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 33188,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  nlink:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  uid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 501,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  gid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rdev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blksize:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4096,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ino:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14214074,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  size:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blocks:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174616618.8555,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174614584,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174614583.8145,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1561174007710.7478,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:36:56.619Z,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:36:54.584Z,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:36:54.584Z,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2019-06-22T03:26:47.711Z</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="fsstatfspath-options-callback" tabindex="-1"><code>fs.statfs(path[, options], callback)</code> <a class="header-anchor" href="#fsstatfspath-options-callback" aria-label="Permalink to “fs.statfs(path[, options], callback)”">​</a></h3><p><strong>Ajouté dans : v19.6.0, v18.15.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstatfs">&lt;fs.StatFs&gt;</a> retourné doivent être <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>stats</code> <a href="/fr/nodejs/api/fs#class-fsstatfs">&lt;fs.StatFs&gt;</a></li></ul></li></ul><p><a href="http://man7.org/linux/man-pages/man2/statfs.2" target="_blank" rel="noreferrer"><code>statfs(2)</code></a> asynchrone. Renvoie des informations sur le système de fichiers monté qui contient <code>path</code>. Le callback reçoit deux arguments <code>(err, stats)</code> où <code>stats</code> est un objet <a href="/fr/nodejs/api/fs#class-fsstatfs">&lt;fs.StatFs&gt;</a>.</p><p>En cas d&#39;erreur, <code>err.code</code> sera l&#39;une des <a href="/fr/nodejs/api/errors#common-system-errors">Erreurs Système Courantes</a>.</p><h3 id="fssymlinktarget-path-type-callback" tabindex="-1"><code>fs.symlink(target, path[, type], callback)</code> <a class="header-anchor" href="#fssymlinktarget-path-type-callback" aria-label="Permalink to “fs.symlink(target, path[, type], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v12.0.0</td><td>Si l&#39;argument <code>type</code> est laissé indéfini, Node détectera automatiquement le type <code>target</code> et sélectionnera automatiquement <code>dir</code> ou <code>file</code>.</td></tr><tr><td>v7.6.0</td><td>Les paramètres <code>target</code> et <code>path</code> peuvent être des objets <code>URL</code> WHATWG utilisant le protocole <code>file:</code>. La prise en charge est actuellement <em>expérimentale</em>.</td></tr><tr><td>v0.1.31</td><td>Ajouté dans : v0.1.31</td></tr></tbody></table></div><ul><li><code>target</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>type</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Crée le lien appelé <code>path</code> pointant vers <code>target</code>. Aucun argument autre qu&#39;une éventuelle exception n&#39;est donné au callback d&#39;achèvement.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/symlink.2" target="_blank" rel="noreferrer"><code>symlink(2)</code></a> pour plus de détails.</p><p>L&#39;argument <code>type</code> est uniquement disponible sur Windows et ignoré sur les autres plateformes. Il peut être défini sur <code>&#39;dir&#39;</code>, <code>&#39;file&#39;</code> ou <code>&#39;junction&#39;</code>. Si l&#39;argument <code>type</code> est <code>null</code>, Node.js détectera automatiquement le type <code>target</code> et utilisera <code>&#39;file&#39;</code> ou <code>&#39;dir&#39;</code>. Si le <code>target</code> n&#39;existe pas, <code>&#39;file&#39;</code> sera utilisé. Les points de jonction Windows nécessitent que le chemin de destination soit absolu. Lors de l&#39;utilisation de <code>&#39;junction&#39;</code>, l&#39;argument <code>target</code> sera automatiquement normalisé en chemin absolu. Les points de jonction sur les volumes NTFS ne peuvent pointer que vers des répertoires.</p><p>Les cibles relatives sont relatives au répertoire parent du lien.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { symlink } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">symlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./mew&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./mewtwo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, callback);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>L&#39;exemple ci-dessus crée un lien symbolique <code>mewtwo</code> qui pointe vers <code>mew</code> dans le même répertoire :</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tree</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mew</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mewtwo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./mew</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="fstruncatepath-len-callback" tabindex="-1"><code>fs.truncate(path[, len], callback)</code> <a class="header-anchor" href="#fstruncatepath-len-callback" aria-label="Permalink to “fs.truncate(path[, len], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lève maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v16.0.0</td><td>L&#39;erreur renvoyée peut être une <code>AggregateError</code> si plus d&#39;une erreur est renvoyée.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera un <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;identifiant DEP0013.</td></tr><tr><td>v0.8.6</td><td>Ajoutée dans : v0.8.6</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>len</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError" target="_blank" rel="noreferrer">&lt;AggregateError&gt;</a></li></ul></li></ul><p>Tronque le fichier. Aucun argument autre qu&#39;une possible exception n&#39;est donné au callback d&#39;achèvement. Un descripteur de fichier peut également être passé comme premier argument. Dans ce cas, <code>fs.ftruncate()</code> est appelé.</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-8284" id="tab-8285" checked><label data-title="ESM" for="tab-8285">ESM</label><input type="radio" name="group-8284" id="tab-8286"><label data-title="CJS" for="tab-8286">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { truncate } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// En supposant que &#39;path/file.txt&#39; est un fichier ordinaire.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">truncate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/file.txt a été tronqué&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">truncate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// En supposant que &#39;path/file.txt&#39; est un fichier ordinaire.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">truncate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/file.txt a été tronqué&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div></div><p>Le passage d&#39;un descripteur de fichier est déconseillé et peut entraîner le lancement d&#39;une erreur à l&#39;avenir.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/truncate.2" target="_blank" rel="noreferrer"><code>truncate(2)</code></a> pour plus de détails.</p><h3 id="fsunlinkpath-callback" tabindex="-1"><code>fs.unlink(path, callback)</code> <a class="header-anchor" href="#fsunlinkpath-callback" aria-label="Permalink to “fs.unlink(path, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lancera une <code>TypeError</code> lors de l&#39;exécution.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.0.2</td><td>Ajoutée dans : v0.0.2</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Supprime de manière asynchrone un fichier ou un lien symbolique. Aucun argument autre qu&#39;une éventuelle exception n&#39;est transmis au callback de complétion.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { unlink } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// En supposant que &#39;path/file.txt&#39; est un fichier normal.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unlink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/file.txt a été supprimé&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>fs.unlink()</code> ne fonctionnera pas sur un répertoire, vide ou non. Pour supprimer un répertoire, utilisez <a href="/fr/nodejs/api/fs#fsrmdirpath-options-callback"><code>fs.rmdir()</code></a>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/unlink.2" target="_blank" rel="noreferrer"><code>unlink(2)</code></a> pour plus de détails.</p><h3 id="fsunwatchfilefilename-listener" tabindex="-1"><code>fs.unwatchFile(filename[, listener])</code> <a class="header-anchor" href="#fsunwatchfilefilename-listener" aria-label="Permalink to “fs.unwatchFile(filename[, listener])”">​</a></h3><p><strong>Ajoutée dans : v0.1.31</strong></p><ul><li><code>filename</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>listener</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Optionnel, un listener précédemment attaché en utilisant <code>fs.watchFile()</code></li></ul><p>Arrête de surveiller les modifications sur <code>filename</code>. Si <code>listener</code> est spécifié, seul ce listener particulier est supprimé. Sinon, <em>tous</em> les listeners sont supprimés, ce qui arrête effectivement la surveillance de <code>filename</code>.</p><p>L&#39;appel de <code>fs.unwatchFile()</code> avec un nom de fichier qui n&#39;est pas surveillé est une opération sans effet (no-op), et non une erreur.</p><p>L&#39;utilisation de <a href="/fr/nodejs/api/fs#fswatchfilename-options-listener"><code>fs.watch()</code></a> est plus efficace que <code>fs.watchFile()</code> et <code>fs.unwatchFile()</code>. <code>fs.watch()</code> doit être utilisé à la place de <code>fs.watchFile()</code> et <code>fs.unwatchFile()</code> lorsque cela est possible.</p><h3 id="fsutimespath-atime-mtime-callback" tabindex="-1"><code>fs.utimes(path, atime, mtime, callback)</code> <a class="header-anchor" href="#fsutimespath-atime-mtime-callback" aria-label="Permalink to “fs.utimes(path, atime, mtime, callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Le passage d&#39;un callback invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lèvera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v8.0.0</td><td><code>NaN</code>, <code>Infinity</code> et <code>-Infinity</code> ne sont plus des spécificateurs de temps valides.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v4.1.0</td><td>Les chaînes numériques, <code>NaN</code> et <code>Infinity</code> sont désormais des spécificateurs de temps autorisés.</td></tr><tr><td>v0.4.2</td><td>Ajouté dans : v0.4.2</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Number" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Number" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/String" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>callback</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Modifie les horodatages du système de fichiers de l&#39;objet référencé par <code>path</code>.</p><p>Les arguments <code>atime</code> et <code>mtime</code> suivent ces règles :</p><ul><li>Les valeurs peuvent être des nombres représentant l&#39;heure Unix en secondes, des <code>Date</code>s ou une chaîne numérique comme <code>&#39;123456789.0&#39;</code>.</li><li>Si la valeur ne peut pas être convertie en nombre, ou est <code>NaN</code>, <code>Infinity</code> ou <code>-Infinity</code>, une <code>Error</code> sera levée.</li></ul><h3 id="fswatchfilename-options-listener" tabindex="-1"><code>fs.watch(filename[, options][, listener])</code> <a class="header-anchor" href="#fswatchfilename-options-listener" aria-label="Permalink to “fs.watch(filename[, options][, listener])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19.1.0</td><td>Ajout du support récursif pour Linux, AIX et IBMi.</td></tr><tr><td>v15.9.0, v14.17.0</td><td>Ajout du support pour la fermeture du surveillant avec un AbortSignal.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>filename</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v7.0.0</td><td>L&#39;objet <code>options</code> transmis ne sera jamais modifié.</td></tr><tr><td>v0.5.10</td><td>Ajouté dans : v0.5.10</td></tr></tbody></table></div><ul><li><p><code>filename</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>persistent</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si le processus doit continuer à s&#39;exécuter tant que des fichiers sont surveillés. <strong>Par défaut:</strong> <code>true</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si tous les sous-répertoires doivent être surveillés, ou seulement le répertoire courant. Ceci s&#39;applique lorsqu&#39;un répertoire est spécifié, et seulement sur les plateformes supportées (voir <a href="/fr/nodejs/api/fs#caveats">mises en garde</a>). <strong>Par défaut:</strong> <code>false</code>.</li><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Spécifie l&#39;encodage de caractères à utiliser pour le nom de fichier passé à l&#39;écouteur. <strong>Par défaut:</strong> <code>&#39;utf8&#39;</code>.</li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> permet de fermer le surveillant avec un AbortSignal.</li></ul></li><li><p><code>listener</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a> <strong>Par défaut:</strong> <code>undefined</code></p><ul><li><code>eventType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li><li><code>filename</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a></li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a></p></li></ul><p>Surveille les changements sur <code>filename</code>, où <code>filename</code> est soit un fichier, soit un répertoire.</p><p>Le deuxième argument est optionnel. Si <code>options</code> est fourni sous forme de chaîne de caractères, il spécifie l&#39;<code>encoding</code>. Sinon, <code>options</code> doit être passé comme un objet.</p><p>La fonction de rappel de l&#39;écouteur reçoit deux arguments <code>(eventType, filename)</code>. <code>eventType</code> est soit <code>&#39;rename&#39;</code>, soit <code>&#39;change&#39;</code>, et <code>filename</code> est le nom du fichier qui a déclenché l&#39;événement.</p><p>Sur la plupart des plateformes, <code>&#39;rename&#39;</code> est émis chaque fois qu&#39;un nom de fichier apparaît ou disparaît dans le répertoire.</p><p>La fonction de rappel de l&#39;écouteur est attachée à l&#39;événement <code>&#39;change&#39;</code> déclenché par <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a>, mais ce n&#39;est pas la même chose que la valeur <code>&#39;change&#39;</code> de <code>eventType</code>.</p><p>Si un <code>signal</code> est passé, l&#39;abandon du AbortController correspondant fermera le <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> retourné.</p><h4 id="caveats" tabindex="-1">Mises en garde <a class="header-anchor" href="#caveats" aria-label="Permalink to “Mises en garde”">​</a></h4><p>L&#39;API <code>fs.watch</code> n&#39;est pas cohérente à 100% entre les plateformes et n&#39;est pas disponible dans certaines situations.</p><p>Sous Windows, aucun événement ne sera émis si le répertoire surveillé est déplacé ou renommé. Une erreur <code>EPERM</code> est signalée lorsque le répertoire surveillé est supprimé.</p><h5 id="availability" tabindex="-1">Disponibilité <a class="header-anchor" href="#availability" aria-label="Permalink to “Disponibilité”">​</a></h5><p>Cette fonctionnalité dépend du système d&#39;exploitation sous-jacent fournissant un moyen d&#39;être notifié des modifications du système de fichiers.</p><ul><li>Sur les systèmes Linux, cela utilise <a href="https://man7.org/linux/man-pages/man7/inotify.7" target="_blank" rel="noreferrer"><code>inotify(7)</code></a>.</li><li>Sur les systèmes BSD, cela utilise <a href="https://www.freebsd.org/cgi/man.cgi?query=kqueue&amp;sektion=2" target="_blank" rel="noreferrer"><code>kqueue(2)</code></a>.</li><li>Sur macOS, cela utilise <a href="https://www.freebsd.org/cgi/man.cgi?query=kqueue&amp;sektion=2" target="_blank" rel="noreferrer"><code>kqueue(2)</code></a> pour les fichiers et <a href="https://developer.apple.com/documentation/coreservices/file_system_events" target="_blank" rel="noreferrer"><code>FSEvents</code></a> pour les répertoires.</li><li>Sur les systèmes SunOS (y compris Solaris et SmartOS), cela utilise <a href="https://illumos.org/man/port_create" target="_blank" rel="noreferrer"><code>event ports</code></a>.</li><li>Sur les systèmes Windows, cette fonctionnalité dépend de <a href="https://docs.microsoft.com/en-us/windows/desktop/api/winbase/nf-winbase-readdirectorychangesw" target="_blank" rel="noreferrer"><code>ReadDirectoryChangesW</code></a>.</li><li>Sur les systèmes AIX, cette fonctionnalité dépend de <a href="https://developer.ibm.com/articles/au-aix_event_infrastructure/" target="_blank" rel="noreferrer"><code>AHAFS</code></a>, qui doit être activé.</li><li>Sur les systèmes IBM i, cette fonctionnalité n&#39;est pas prise en charge.</li></ul><p>Si la fonctionnalité sous-jacente n&#39;est pas disponible pour une raison quelconque, alors <code>fs.watch()</code> ne pourra pas fonctionner et peut lever une exception. Par exemple, la surveillance de fichiers ou de répertoires peut être peu fiable, et dans certains cas impossible, sur les systèmes de fichiers réseau (NFS, SMB, etc.) ou les systèmes de fichiers hôtes lors de l&#39;utilisation de logiciels de virtualisation tels que Vagrant ou Docker.</p><p>Il est toujours possible d&#39;utiliser <code>fs.watchFile()</code>, qui utilise l&#39;interrogation stat, mais cette méthode est plus lente et moins fiable.</p><h5 id="inodes" tabindex="-1">Inodes <a class="header-anchor" href="#inodes" aria-label="Permalink to “Inodes”">​</a></h5><p>Sur les systèmes Linux et macOS, <code>fs.watch()</code> résout le chemin d&#39;accès à un <a href="https://en.wikipedia.org/wiki/Inode" target="_blank" rel="noreferrer">inode</a> et surveille l&#39;inode. Si le chemin surveillé est supprimé et recréé, un nouvel inode lui est attribué. La surveillance émettra un événement pour la suppression, mais continuera de surveiller l&#39;inode <em>original</em>. Les événements pour le nouvel inode ne seront pas émis. C&#39;est le comportement attendu.</p><p>Les fichiers AIX conservent le même inode pendant toute la durée de vie d&#39;un fichier. L&#39;enregistrement et la fermeture d&#39;un fichier surveillé sur AIX entraîneront deux notifications (une pour l&#39;ajout de nouveau contenu et une pour la troncature).</p><h5 id="filename-argument" tabindex="-1">Argument <code>filename</code> <a class="header-anchor" href="#filename-argument" aria-label="Permalink to “Argument filename”">​</a></h5><p>Fournir l&#39;argument <code>filename</code> dans le rappel n&#39;est pris en charge que sur Linux, macOS, Windows et AIX. Même sur les plates-formes prises en charge, <code>filename</code> n&#39;est pas toujours garanti. Par conséquent, ne présumez pas que l&#39;argument <code>filename</code> est toujours fourni dans le rappel et prévoyez une logique de repli s&#39;il est <code>null</code>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { watch } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;somedir&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eventType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">filename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`event type is: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eventType</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (filename) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`filename provided: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filename</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;filename not provided&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="fswatchfilefilename-options-listener" tabindex="-1"><code>fs.watchFile(filename[, options], listener)</code> <a class="header-anchor" href="#fswatchfilefilename-options-listener" aria-label="Permalink to “fs.watchFile(filename[, options], listener)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.5.0</td><td>L&#39;option <code>bigint</code> est désormais prise en charge.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>filename</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.31</td><td>Ajoutée dans : v0.1.31</td></tr></tbody></table></div><ul><li><p><code>filename</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li><li><code>persistent</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>true</code></li><li><code>interval</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>5007</code></li></ul></li><li><p><code>listener</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>current</code> <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></li><li><code>previous</code> <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a></p></li></ul><p>Surveille les modifications sur <code>filename</code>. Le rappel <code>listener</code> sera appelé chaque fois que le fichier sera accédé.</p><p>L&#39;argument <code>options</code> peut être omis. S&#39;il est fourni, il doit s&#39;agir d&#39;un objet. L&#39;objet <code>options</code> peut contenir un booléen nommé <code>persistent</code> qui indique si le processus doit continuer à s&#39;exécuter tant que les fichiers sont surveillés. L&#39;objet <code>options</code> peut spécifier une propriété <code>interval</code> indiquant la fréquence à laquelle la cible doit être interrogée en millisecondes.</p><p>Le <code>listener</code> reçoit deux arguments : l&#39;objet stat courant et l&#39;objet stat précédent :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { watchFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watchFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.text&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">curr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prev</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`the current mtime is: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">curr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mtime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`the previous mtime was: ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mtime</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Ces objets stat sont des instances de <code>fs.Stat</code>. Si l&#39;option <code>bigint</code> est <code>true</code>, les valeurs numériques de ces objets sont spécifiées sous forme de <code>BigInt</code>.</p><p>Pour être notifié lorsque le fichier a été modifié, et pas seulement consulté, il est nécessaire de comparer <code>curr.mtimeMs</code> et <code>prev.mtimeMs</code>.</p><p>Lorsqu&#39;une opération <code>fs.watchFile</code> entraîne une erreur <code>ENOENT</code>, elle invoque le listener une fois, avec tous les champs mis à zéro (ou, pour les dates, l&#39;époque Unix). Si le fichier est créé ultérieurement, le listener est appelé à nouveau, avec les derniers objets stat. Il s&#39;agit d&#39;un changement de fonctionnalité depuis la version v0.10.</p><p>L&#39;utilisation de <a href="/fr/nodejs/api/fs#fswatchfilename-options-listener"><code>fs.watch()</code></a> est plus efficace que <code>fs.watchFile</code> et <code>fs.unwatchFile</code>. <code>fs.watch</code> doit être utilisé à la place de <code>fs.watchFile</code> et <code>fs.unwatchFile</code> lorsque cela est possible.</p><p>Lorsqu&#39;un fichier surveillé par <code>fs.watchFile()</code> disparaît et réapparaît, le contenu de <code>previous</code> dans le deuxième événement de rappel (la réapparition du fichier) sera le même que le contenu de <code>previous</code> dans le premier événement de rappel (sa disparition).</p><p>Cela se produit lorsque :</p><ul><li>le fichier est supprimé, puis restauré</li><li>le fichier est renommé, puis renommé une seconde fois avec son nom d&#39;origine</li></ul><h3 id="fswritefd-buffer-offset-length-position-callback" tabindex="-1"><code>fs.write(fd, buffer, offset[, length[, position]], callback)</code> <a class="header-anchor" href="#fswritefd-buffer-offset-length-position-callback" aria-label="Permalink to “fs.write(fd, buffer, offset[, length[, position]], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lance maintenant <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v14.0.0</td><td>Le paramètre <code>buffer</code> ne forcera plus les entrées non prises en charge en chaînes de caractères.</td></tr><tr><td>v10.10.0</td><td>Le paramètre <code>buffer</code> peut maintenant être n&#39;importe quel <code>TypedArray</code> ou un <code>DataView</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer lancera une <code>TypeError</code> à l&#39;exécution.</td></tr><tr><td>v7.4.0</td><td>Le paramètre <code>buffer</code> peut maintenant être un <code>Uint8Array</code>.</td></tr><tr><td>v7.2.0</td><td>Les paramètres <code>offset</code> et <code>length</code> sont maintenant optionnels.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus optionnel. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;ID DEP0013.</td></tr><tr><td>v0.0.2</td><td>Ajouté dans : v0.0.2</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut:</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut:</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut:</strong> <code>null</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>bytesWritten</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></li></ul></li></ul><p>Écrit <code>buffer</code> dans le fichier spécifié par <code>fd</code>.</p><p><code>offset</code> détermine la partie du tampon à écrire, et <code>length</code> est un entier spécifiant le nombre d&#39;octets à écrire.</p><p><code>position</code> se réfère à l&#39;offset depuis le début du fichier où ces données doivent être écrites. Si <code>typeof position !== &#39;number&#39;</code>, les données seront écrites à la position actuelle. Voir <a href="http://man7.org/linux/man-pages/man2/pwrite.2" target="_blank" rel="noreferrer"><code>pwrite(2)</code></a>.</p><p>Le callback recevra trois arguments <code>(err, bytesWritten, buffer)</code> où <code>bytesWritten</code> spécifie le nombre d&#39;<em>octets</em> qui ont été écrits à partir de <code>buffer</code>.</p><p>Si cette méthode est invoquée en tant que version <a href="/fr/nodejs/api/util#utilpromisifyoriginal"><code>util.promisify()</code></a>ée, elle renvoie une promesse pour un <code>Object</code> avec les propriétés <code>bytesWritten</code> et <code>buffer</code>.</p><p>Il est dangereux d&#39;utiliser <code>fs.write()</code> plusieurs fois sur le même fichier sans attendre le callback. Pour ce scénario, <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a> est recommandé.</p><p>Sur Linux, les écritures positionnelles ne fonctionnent pas lorsque le fichier est ouvert en mode append. Le noyau ignore l&#39;argument position et ajoute toujours les données à la fin du fichier.</p><h3 id="fswritefd-buffer-options-callback" tabindex="-1"><code>fs.write(fd, buffer[, options], callback)</code> <a class="header-anchor" href="#fswritefd-buffer-options-callback" aria-label="Permalink to “fs.write(fd, buffer[, options], callback)”">​</a></h3><p><strong>Ajouté dans : v18.3.0, v16.17.0</strong></p><ul><li><p><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p></li><li><p><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>bytesWritten</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></li></ul></li></ul><p>Écrit <code>buffer</code> dans le fichier spécifié par <code>fd</code>.</p><p>Semblable à la fonction <code>fs.write</code> ci-dessus, cette version prend un objet <code>options</code> facultatif. Si aucun objet <code>options</code> n’est spécifié, il sera par défaut avec les valeurs ci-dessus.</p><h3 id="fswritefd-string-position-encoding-callback" tabindex="-1"><code>fs.write(fd, string[, position[, encoding]], callback)</code> <a class="header-anchor" href="#fswritefd-string-position-encoding-callback" aria-label="Permalink to “fs.write(fd, string[, position[, encoding]], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v19.0.0</td><td>Le fait de passer au paramètre <code>string</code> un objet avec sa propre fonction <code>toString</code> n’est plus pris en charge.</td></tr><tr><td>v17.8.0</td><td>Le fait de passer au paramètre <code>string</code> un objet avec sa propre fonction <code>toString</code> est obsolète.</td></tr><tr><td>v14.12.0</td><td>Le paramètre <code>string</code> va transformer en chaîne un objet avec une fonction <code>toString</code> explicite.</td></tr><tr><td>v14.0.0</td><td>Le paramètre <code>string</code> ne forcera plus l’entrée non prise en charge en chaînes.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n’est plus facultatif. Ne pas le passer lèvera une <code>TypeError</code> au moment de l’exécution.</td></tr><tr><td>v7.2.0</td><td>Le paramètre <code>position</code> est désormais facultatif.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n’est plus facultatif. Ne pas le passer émettra un avertissement de dépréciation avec l’ID DEP0013.</td></tr><tr><td>v0.11.5</td><td>Ajouté dans : v0.11.5</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>written</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul></li></ul><p>Écrit <code>string</code> dans le fichier spécifié par <code>fd</code>. Si <code>string</code> n’est pas une chaîne, une exception est levée.</p><p><code>position</code> fait référence au décalage par rapport au début du fichier où ces données doivent être écrites. Si <code>typeof position !== &#39;number&#39;</code>, les données seront écrites à la position actuelle. Voir <a href="http://man7.org/linux/man-pages/man2/pwrite.2" target="_blank" rel="noreferrer"><code>pwrite(2)</code></a>.</p><p><code>encoding</code> est l’encodage de chaîne attendu.</p><p>Le rappel recevra les arguments <code>(err, written, string)</code> où <code>written</code> spécifie le nombre d’<em>octets</em> que la chaîne passée a requis pour être écrite. Les octets écrits ne sont pas nécessairement identiques aux caractères de chaîne écrits. Voir <a href="/fr/nodejs/api/buffer#static-method-bufferbytelengthstring-encoding"><code>Buffer.byteLength</code></a>.</p><p>Il n’est pas sûr d’utiliser <code>fs.write()</code> plusieurs fois sur le même fichier sans attendre le rappel. Pour ce scénario, <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a> est recommandé.</p><p>Sur Linux, les écritures positionnelles ne fonctionnent pas lorsque le fichier est ouvert en mode append. Le noyau ignore l’argument de position et ajoute toujours les données à la fin du fichier.</p><p>Sous Windows, si le descripteur de fichier est connecté à la console (par exemple, <code>fd == 1</code> ou <code>stdout</code>), une chaîne contenant des caractères non-ASCII ne sera pas rendue correctement par défaut, quel que soit l’encodage utilisé. Il est possible de configurer la console pour qu’elle affiche correctement l’UTF-8 en modifiant la page de codes active avec la commande <code>chcp 65001</code>. Consultez la documentation <a href="https://ss64.com/nt/chcp" target="_blank" rel="noreferrer">chcp</a> pour plus de détails.</p><h3 id="fswritefilefile-data-options-callback" tabindex="-1"><code>fs.writeFile(file, data[, options], callback)</code> <a class="header-anchor" href="#fswritefilefile-data-options-callback" aria-label="Permalink to “fs.writeFile(file, data[, options], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v19.0.0</td><td>Passer à un paramètre <code>string</code> un objet avec sa propre fonction <code>toString</code> n&#39;est plus pris en charge.</td></tr><tr><td>v18.0.0</td><td>Passer un rappel invalide à l&#39;argument <code>callback</code> lance désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v17.8.0</td><td>Passer à un paramètre <code>string</code> un objet avec sa propre fonction <code>toString</code> est déprécié.</td></tr><tr><td>v16.0.0</td><td>L&#39;erreur renvoyée peut être une <code>AggregateError</code> si plusieurs erreurs sont renvoyées.</td></tr><tr><td>v15.2.0, v14.17.0</td><td>L&#39;argument options peut inclure un AbortSignal pour annuler une requête writeFile en cours.</td></tr><tr><td>v14.12.0</td><td>Le paramètre <code>data</code> transformera en chaîne un objet avec une fonction <code>toString</code> explicite.</td></tr><tr><td>v14.0.0</td><td>Le paramètre <code>data</code> ne forcera plus les entrées non prises en charge en chaînes.</td></tr><tr><td>v10.10.0</td><td>Le paramètre <code>data</code> peut désormais être n&#39;importe quel <code>TypedArray</code> ou un <code>DataView</code>.</td></tr><tr><td>v10.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer lèvera une <code>TypeError</code> au moment de l&#39;exécution.</td></tr><tr><td>v7.4.0</td><td>Le paramètre <code>data</code> peut désormais être un <code>Uint8Array</code>.</td></tr><tr><td>v7.0.0</td><td>Le paramètre <code>callback</code> n&#39;est plus facultatif. Ne pas le passer émettra un avertissement de dépréciation avec l&#39;id DEP0013.</td></tr><tr><td>v5.0.0</td><td>Le paramètre <code>file</code> peut désormais être un descripteur de fichier.</td></tr><tr><td>v0.1.29</td><td>Ajouté dans : v0.1.29</td></tr></tbody></table></div><ul><li><p><code>file</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> nom de fichier ou descripteur de fichier</p></li><li><p><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir la <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;w&#39;</code>.</li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si toutes les données sont correctement écrites dans le fichier, et que <code>flush</code> est <code>true</code>, <code>fs.fsync()</code> est utilisé pour vider les données. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>signal</code> <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> permet d&#39;annuler une écriture de fichier en cours.</li></ul></li><li><p><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a></p><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/AggregateError" target="_blank" rel="noreferrer">&lt;AggregateError&gt;</a></li></ul></li></ul><p>Lorsque <code>file</code> est un nom de fichier, écrit les données de manière asynchrone dans le fichier, en remplaçant le fichier s&#39;il existe déjà. <code>data</code> peut être une chaîne ou un tampon.</p><p>Lorsque <code>file</code> est un descripteur de fichier, le comportement est similaire à l&#39;appel direct de <code>fs.write()</code> (ce qui est recommandé). Consultez les remarques ci-dessous concernant l&#39;utilisation d&#39;un descripteur de fichier.</p><p>L&#39;option <code>encoding</code> est ignorée si <code>data</code> est un tampon.</p><p>L&#39;option <code>mode</code> n&#39;affecte que le fichier nouvellement créé. Voir <a href="/fr/nodejs/api/fs#fsopenpath-flags-mode-callback"><code>fs.open()</code></a> pour plus de détails.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { writeFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Buffer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:buffer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello Node.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;The file has been saved!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Si <code>options</code> est une chaîne, elle spécifie l&#39;encodage :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { writeFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello Node.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, callback);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Il n&#39;est pas sûr d&#39;utiliser <code>fs.writeFile()</code> plusieurs fois sur le même fichier sans attendre le rappel. Pour ce scénario, <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a> est recommandé.</p><p>De même que <code>fs.readFile</code>, <code>fs.writeFile</code> est une méthode pratique qui effectue en interne plusieurs appels à <code>write</code> pour écrire le tampon qui lui est transmis. Pour un code sensible aux performances, envisagez d&#39;utiliser <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a>.</p><p>Il est possible d&#39;utiliser un <a href="/fr/nodejs/api/globals#class-abortsignal">&lt;AbortSignal&gt;</a> pour annuler un <code>fs.writeFile()</code>. L&#39;annulation est &quot;faite au mieux&quot;, et une certaine quantité de données est susceptible d&#39;être encore écrite.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { writeFile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Buffer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:buffer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AbortController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">signal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> controller;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Uint8Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Hello Node.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data, { signal }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // When a request is aborted - the callback is called with an AbortError</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// When the request should be aborted</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">controller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">abort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>L&#39;abandon d&#39;une requête en cours n&#39;abandonne pas les requêtes individuelles du système d&#39;exploitation, mais plutôt la mise en mémoire tampon interne effectuée par <code>fs.writeFile</code>.</p><h4 id="using-fswritefile-with-file-descriptors" tabindex="-1">Utilisation de <code>fs.writeFile()</code> avec des descripteurs de fichier <a class="header-anchor" href="#using-fswritefile-with-file-descriptors" aria-label="Permalink to “Utilisation de fs.writeFile() avec des descripteurs de fichier”">​</a></h4><p>Lorsque <code>file</code> est un descripteur de fichier, le comportement est presque identique à un appel direct à <code>fs.write()</code> comme :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { write } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Buffer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:buffer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, options.encoding), callback);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>La différence avec un appel direct à <code>fs.write()</code> est que, dans des conditions inhabituelles, <code>fs.write()</code> peut n&#39;écrire qu&#39;une partie du tampon et doit être relancé pour écrire les données restantes, tandis que <code>fs.writeFile()</code> réessaie jusqu&#39;à ce que les données soient entièrement écrites (ou qu&#39;une erreur se produise).</p><p>Les implications de ceci sont une source fréquente de confusion. Dans le cas du descripteur de fichier, le fichier n&#39;est pas remplacé ! Les données ne sont pas nécessairement écrites au début du fichier, et les données originales du fichier peuvent rester avant et/ou après les données nouvellement écrites.</p><p>Par exemple, si <code>fs.writeFile()</code> est appelé deux fois de suite, d&#39;abord pour écrire la chaîne de caractères <code>&#39;Hello&#39;</code>, puis pour écrire la chaîne de caractères <code>&#39;, World&#39;</code>, le fichier contiendra <code>&#39;Hello, World&#39;</code>, et peut contenir certaines des données originales du fichier (en fonction de la taille du fichier original et de la position du descripteur de fichier). Si un nom de fichier avait été utilisé au lieu d&#39;un descripteur, le fichier serait garanti de ne contenir que <code>&#39;, World&#39;</code>.</p><h3 id="fswritevfd-buffers-position-callback" tabindex="-1"><code>fs.writev(fd, buffers[, position], callback)</code> <a class="header-anchor" href="#fswritevfd-buffers-position-callback" aria-label="Permalink to “fs.writev(fd, buffers[, position], callback)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>Passer un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v12.9.0</td><td>Ajouté dans : v12.9.0</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView[]&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>bytesWritten</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView[]&gt;</a></li></ul></li></ul><p>Écrit un tableau de <code>ArrayBufferView</code>s dans le fichier spécifié par <code>fd</code> en utilisant <code>writev()</code>.</p><p><code>position</code> est le décalage par rapport au début du fichier où ces données doivent être écrites. Si <code>typeof position !== &#39;number&#39;</code>, les données seront écrites à la position actuelle.</p><p>Le callback recevra trois arguments : <code>err</code>, <code>bytesWritten</code> et <code>buffers</code>. <code>bytesWritten</code> indique le nombre d&#39;octets écrits à partir de <code>buffers</code>.</p><p>Si cette méthode est <a href="/fr/nodejs/api/util#utilpromisifyoriginal"><code>util.promisify()</code></a>ée, elle renvoie une promesse pour un <code>Object</code> avec les propriétés <code>bytesWritten</code> et <code>buffers</code>.</p><p>Il est dangereux d&#39;utiliser <code>fs.writev()</code> plusieurs fois sur le même fichier sans attendre le callback. Pour ce scénario, utilisez <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a>.</p><p>Sous Linux, les écritures positionnelles ne fonctionnent pas lorsque le fichier est ouvert en mode ajout. Le noyau ignore l&#39;argument de position et ajoute toujours les données à la fin du fichier.</p><h2 id="synchronous-api" tabindex="-1">API Synchrone <a class="header-anchor" href="#synchronous-api" aria-label="Permalink to “API Synchrone”">​</a></h2><p>Les API synchrones effectuent toutes les opérations de manière synchrone, bloquant la boucle d&#39;événements jusqu&#39;à ce que l&#39;opération se termine ou échoue.</p><h3 id="fsaccesssyncpath-mode" tabindex="-1"><code>fs.accessSync(path[, mode])</code> <a class="header-anchor" href="#fsaccesssyncpath-mode" aria-label="Permalink to “fs.accessSync(path[, mode])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.11.15</td><td>Ajouté dans : v0.11.15</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>fs.constants.F_OK</code></li></ul><p>Teste de manière synchrone les permissions d&#39;un utilisateur pour le fichier ou le répertoire spécifié par <code>path</code>. L&#39;argument <code>mode</code> est un entier optionnel qui spécifie les vérifications d&#39;accessibilité à effectuer. <code>mode</code> doit être soit la valeur <code>fs.constants.F_OK</code>, soit un masque constitué du OU bit à bit de n&#39;importe lequel de <code>fs.constants.R_OK</code>, <code>fs.constants.W_OK</code> et <code>fs.constants.X_OK</code> (par exemple, <code>fs.constants.W_OK | fs.constants.R_OK</code>). Consultez <a href="/fr/nodejs/api/fs#file-access-constants">Constantes d&#39;accès aux fichiers</a> pour connaître les valeurs possibles de <code>mode</code>.</p><p>Si l&#39;une des vérifications d&#39;accessibilité échoue, une <code>Error</code> sera levée. Sinon, la méthode renverra <code>undefined</code>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { accessSync, constants } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  accessSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;etc/passwd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">R_OK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">W_OK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;can read/write&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;no access!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="fsappendfilesyncpath-data-options" tabindex="-1"><code>fs.appendFileSync(path, data[, options])</code> <a class="header-anchor" href="#fsappendfilesyncpath-data-options" aria-label="Permalink to “fs.appendFileSync(path, data[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.1.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v7.0.0</td><td>L&#39;objet <code>options</code> passé ne sera jamais modifié.</td></tr><tr><td>v5.0.0</td><td>Le paramètre <code>file</code> peut maintenant être un descripteur de fichier.</td></tr><tr><td>v0.6.7</td><td>Ajouté dans : v0.6.7</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> nom de fichier ou descripteur de fichier</li><li><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;a&#39;</code>.</li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, le descripteur de fichier sous-jacent est vidé avant d&#39;être fermé. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li></ul><p>Ajoute de manière synchrone des données à un fichier, en créant le fichier s&#39;il n&#39;existe pas encore. <code>data</code> peut être une chaîne de caractères ou un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>L&#39;option <code>mode</code> n&#39;affecte que le fichier nouvellement créé. Voir <a href="/fr/nodejs/api/fs#fsopenpath-flags-mode-callback"><code>fs.open()</code></a> pour plus de détails.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { appendFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  appendFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data to append&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;The &quot;data to append&quot; was appended to file!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* Handle the error */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Si <code>options</code> est une chaîne de caractères, alors elle spécifie l&#39;encodage :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { appendFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">appendFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data to append&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Le <code>path</code> peut être spécifié comme un descripteur de fichier numérique qui a été ouvert pour ajout (en utilisant <code>fs.open()</code> ou <code>fs.openSync()</code>). Le descripteur de fichier ne sera pas fermé automatiquement.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { openSync, closeSync, appendFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> openSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;message.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  appendFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;data to append&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;utf8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  /* Handle the error */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (fd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    closeSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="fschmodsyncpath-mode" tabindex="-1"><code>fs.chmodSync(path, mode)</code> <a class="header-anchor" href="#fschmodsyncpath-mode" aria-label="Permalink to “fs.chmodSync(path, mode)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.6.7</td><td>Ajoutée dans : v0.6.7</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Pour des informations détaillées, voir la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fschmodpath-mode-callback"><code>fs.chmod()</code></a>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/chmod.2" target="_blank" rel="noreferrer"><code>chmod(2)</code></a> pour plus de détails.</p><h3 id="fschownsyncpath-uid-gid" tabindex="-1"><code>fs.chownSync(path, uid, gid)</code> <a class="header-anchor" href="#fschownsyncpath-uid-gid" aria-label="Permalink to “fs.chownSync(path, uid, gid)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.97</td><td>Ajoutée dans : v0.1.97</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Modifie de manière synchrone le propriétaire et le groupe d&#39;un fichier. Renvoie <code>undefined</code>. C&#39;est la version synchrone de <a href="/fr/nodejs/api/fs#fschownpath-uid-gid-callback"><code>fs.chown()</code></a>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/chown.2" target="_blank" rel="noreferrer"><code>chown(2)</code></a> pour plus de détails.</p><h3 id="fsclosesyncfd" tabindex="-1"><code>fs.closeSync(fd)</code> <a class="header-anchor" href="#fsclosesyncfd" aria-label="Permalink to “fs.closeSync(fd)”">​</a></h3><p><strong>Ajoutée dans : v0.1.21</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Ferme le descripteur de fichier. Renvoie <code>undefined</code>.</p><p>L&#39;appel de <code>fs.closeSync()</code> sur n&#39;importe quel descripteur de fichier (<code>fd</code>) qui est actuellement utilisé par une autre opération <code>fs</code> peut entraîner un comportement indéfini.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/close.2" target="_blank" rel="noreferrer"><code>close(2)</code></a> pour plus de détails.</p><h3 id="fscopyfilesyncsrc-dest-mode" tabindex="-1"><code>fs.copyFileSync(src, dest[, mode])</code> <a class="header-anchor" href="#fscopyfilesyncsrc-dest-mode" aria-label="Permalink to “fs.copyFileSync(src, dest[, mode])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v14.0.0</td><td>Le paramètre <code>flags</code> a été remplacé par <code>mode</code> et une validation de type plus stricte a été imposée.</td></tr><tr><td>v8.5.0</td><td>Ajouté dans la version : v8.5.0</td></tr></tbody></table></div><ul><li><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> nom de fichier source à copier</li><li><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> nom de fichier de destination de l’opération de copie</li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> modificateurs pour l’opération de copie. <strong>Par défaut :</strong> <code>0</code>.</li></ul><p>Copie de manière synchrone <code>src</code> vers <code>dest</code>. Par défaut, <code>dest</code> est remplacé s’il existe déjà. Renvoie <code>undefined</code>. Node.js ne donne aucune garantie quant à l’atomicité de l’opération de copie. Si une erreur se produit après que le fichier de destination a été ouvert pour écriture, Node.js tente de supprimer la destination.</p><p><code>mode</code> est un entier optionnel qui spécifie le comportement de l’opération de copie. Il est possible de créer un masque constitué du OU bit à bit de deux valeurs ou plus (par exemple <code>fs.constants.COPYFILE_EXCL | fs.constants.COPYFILE_FICLONE</code>).</p><ul><li><code>fs.constants.COPYFILE_EXCL</code> : l’opération de copie échoue si <code>dest</code> existe déjà.</li><li><code>fs.constants.COPYFILE_FICLONE</code> : l’opération de copie tente de créer un reflink copy-on-write. Si la plateforme ne prend pas en charge copy-on-write, un mécanisme de copie de secours est utilisé.</li><li><code>fs.constants.COPYFILE_FICLONE_FORCE</code> : l’opération de copie tente de créer un reflink copy-on-write. Si la plateforme ne prend pas en charge copy-on-write, l’opération échoue.</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { copyFileSync, constants } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// destination.txt sera créé ou remplacé par défaut.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">copyFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt a été copié vers destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// En utilisant COPYFILE_EXCL, l’opération échoue si destination.txt existe.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">copyFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;destination.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, constants.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">COPYFILE_EXCL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="fscpsyncsrc-dest-options" tabindex="-1"><code>fs.cpSync(src, dest[, options])</code> <a class="header-anchor" href="#fscpsyncsrc-dest-options" aria-label="Permalink to “fs.cpSync(src, dest[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v22.3.0</td><td>Cette API n&#39;est plus expérimentale.</td></tr><tr><td>v20.1.0, v18.17.0</td><td>Accepte une option <code>mode</code> supplémentaire pour spécifier le comportement de copie comme l&#39;argument <code>mode</code> de <code>fs.copyFile()</code>.</td></tr><tr><td>v17.6.0, v16.15.0</td><td>Accepte une option <code>verbatimSymlinks</code> supplémentaire pour spécifier s&#39;il faut effectuer la résolution du chemin pour les liens symboliques.</td></tr><tr><td>v16.7.0</td><td>Ajouté dans : v16.7.0</td></tr></tbody></table></div><ul><li><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> chemin source à copier.</li><li><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> chemin de destination vers lequel copier.</li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><p><code>dereference</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> déréférence les liens symboliques. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>errorOnExist</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> lorsque <code>force</code> est <code>false</code> et que la destination existe, lève une erreur. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>filter</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Fonction pour filtrer les fichiers/répertoires copiés. Renvoie <code>true</code> pour copier l&#39;élément, <code>false</code> pour l&#39;ignorer. Lors de l&#39;ignorance d&#39;un répertoire, tout son contenu sera également ignoré. <strong>Par défaut :</strong> <code>undefined</code></p></li><li><p><code>src</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> chemin source à copier.</p></li><li><p><code>dest</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> chemin de destination vers lequel copier.</p></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Toute valeur non-<code>Promise</code> qui peut être forcée à <code>boolean</code>.</p></li><li><p><code>force</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> écrase le fichier ou le répertoire existant. L&#39;opération de copie ignorera les erreurs si vous définissez cette option sur false et que la destination existe. Utilisez l&#39;option <code>errorOnExist</code> pour modifier ce comportement. <strong>Par défaut :</strong> <code>true</code>.</p></li><li><p><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> modificateurs pour l&#39;opération de copie. <strong>Par défaut :</strong> <code>0</code>. Voir l&#39;indicateur <code>mode</code> de <a href="/fr/nodejs/api/fs#fscopyfilesyncsrc-dest-mode"><code>fs.copyFileSync()</code></a>.</p></li><li><p><code>preserveTimestamps</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, les horodatages de <code>src</code> seront conservés. <strong>Par défaut :</strong> <code>false</code>.</p></li><li><p><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> copie les répertoires de manière récursive. <strong>Par défaut :</strong> <code>false</code></p></li><li><p><code>verbatimSymlinks</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, la résolution du chemin pour les liens symboliques sera ignorée. <strong>Par défaut :</strong> <code>false</code></p></li></ul></li></ul><p>Copie de manière synchrone toute la structure de répertoires de <code>src</code> vers <code>dest</code>, y compris les sous-répertoires et les fichiers.</p><p>Lors de la copie d&#39;un répertoire vers un autre répertoire, les globs ne sont pas pris en charge et le comportement est similaire à <code>cp dir1/ dir2/</code>.</p><h3 id="fsexistssyncpath" tabindex="-1"><code>fs.existsSync(path)</code> <a class="header-anchor" href="#fsexistssyncpath" aria-label="Permalink to “fs.existsSync(path)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.21</td><td>Ajouté dans : v0.1.21</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si le chemin d&#39;accès existe, <code>false</code> sinon.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsexistspath-callback"><code>fs.exists()</code></a>.</p><p><code>fs.exists()</code> est dépréciée, mais <code>fs.existsSync()</code> ne l&#39;est pas. Le paramètre <code>callback</code> de <code>fs.exists()</code> accepte des paramètres qui ne sont pas cohérents avec les autres rappels Node.js. <code>fs.existsSync()</code> n&#39;utilise pas de rappel.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { existsSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">existsSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/etc/passwd&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Le chemin existe.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="fsfchmodsyncfd-mode" tabindex="-1"><code>fs.fchmodSync(fd, mode)</code> <a class="header-anchor" href="#fsfchmodsyncfd-mode" aria-label="Permalink to “fs.fchmodSync(fd, mode)”">​</a></h3><p><strong>Ajoutée dans : v0.4.7</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Définit les permissions sur le fichier. Retourne <code>undefined</code>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fchmod.2" target="_blank" rel="noreferrer"><code>fchmod(2)</code></a> pour plus de détails.</p><h3 id="fsfchownsyncfd-uid-gid" tabindex="-1"><code>fs.fchownSync(fd, uid, gid)</code> <a class="header-anchor" href="#fsfchownsyncfd-uid-gid" aria-label="Permalink to “fs.fchownSync(fd, uid, gid)”">​</a></h3><p><strong>Ajoutée dans : v0.4.7</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;ID utilisateur du nouveau propriétaire du fichier.</li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;ID de groupe du nouveau groupe du fichier.</li></ul><p>Définit le propriétaire du fichier. Retourne <code>undefined</code>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fchown.2" target="_blank" rel="noreferrer"><code>fchown(2)</code></a> pour plus de détails.</p><h3 id="fsfdatasyncsyncfd" tabindex="-1"><code>fs.fdatasyncSync(fd)</code> <a class="header-anchor" href="#fsfdatasyncsyncfd" aria-label="Permalink to “fs.fdatasyncSync(fd)”">​</a></h3><p><strong>Ajouté dans : v0.1.96</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Force toutes les opérations d’E/S actuellement en file d’attente associées au fichier à l’état d’achèvement d’E/S synchronisées du système d’exploitation. Reportez-vous à la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fdatasync.2" target="_blank" rel="noreferrer"><code>fdatasync(2)</code></a> pour plus de détails. Retourne <code>undefined</code>.</p><h3 id="fsfstatsyncfd-options" tabindex="-1"><code>fs.fstatSync(fd[, options])</code> <a class="header-anchor" href="#fsfstatsyncfd-options" aria-label="Permalink to “fs.fstatSync(fd[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques renvoyées doivent être bigint.</td></tr><tr><td>v0.1.95</td><td>Ajouté dans : v0.1.95</td></tr></tbody></table></div><ul><li><p><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l’objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> renvoyé doivent être <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></p></li></ul><p>Récupère le <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le descripteur de fichier.</p><p>Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fstat.2" target="_blank" rel="noreferrer"><code>fstat(2)</code></a> pour plus de détails.</p><h3 id="fsfsyncsyncfd" tabindex="-1"><code>fs.fsyncSync(fd)</code> <a class="header-anchor" href="#fsfsyncsyncfd" aria-label="Permalink to “fs.fsyncSync(fd)”">​</a></h3><p><strong>Ajouté dans : v0.1.96</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Demande que toutes les données du descripteur de fichier ouvert soient écrites sur le périphérique de stockage. L’implémentation spécifique dépend du système d’exploitation et du périphérique. Reportez-vous à la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/fsync.2" target="_blank" rel="noreferrer"><code>fsync(2)</code></a> pour plus de détails. Retourne <code>undefined</code>.</p><h3 id="fsftruncatesyncfd-len" tabindex="-1"><code>fs.ftruncateSync(fd[, len])</code> <a class="header-anchor" href="#fsftruncatesyncfd-len" aria-label="Permalink to “fs.ftruncateSync(fd[, len])”">​</a></h3><p><strong>Ajouté dans : v0.8.6</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>len</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li></ul><p>Tronque le descripteur de fichier. Retourne <code>undefined</code>.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsftruncatefd-len-callback"><code>fs.ftruncate()</code></a>.</p><h3 id="fsfutimessyncfd-atime-mtime" tabindex="-1"><code>fs.futimesSync(fd, atime, mtime)</code> <a class="header-anchor" href="#fsfutimessyncfd-atime-mtime" aria-label="Permalink to “fs.futimesSync(fd, atime, mtime)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v4.1.0</td><td>Les chaînes numériques, <code>NaN</code> et <code>Infinity</code> sont désormais autorisées comme spécificateurs de temps.</td></tr><tr><td>v0.4.2</td><td>Ajoutée dans : v0.4.2</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li></ul><p>Version synchrone de <a href="/fr/nodejs/api/fs#fsfutimesfd-atime-mtime-callback"><code>fs.futimes()</code></a>. Renvoie <code>undefined</code>.</p><h3 id="fsglobsyncpattern-options" tabindex="-1"><code>fs.globSync(pattern[, options])</code> <a class="header-anchor" href="#fsglobsyncpattern-options" aria-label="Permalink to “fs.globSync(pattern[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v22.2.0</td><td>Ajout du support de <code>withFileTypes</code> comme option.</td></tr><tr><td>v22.0.0</td><td>Ajoutée dans : v22.0.0</td></tr></tbody></table></div><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Expérimental]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/fr/nodejs/api/documentation#stability-index">Stabilité: 1</a> - Expérimental</p></div><ul><li><p><code>pattern</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>cwd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> répertoire de travail courant. <strong>Par défaut :</strong> <code>process.cwd()</code></li><li><code>exclude</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a> Fonction pour filtrer les fichiers/répertoires. Retourne <code>true</code> pour exclure l’élément, <code>false</code> pour l’inclure. <strong>Par défaut :</strong> <code>undefined</code>.</li><li><code>withFileTypes</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <code>true</code> si le glob doit retourner des chemins en tant que Dirents, <code>false</code> sinon. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> chemins des fichiers qui correspondent au modèle.</p></li></ul><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-10431" id="tab-10432" checked><label data-title="ESM" for="tab-10432">ESM</label><input type="radio" name="group-10431" id="tab-10433"><label data-title="CJS" for="tab-10433">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { globSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">globSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">globSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">globSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;**/*.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></div><h3 id="fslchmodsyncpath-mode" tabindex="-1"><code>fs.lchmodSync(path, mode)</code> <a class="header-anchor" href="#fslchmodsyncpath-mode" aria-label="Permalink to “fs.lchmodSync(path, mode)”">​</a></h3><p><strong>Obsolète depuis : v0.4.7</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li></ul><p>Modifie les permissions sur un lien symbolique. Renvoie <code>undefined</code>.</p><p>Cette méthode n&#39;est implémentée que sur macOS.</p><p>Voir la documentation POSIX <a href="https://www.freebsd.org/cgi/man/man2/lchmod.2" target="_blank" rel="noreferrer"><code>lchmod(2)</code></a> pour plus de détails.</p><h3 id="fslchownsyncpath-uid-gid" tabindex="-1"><code>fs.lchownSync(path, uid, gid)</code> <a class="header-anchor" href="#fslchownsyncpath-uid-gid" aria-label="Permalink to “fs.lchownSync(path, uid, gid)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.6.0</td><td>Cette API n&#39;est plus obsolète.</td></tr><tr><td>v0.4.7</td><td>Obsolescence uniquement dans la documentation.</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>uid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;ID utilisateur du nouveau propriétaire du fichier.</li><li><code>gid</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> L&#39;ID de groupe du nouveau groupe du fichier.</li></ul><p>Définit le propriétaire du chemin. Renvoie <code>undefined</code>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/lchown.2" target="_blank" rel="noreferrer"><code>lchown(2)</code></a> pour plus de détails.</p><h3 id="fslutimessyncpath-atime-mtime" tabindex="-1"><code>fs.lutimesSync(path, atime, mtime)</code> <a class="header-anchor" href="#fslutimessyncpath-atime-mtime" aria-label="Permalink to “fs.lutimesSync(path, atime, mtime)”">​</a></h3><p><strong>Ajouté dans : v14.5.0, v12.19.0</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li></ul><p>Modifie les horodatages du système de fichiers du lien symbolique référencé par <code>path</code>. Renvoie <code>undefined</code> ou lève une exception lorsque les paramètres sont incorrects ou que l&#39;opération échoue. Il s&#39;agit de la version synchrone de <a href="/fr/nodejs/api/fs#fslutimespath-atime-mtime-callback"><code>fs.lutimes()</code></a>.</p><h3 id="fslinksyncexistingpath-newpath" tabindex="-1"><code>fs.linkSync(existingPath, newPath)</code> <a class="header-anchor" href="#fslinksyncexistingpath-newpath" aria-label="Permalink to “fs.linkSync(existingPath, newPath)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Les paramètres <code>existingPath</code> et <code>newPath</code> peuvent être des objets <code>URL</code> WHATWG utilisant le protocole <code>file:</code>. Le support est actuellement encore <em>expérimental</em>.</td></tr><tr><td>v0.1.31</td><td>Ajouté dans : v0.1.31</td></tr></tbody></table></div><ul><li><code>existingPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>newPath</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li></ul><p>Crée un nouveau lien de <code>existingPath</code> vers <code>newPath</code>. Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/link.2" target="_blank" rel="noreferrer"><code>link(2)</code></a> pour plus de détails. Retourne <code>undefined</code>.</p><h3 id="fslstatsyncpath-options" tabindex="-1"><code>fs.lstatSync(path[, options])</code> <a class="header-anchor" href="#fslstatsyncpath-options" aria-label="Permalink to “fs.lstatSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v15.3.0, v14.17.0</td><td>Accepte une option <code>throwIfNoEntry</code> pour spécifier si une exception doit être levée si l&#39;entrée n&#39;existe pas.</td></tr><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques retournées doivent être bigint.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.30</td><td>Ajouté dans : v0.1.30</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> retourné doivent être <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>throwIfNoEntry</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si une exception sera levée si aucune entrée de système de fichiers n&#39;existe, plutôt que de retourner <code>undefined</code>. <strong>Par défaut :</strong> <code>true</code>.</li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></p></li></ul><p>Récupère le <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le lien symbolique référencé par <code>path</code>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/lstat.2" target="_blank" rel="noreferrer"><code>lstat(2)</code></a> pour plus de détails.</p><h3 id="fsmkdirsyncpath-options" tabindex="-1"><code>fs.mkdirSync(path[, options])</code> <a class="header-anchor" href="#fsmkdirsyncpath-options" aria-label="Permalink to “fs.mkdirSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v13.11.0, v12.17.0</td><td>En mode <code>recursive</code>, le premier chemin créé est maintenant renvoyé.</td></tr><tr><td>v10.12.0</td><td>Le deuxième argument peut maintenant être un objet <code>options</code> avec les propriétés <code>recursive</code> et <code>mode</code>.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.21</td><td>Ajouté dans : v0.1.21</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p><ul><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Non supporté sur Windows. <strong>Par défaut :</strong> <code>0o777</code>.</li></ul></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Undefined_type" target="_blank" rel="noreferrer">&lt;undefined&gt;</a></p></li></ul><p>Crée un répertoire de manière synchrone. Renvoie <code>undefined</code>, ou si <code>recursive</code> est <code>true</code>, le premier chemin de répertoire créé. Il s&#39;agit de la version synchrone de <a href="/fr/nodejs/api/fs#fsmkdirpath-options-callback"><code>fs.mkdir()</code></a>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/mkdir.2" target="_blank" rel="noreferrer"><code>mkdir(2)</code></a> pour plus de détails.</p><h3 id="fsmkdtempsyncprefix-options" tabindex="-1"><code>fs.mkdtempSync(prefix[, options])</code> <a class="header-anchor" href="#fsmkdtempsyncprefix-options" aria-label="Permalink to “fs.mkdtempSync(prefix[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.6.0, v18.19.0</td><td>Le paramètre <code>prefix</code> accepte désormais les tampons et les URL.</td></tr><tr><td>v16.5.0, v14.18.0</td><td>Le paramètre <code>prefix</code> accepte désormais une chaîne vide.</td></tr><tr><td>v5.10.0</td><td>Ajouté dans : v5.10.0</td></tr></tbody></table></div><ul><li><p><code>prefix</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Renvoie : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p></li></ul><p>Renvoie le chemin du répertoire créé.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsmkdtempprefix-options-callback"><code>fs.mkdtemp()</code></a>.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser.</p><h3 id="fsopendirsyncpath-options" tabindex="-1"><code>fs.opendirSync(path[, options])</code> <a class="header-anchor" href="#fsopendirsyncpath-options" aria-label="Permalink to “fs.opendirSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.1.0, v18.17.0</td><td>Ajout de l&#39;option <code>recursive</code>.</td></tr><tr><td>v13.1.0, v12.16.0</td><td>L&#39;option <code>bufferSize</code> a été introduite.</td></tr><tr><td>v12.12.0</td><td>Ajouté dans : v12.12.0</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>bufferSize</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Nombre d&#39;entrées de répertoire mises en mémoire tampon en interne lors de la lecture du répertoire. Des valeurs plus élevées améliorent les performances, mais augmentent l&#39;utilisation de la mémoire. <strong>Par défaut :</strong> <code>32</code></li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a></p></li></ul><p>Ouvre un répertoire de manière synchrone. Voir <a href="http://man7.org/linux/man-pages/man3/opendir.3" target="_blank" rel="noreferrer"><code>opendir(3)</code></a>.</p><p>Crée un <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a>, qui contient toutes les fonctions supplémentaires pour lire et nettoyer le répertoire.</p><p>L&#39;option <code>encoding</code> définit l&#39;encodage du <code>path</code> lors de l&#39;ouverture du répertoire et des opérations de lecture suivantes.</p><h3 id="fsopensyncpath-flags-mode" tabindex="-1"><code>fs.openSync(path[, flags[, mode]])</code> <a class="header-anchor" href="#fsopensyncpath-flags-mode" aria-label="Permalink to “fs.openSync(path[, flags[, mode]])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v11.1.0</td><td>L&#39;argument <code>flags</code> est désormais facultatif et sa valeur par défaut est <code>&#39;r&#39;</code>.</td></tr><tr><td>v9.9.0</td><td>Les attributs <code>as</code> et <code>as+</code> sont désormais pris en charge.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.21</td><td>Ajouté dans : v0.1.21</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>flags</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> <strong>Par défaut :</strong> <code>&#39;r&#39;</code>. Voir <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>.</li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>Retourne un entier représentant le descripteur de fichier.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsopenpath-flags-mode-callback"><code>fs.open()</code></a>.</p><h3 id="fsreaddirsyncpath-options" tabindex="-1"><code>fs.readdirSync(path[, options])</code> <a class="header-anchor" href="#fsreaddirsyncpath-options" aria-label="Permalink to “fs.readdirSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v20.1.0, v18.17.0</td><td>Ajout de l&#39;option <code>recursive</code>.</td></tr><tr><td>v10.10.0</td><td>Nouvelle option <code>withFileTypes</code> ajoutée.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.21</td><td>Ajouté dans : v0.1.21</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>withFileTypes</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> <strong>Par défaut :</strong> <code>false</code></li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, lit le contenu d&#39;un répertoire de manière récursive. En mode récursif, il liste tous les fichiers, sous-fichiers et répertoires. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string[]&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer[]&gt;</a> | <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent[]&gt;</a></p></li></ul><p>Lit le contenu du répertoire.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man3/readdir.3" target="_blank" rel="noreferrer"><code>readdir(3)</code></a> pour plus de détails.</p><p>L&#39;argument optionnel <code>options</code> peut être une chaîne de caractères spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour les noms de fichiers retournés. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, les noms de fichiers retournés seront passés en tant qu&#39;objets <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Si <code>options.withFileTypes</code> est défini sur <code>true</code>, le résultat contiendra des objets <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>.</p><h3 id="fsreadfilesyncpath-options" tabindex="-1"><code>fs.readFileSync(path[, options])</code> <a class="header-anchor" href="#fsreadfilesyncpath-options" aria-label="Permalink to “fs.readFileSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v5.0.0</td><td>Le paramètre <code>path</code> peut maintenant être un descripteur de fichier.</td></tr><tr><td>v0.1.8</td><td>Ajouté dans : v0.1.8</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> nom de fichier ou descripteur de fichier</p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir la <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;r&#39;</code>.</li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></p></li></ul><p>Renvoie le contenu du <code>path</code>.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsreadfilepath-options-callback"><code>fs.readFile()</code></a>.</p><p>Si l&#39;option <code>encoding</code> est spécifiée, cette fonction renvoie une chaîne de caractères. Sinon, elle renvoie un buffer.</p><p>De manière similaire à <a href="/fr/nodejs/api/fs#fsreadfilepath-options-callback"><code>fs.readFile()</code></a>, lorsque le chemin d&#39;accès est un répertoire, le comportement de <code>fs.readFileSync()</code> est spécifique à la plateforme.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// macOS, Linux, et Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;directory&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =&gt; [Error: EISDIR: illegal operation on a directory, read &lt;directory&gt;]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// FreeBSD</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;directory&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =&gt; &lt;data&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="fsreadlinksyncpath-options" tabindex="-1"><code>fs.readlinkSync(path[, options])</code> <a class="header-anchor" href="#fsreadlinksyncpath-options" aria-label="Permalink to “fs.readlinkSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.31</td><td>Ajoutée dans : v0.1.31</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></p></li></ul><p>Retourne la valeur de chaîne du lien symbolique.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/readlink.2" target="_blank" rel="noreferrer"><code>readlink(2)</code></a> pour plus de détails.</p><p>L&#39;argument facultatif <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour le chemin du lien retourné. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, le chemin du lien renvoyé sera transmis en tant qu&#39;objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><h3 id="fsreadsyncfd-buffer-offset-length-position" tabindex="-1"><code>fs.readSync(fd, buffer, offset, length[, position])</code> <a class="header-anchor" href="#fsreadsyncfd-buffer-offset-length-position" aria-label="Permalink to “fs.readSync(fd, buffer, offset, length[, position])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v10.10.0</td><td>Le paramètre <code>buffer</code> peut maintenant être n&#39;importe quel <code>TypedArray</code> ou un <code>DataView</code>.</td></tr><tr><td>v6.0.0</td><td>Le paramètre <code>length</code> peut maintenant être <code>0</code>.</td></tr><tr><td>v0.1.21</td><td>Ajoutée dans : v0.1.21</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>Retourne le nombre de <code>bytesRead</code>.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsreadfd-buffer-offset-length-position-callback"><code>fs.read()</code></a>.</p><h3 id="fsreadsyncfd-buffer-options" tabindex="-1"><code>fs.readSync(fd, buffer[, options])</code> <a class="header-anchor" href="#fsreadsyncfd-buffer-options" aria-label="Permalink to “fs.readSync(fd, buffer[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v13.13.0, v12.17.0</td><td>L&#39;objet des options peut être transmis pour rendre l&#39;offset, la length et la position optionnels.</td></tr><tr><td>v13.13.0, v12.17.0</td><td>Ajoutée dans : v13.13.0, v12.17.0</td></tr></tbody></table></div><ul><li><p><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p></li><li><p><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Default:</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Default:</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Default:</strong> <code>null</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></p></li></ul><p>Retourne le nombre de <code>bytesRead</code>.</p><p>Similaire à la fonction <code>fs.readSync</code> ci-dessus, cette version prend un objet <code>options</code> optionnel. Si aucun objet <code>options</code> n&#39;est spécifié, les valeurs par défaut ci-dessus seront utilisées.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsreadfd-buffer-offset-length-position-callback"><code>fs.read()</code></a>.</p><h3 id="fsreadvsyncfd-buffers-position" tabindex="-1"><code>fs.readvSync(fd, buffers[, position])</code> <a class="header-anchor" href="#fsreadvsyncfd-buffers-position" aria-label="Permalink to “fs.readvSync(fd, buffers[, position])”">​</a></h3><p><strong>Ajoutée dans : v13.13.0, v12.17.0</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView[]&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Default:</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Le nombre d&#39;octets lus.</li></ul><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsreadvfd-buffers-position-callback"><code>fs.readv()</code></a>.</p><h3 id="fsrealpathsyncpath-options" tabindex="-1"><code>fs.realpathSync(path[, options])</code> <a class="header-anchor" href="#fsrealpathsyncpath-options" aria-label="Permalink to “fs.realpathSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v8.0.0</td><td>Ajout de la prise en charge de la résolution Pipe/Socket.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet WHATWG <code>URL</code> utilisant le protocole <code>file:</code>.</td></tr><tr><td>v6.4.0</td><td>L&#39;appel à <code>realpathSync</code> fonctionne à nouveau pour divers cas extrêmes sous Windows.</td></tr><tr><td>v6.0.0</td><td>Le paramètre <code>cache</code> a été supprimé.</td></tr><tr><td>v0.1.31</td><td>Ajoutée dans : v0.1.31</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Default:</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></p></li></ul><p>Renvoie le nom de chemin résolu.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsrealpathpath-options-callback"><code>fs.realpath()</code></a>.</p><h3 id="fsrealpathsyncnativepath-options" tabindex="-1"><code>fs.realpathSync.native(path[, options])</code> <a class="header-anchor" href="#fsrealpathsyncnativepath-options" aria-label="Permalink to “fs.realpathSync.native(path[, options])”">​</a></h3><p><strong>Ajoutée dans : v9.2.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Default:</strong> <code>&#39;utf8&#39;</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></p></li></ul><p><a href="http://man7.org/linux/man-pages/man3/realpath.3" target="_blank" rel="noreferrer"><code>realpath(3)</code></a> synchrone.</p><p>Seuls les chemins qui peuvent être convertis en chaînes UTF8 sont pris en charge.</p><p>L&#39;argument facultatif <code>options</code> peut être une chaîne spécifiant un encodage, ou un objet avec une propriété <code>encoding</code> spécifiant l&#39;encodage de caractères à utiliser pour le chemin renvoyé. Si <code>encoding</code> est défini sur <code>&#39;buffer&#39;</code>, le chemin renvoyé sera passé en tant qu&#39;objet <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><p>Sous Linux, lorsque Node.js est lié à musl libc, le système de fichiers procfs doit être monté sur <code>/proc</code> pour que cette fonction fonctionne. Glibc n&#39;a pas cette restriction.</p><h3 id="fsrenamesyncoldpath-newpath" tabindex="-1"><code>fs.renameSync(oldPath, newPath)</code> <a class="header-anchor" href="#fsrenamesyncoldpath-newpath" aria-label="Permalink to “fs.renameSync(oldPath, newPath)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Les paramètres <code>oldPath</code> et <code>newPath</code> peuvent être des objets <code>URL</code> WHATWG utilisant le protocole <code>file:</code>. La prise en charge est actuellement <em>expérimentale</em>.</td></tr><tr><td>v0.1.21</td><td>Ajoutée dans : v0.1.21</td></tr></tbody></table></div><ul><li><code>oldPath</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>newPath</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li></ul><p>Renomme le fichier de <code>oldPath</code> à <code>newPath</code>. Retourne <code>undefined</code>.</p><p>Voir la documentation POSIX <a href="http://man7.org/linux/man-pages/man2/rename.2" target="_blank" rel="noreferrer"><code>rename(2)</code></a> pour plus de détails.</p><h3 id="fsrmdirsyncpath-options" tabindex="-1"><code>fs.rmdirSync(path[, options])</code> <a class="header-anchor" href="#fsrmdirsyncpath-options" aria-label="Permalink to “fs.rmdirSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v16.0.0</td><td>L’utilisation de <code>fs.rmdirSync(path, { recursive: true })</code> sur un <code>path</code> qui est un fichier n’est plus autorisée et entraîne une erreur <code>ENOENT</code> sous Windows et une erreur <code>ENOTDIR</code> sous POSIX.</td></tr><tr><td>v16.0.0</td><td>L’utilisation de <code>fs.rmdirSync(path, { recursive: true })</code> sur un <code>path</code> qui n’existe pas n’est plus autorisée et entraîne une erreur <code>ENOENT</code>.</td></tr><tr><td>v16.0.0</td><td>L’option <code>recursive</code> est obsolète, son utilisation déclenche un avertissement de dépréciation.</td></tr><tr><td>v14.14.0</td><td>L’option <code>recursive</code> est obsolète, utilisez plutôt <code>fs.rmSync</code>.</td></tr><tr><td>v13.3.0, v12.16.0</td><td>L’option <code>maxBusyTries</code> est renommée en <code>maxRetries</code>, et sa valeur par défaut est 0. L’option <code>emfileWait</code> a été supprimée, et les erreurs <code>EMFILE</code> utilisent la même logique de nouvelle tentative que les autres erreurs. L’option <code>retryDelay</code> est désormais prise en charge. Les erreurs <code>ENFILE</code> sont maintenant retentées.</td></tr><tr><td>v12.10.0</td><td>Les options <code>recursive</code>, <code>maxBusyTries</code> et <code>emfileWait</code> sont désormais prises en charge.</td></tr><tr><td>v7.6.0</td><td>Les paramètres <code>path</code> peuvent être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.21</td><td>Ajoutée dans : v0.1.21</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>options</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>maxRetries</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Si une erreur <code>EBUSY</code>, <code>EMFILE</code>, <code>ENFILE</code>, <code>ENOTEMPTY</code> ou <code>EPERM</code> est rencontrée, Node.js relance l’opération avec une temporisation linéaire de <code>retryDelay</code> millisecondes plus longue à chaque essai. Cette option représente le nombre de tentatives. Cette option est ignorée si l’option <code>recursive</code> n’est pas <code>true</code>. <strong>Par défaut :</strong> <code>0</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, effectue une suppression récursive du répertoire. En mode récursif, les opérations sont relancées en cas d’échec. <strong>Par défaut :</strong> <code>false</code>. <strong>Obsolète.</strong></li><li><code>retryDelay</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> La durée en millisecondes à attendre entre les tentatives. Cette option est ignorée si l’option <code>recursive</code> n’est pas <code>true</code>. <strong>Par défaut :</strong> <code>100</code>.</li></ul></li></ul><p>Synchronous <a href="http://man7.org/linux/man-pages/man2/rmdir.2" target="_blank" rel="noreferrer"><code>rmdir(2)</code></a>. Retourne <code>undefined</code>.</p><p>L’utilisation de <code>fs.rmdirSync()</code> sur un fichier (pas un répertoire) entraîne une erreur <code>ENOENT</code> sous Windows et une erreur <code>ENOTDIR</code> sous POSIX.</p><p>Pour obtenir un comportement similaire à la commande Unix <code>rm -rf</code>, utilisez <a href="/fr/nodejs/api/fs#fsrmsyncpath-options"><code>fs.rmSync()</code></a> avec les options <code>{ recursive: true, force: true }</code>.</p><h3 id="fsrmsyncpath-options" tabindex="-1"><code>fs.rmSync(path[, options])</code> <a class="header-anchor" href="#fsrmsyncpath-options" aria-label="Permalink to “fs.rmSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v17.3.0, v16.14.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v14.14.0</td><td>Ajouté dans : v14.14.0</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a><ul><li><code>force</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Lorsque <code>true</code>, les exceptions seront ignorées si <code>path</code> n’existe pas. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>maxRetries</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Si une erreur <code>EBUSY</code>, <code>EMFILE</code>, <code>ENFILE</code>, <code>ENOTEMPTY</code> ou <code>EPERM</code> est rencontrée, Node.js réessayera l’opération avec un délai d’attente linéaire de <code>retryDelay</code> millisecondes plus long à chaque tentative. Cette option représente le nombre de tentatives. Cette option est ignorée si l’option <code>recursive</code> n’est pas <code>true</code>. <strong>Par défaut :</strong> <code>0</code>.</li><li><code>recursive</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si <code>true</code>, effectue une suppression récursive du répertoire. En mode récursif, les opérations sont relancées en cas d’échec. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>retryDelay</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Le temps en millisecondes à attendre entre les tentatives. Cette option est ignorée si l’option <code>recursive</code> n’est pas <code>true</code>. <strong>Par défaut :</strong> <code>100</code>.</li></ul></li></ul><p>Supprime de manière synchrone les fichiers et répertoires (modelé sur l’utilitaire POSIX standard <code>rm</code>). Renvoie <code>undefined</code>.</p><h3 id="fsstatsyncpath-options" tabindex="-1"><code>fs.statSync(path[, options])</code> <a class="header-anchor" href="#fsstatsyncpath-options" aria-label="Permalink to “fs.statSync(path[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v15.3.0, v14.17.0</td><td>Accepte une option <code>throwIfNoEntry</code> pour spécifier si une exception doit être levée si l’entrée n’existe pas.</td></tr><tr><td>v10.5.0</td><td>Accepte un objet <code>options</code> supplémentaire pour spécifier si les valeurs numériques renvoyées doivent être bigint.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.21</td><td>Ajouté dans : v0.1.21</td></tr></tbody></table></div><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l’objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> renvoyé doivent être <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li><li><code>throwIfNoEntry</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si une exception sera levée si aucune entrée de système de fichiers n’existe, au lieu de renvoyer <code>undefined</code>. <strong>Par défaut :</strong> <code>true</code>.</li></ul></li><li><p>Renvoie : <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a></p></li></ul><p>Récupère le <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour le chemin d’accès.</p><h3 id="fsstatfssyncpath-options" tabindex="-1"><code>fs.statfsSync(path[, options])</code> <a class="header-anchor" href="#fsstatfssyncpath-options" aria-label="Permalink to “fs.statfsSync(path[, options])”">​</a></h3><p><strong>Ajouté dans : v19.6.0, v18.15.0</strong></p><ul><li><p><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>bigint</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Indique si les valeurs numériques dans l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstatfs">&lt;fs.StatFs&gt;</a> retourné doivent être <code>bigint</code>. <strong>Par défaut :</strong> <code>false</code>.</li></ul></li><li><p>Retourne : <a href="/fr/nodejs/api/fs#class-fsstatfs">&lt;fs.StatFs&gt;</a></p></li></ul><p><a href="http://man7.org/linux/man-pages/man2/statfs.2" target="_blank" rel="noreferrer"><code>statfs(2)</code></a> synchrone. Renvoie des informations sur le système de fichiers monté qui contient <code>path</code>.</p><p>En cas d&#39;erreur, le <code>err.code</code> sera l&#39;une des <a href="/fr/nodejs/api/errors#common-system-errors">erreurs système courantes</a>.</p><h3 id="fssymlinksynctarget-path-type" tabindex="-1"><code>fs.symlinkSync(target, path[, type])</code> <a class="header-anchor" href="#fssymlinksynctarget-path-type" aria-label="Permalink to “fs.symlinkSync(target, path[, type])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v12.0.0</td><td>Si l&#39;argument <code>type</code> n&#39;est pas défini, Node détectera automatiquement le type de <code>target</code> et sélectionnera automatiquement <code>dir</code> ou <code>file</code>.</td></tr><tr><td>v7.6.0</td><td>Les paramètres <code>target</code> et <code>path</code> peuvent être des objets WHATWG <code>URL</code> utilisant le protocole <code>file:</code>. La prise en charge est actuellement encore <em>expérimentale</em>.</td></tr><tr><td>v0.1.31</td><td>Ajouté dans : v0.1.31</td></tr></tbody></table></div><ul><li><code>target</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>path</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>type</code> <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li></ul><p>Retourne <code>undefined</code>.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fssymlinktarget-path-type-callback"><code>fs.symlink()</code></a>.</p><h3 id="fstruncatesyncpath-len" tabindex="-1"><code>fs.truncateSync(path[, len])</code> <a class="header-anchor" href="#fstruncatesyncpath-len" aria-label="Permalink to “fs.truncateSync(path[, len])”">​</a></h3><p><strong>Ajouté dans : v0.8.6</strong></p><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>len</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li></ul><p>Tronque le fichier. Renvoie <code>undefined</code>. Un descripteur de fichier peut également être transmis comme premier argument. Dans ce cas, <code>fs.ftruncateSync()</code> est appelé.</p><p>La transmission d&#39;un descripteur de fichier est obsolète et peut entraîner une erreur à l&#39;avenir.</p><h3 id="fsunlinksyncpath" tabindex="-1"><code>fs.unlinkSync(path)</code> <a class="header-anchor" href="#fsunlinksyncpath" aria-label="Permalink to “fs.unlinkSync(path)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v0.1.21</td><td>Ajouté dans : v0.1.21</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li></ul><p><a href="http://man7.org/linux/man-pages/man2/unlink.2" target="_blank" rel="noreferrer"><code>unlink(2)</code></a> synchrone. Renvoie <code>undefined</code>.</p><h3 id="fsutimessyncpath-atime-mtime" tabindex="-1"><code>fs.utimesSync(path, atime, mtime)</code> <a class="header-anchor" href="#fsutimessyncpath-atime-mtime" aria-label="Permalink to “fs.utimesSync(path, atime, mtime)”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v8.0.0</td><td><code>NaN</code>, <code>Infinity</code> et <code>-Infinity</code> ne sont plus des spécificateurs de temps valides.</td></tr><tr><td>v7.6.0</td><td>Le paramètre <code>path</code> peut être un objet <code>URL</code> WHATWG utilisant le protocole <code>file:</code>.</td></tr><tr><td>v4.1.0</td><td>Les chaînes numériques, <code>NaN</code> et <code>Infinity</code> sont désormais autorisées comme spécificateurs de temps.</td></tr><tr><td>v0.4.2</td><td>Ajouté dans : v0.4.2</td></tr></tbody></table></div><ul><li><code>path</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a></li><li><code>atime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li><li><code>mtime</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li></ul><p>Renvoie <code>undefined</code>.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fsutimespath-atime-mtime-callback"><code>fs.utimes()</code></a>.</p><h3 id="fswritefilesyncfile-data-options" tabindex="-1"><code>fs.writeFileSync(file, data[, options])</code> <a class="header-anchor" href="#fswritefilesyncfile-data-options" aria-label="Permalink to “fs.writeFileSync(file, data[, options])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v21.0.0, v20.10.0</td><td>L&#39;option <code>flush</code> est désormais prise en charge.</td></tr><tr><td>v19.0.0</td><td>Transmettre à l&#39;objet paramètre <code>data</code> avec sa propre fonction <code>toString</code> n&#39;est plus pris en charge.</td></tr><tr><td>v17.8.0</td><td>Transmettre à l&#39;objet paramètre <code>data</code> avec sa propre fonction <code>toString</code> est obsolète.</td></tr><tr><td>v14.12.0</td><td>Le paramètre <code>data</code> transformera en chaîne un objet avec une fonction <code>toString</code> explicite.</td></tr><tr><td>v14.0.0</td><td>Le paramètre <code>data</code> ne forcera plus les entrées non prises en charge en chaînes.</td></tr><tr><td>v10.10.0</td><td>Le paramètre <code>data</code> peut désormais être n&#39;importe quel <code>TypedArray</code> ou <code>DataView</code>.</td></tr><tr><td>v7.4.0</td><td>Le paramètre <code>data</code> peut désormais être un <code>Uint8Array</code>.</td></tr><tr><td>v5.0.0</td><td>Le paramètre <code>file</code> peut désormais être un descripteur de fichier.</td></tr><tr><td>v0.1.29</td><td>Ajouté dans : v0.1.29</td></tr></tbody></table></div><ul><li><code>file</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> nom de fichier ou descripteur de fichier</li><li><code>data</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></li><li><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a><ul><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li><code>mode</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0o666</code></li><li><code>flag</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Voir la <a href="/fr/nodejs/api/fs#file-system-flags">prise en charge des <code>flags</code> du système de fichiers</a>. <strong>Par défaut :</strong> <code>&#39;w&#39;</code>.</li><li><code>flush</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a> Si toutes les données sont écrites avec succès dans le fichier et que <code>flush</code> est <code>true</code>, <code>fs.fsyncSync()</code> est utilisé pour vider les données.</li></ul></li></ul><p>Renvoie <code>undefined</code>.</p><p>L&#39;option <code>mode</code> affecte uniquement le fichier nouvellement créé. Voir <a href="/fr/nodejs/api/fs#fsopenpath-flags-mode-callback"><code>fs.open()</code></a> pour plus de détails.</p><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fswritefilefile-data-options-callback"><code>fs.writeFile()</code></a>.</p><h3 id="fswritesyncfd-buffer-offset-length-position" tabindex="-1"><code>fs.writeSync(fd, buffer, offset[, length[, position]])</code> <a class="header-anchor" href="#fswritesyncfd-buffer-offset-length-position" aria-label="Permalink to “fs.writeSync(fd, buffer, offset[, length[, position]])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v14.0.0</td><td>Le paramètre <code>buffer</code> ne forcera plus les entrées non prises en charge à devenir des chaînes.</td></tr><tr><td>v10.10.0</td><td>Le paramètre <code>buffer</code> peut désormais être n&#39;importe quel <code>TypedArray</code> ou un <code>DataView</code>.</td></tr><tr><td>v7.4.0</td><td>Le paramètre <code>buffer</code> peut désormais être un <code>Uint8Array</code>.</td></tr><tr><td>v7.2.0</td><td>Les paramètres <code>offset</code> et <code>length</code> sont désormais optionnels.</td></tr><tr><td>v0.1.21</td><td>Ajoutée dans : v0.1.21</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></li><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Le nombre d’octets écrits.</li></ul><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fswritefd-buffer-offset-length-position-callback"><code>fs.write(fd, buffer...)</code></a>.</p><h3 id="fswritesyncfd-buffer-options" tabindex="-1"><code>fs.writeSync(fd, buffer[, options])</code> <a class="header-anchor" href="#fswritesyncfd-buffer-options" aria-label="Permalink to “fs.writeSync(fd, buffer[, options])”">​</a></h3><p><strong>Ajoutée dans : v18.3.0, v16.17.0</strong></p><ul><li><p><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></p></li><li><p><code>buffer</code> <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noreferrer">&lt;TypedArray&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView" target="_blank" rel="noreferrer">&lt;DataView&gt;</a></p></li><li><p><code>options</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></p><ul><li><code>offset</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>0</code></li><li><code>length</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>buffer.byteLength - offset</code></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> <strong>Par défaut :</strong> <code>null</code></li></ul></li><li><p>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Le nombre d’octets écrits.</p></li></ul><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fswritefd-buffer-offset-length-position-callback"><code>fs.write(fd, buffer...)</code></a>.</p><h3 id="fswritesyncfd-string-position-encoding" tabindex="-1"><code>fs.writeSync(fd, string[, position[, encoding]])</code> <a class="header-anchor" href="#fswritesyncfd-string-position-encoding" aria-label="Permalink to “fs.writeSync(fd, string[, position[, encoding]])”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v14.0.0</td><td>Le paramètre <code>string</code> ne forcera plus les entrées non prises en charge en chaînes de caractères.</td></tr><tr><td>v7.2.0</td><td>Le paramètre <code>position</code> est désormais optionnel.</td></tr><tr><td>v0.11.5</td><td>Ajouté dans : v0.11.5</td></tr></tbody></table></div><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>string</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li><code>encoding</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> <strong>Par défaut :</strong> <code>&#39;utf8&#39;</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Le nombre d&#39;octets écrits.</li></ul><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fswritefd-string-position-encoding-callback"><code>fs.write(fd, string...)</code></a>.</p><h3 id="fswritevsyncfd-buffers-position" tabindex="-1"><code>fs.writevSync(fd, buffers[, position])</code> <a class="header-anchor" href="#fswritevsyncfd-buffers-position" aria-label="Permalink to “fs.writevSync(fd, buffers[, position])”">​</a></h3><p><strong>Ajouté dans : v12.9.0</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a></li><li><code>buffers</code> <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank" rel="noreferrer">&lt;ArrayBufferView[]&gt;</a></li><li><code>position</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a> <strong>Par défaut :</strong> <code>null</code></li><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> Le nombre d&#39;octets écrits.</li></ul><p>Pour des informations détaillées, consultez la documentation de la version asynchrone de cette API : <a href="/fr/nodejs/api/fs#fswritevfd-buffers-position-callback"><code>fs.writev()</code></a>.</p><h2 id="common-objects" tabindex="-1">Objets communs <a class="header-anchor" href="#common-objects" aria-label="Permalink to “Objets communs”">​</a></h2><p>Les objets communs sont partagés par toutes les variantes de l&#39;API du système de fichiers (promise, callback et synchrone).</p><h3 id="class-fsdir" tabindex="-1">Classe : <code>fs.Dir</code> <a class="header-anchor" href="#class-fsdir" aria-label="Permalink to “Classe : fs.Dir”">​</a></h3><p><strong>Ajoutée dans : v12.12.0</strong></p><p>Une classe représentant un flux de répertoire.</p><p>Créée par <a href="/fr/nodejs/api/fs#fsopendirpath-options-callback"><code>fs.opendir()</code></a>, <a href="/fr/nodejs/api/fs#fsopendirsyncpath-options"><code>fs.opendirSync()</code></a> ou <a href="/fr/nodejs/api/fs#fspromisesopendirpath-options"><code>fsPromises.opendir()</code></a>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { opendir } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dir</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> opendir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  for</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dirent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dir)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dirent.name);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(err);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Lors de l&#39;utilisation de l&#39;itérateur asynchrone, l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a> sera automatiquement fermé après la sortie de l&#39;itérateur.</p><h4 id="dirclose" tabindex="-1"><code>dir.close()</code> <a class="header-anchor" href="#dirclose" aria-label="Permalink to “dir.close()”">​</a></h4><p><strong>Ajoutée dans : v12.12.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a></li></ul><p>Ferme de manière asynchrone le descripteur de ressource sous-jacent du répertoire. Les lectures suivantes entraîneront des erreurs.</p><p>Une promise est renvoyée et sera remplie une fois la ressource fermée.</p><h4 id="dirclosecallback" tabindex="-1"><code>dir.close(callback)</code> <a class="header-anchor" href="#dirclosecallback" aria-label="Permalink to “dir.close(callback)”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v18.0.0</td><td>La transmission d&#39;un callback invalide à l&#39;argument <code>callback</code> lève désormais <code>ERR_INVALID_ARG_TYPE</code> au lieu de <code>ERR_INVALID_CALLBACK</code>.</td></tr><tr><td>v12.12.0</td><td>Ajoutée dans : v12.12.0</td></tr></tbody></table></div><ul><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Ferme de manière asynchrone le descripteur de ressource sous-jacent du répertoire. Les lectures suivantes entraîneront des erreurs.</p><p>Le <code>callback</code> sera appelé une fois le descripteur de ressource fermé.</p><h4 id="dirclosesync" tabindex="-1"><code>dir.closeSync()</code> <a class="header-anchor" href="#dirclosesync" aria-label="Permalink to “dir.closeSync()”">​</a></h4><p><strong>Ajoutée dans : v12.12.0</strong></p><p>Ferme de manière synchrone le descripteur de ressource sous-jacent du répertoire. Les lectures suivantes entraîneront des erreurs.</p><h4 id="dirpath" tabindex="-1"><code>dir.path</code> <a class="header-anchor" href="#dirpath" aria-label="Permalink to “dir.path”">​</a></h4><p><strong>Ajoutée dans : v12.12.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>Le chemin en lecture seule de ce répertoire tel qu&#39;il a été fourni à <a href="/fr/nodejs/api/fs#fsopendirpath-options-callback"><code>fs.opendir()</code></a>, <a href="/fr/nodejs/api/fs#fsopendirsyncpath-options"><code>fs.opendirSync()</code></a> ou <a href="/fr/nodejs/api/fs#fspromisesopendirpath-options"><code>fsPromises.opendir()</code></a>.</p><h4 id="dirread" tabindex="-1"><code>dir.read()</code> <a class="header-anchor" href="#dirread" aria-label="Permalink to “dir.read()”">​</a></h4><p><strong>Ajouté dans : v12.12.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">&lt;Promise&gt;</a> Réussit avec un <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a></li></ul><p>Lit de manière asynchrone l’entrée de répertoire suivante via <a href="http://man7.org/linux/man-pages/man3/readdir.3" target="_blank" rel="noreferrer"><code>readdir(3)</code></a> comme un <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>.</p><p>Une promesse est renvoyée qui sera résolue avec un <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>, ou <code>null</code> s’il n’y a plus d’entrées de répertoire à lire.</p><p>Les entrées de répertoire renvoyées par cette fonction ne sont dans aucun ordre particulier tel que fourni par les mécanismes de répertoire sous-jacents du système d’exploitation. Les entrées ajoutées ou supprimées lors de l’itération sur le répertoire peuvent ne pas être incluses dans les résultats de l’itération.</p><h4 id="dirreadcallback" tabindex="-1"><code>dir.read(callback)</code> <a class="header-anchor" href="#dirreadcallback" aria-label="Permalink to “dir.read(callback)”">​</a></h4><p><strong>Ajouté dans : v12.12.0</strong></p><ul><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li><li><code>dirent</code> <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a></li></ul></li></ul><p>Lit de manière asynchrone l’entrée de répertoire suivante via <a href="http://man7.org/linux/man-pages/man3/readdir.3" target="_blank" rel="noreferrer"><code>readdir(3)</code></a> comme un <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>.</p><p>Une fois la lecture terminée, le <code>callback</code> sera appelé avec un <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>, ou <code>null</code> s’il n’y a plus d’entrées de répertoire à lire.</p><p>Les entrées de répertoire renvoyées par cette fonction ne sont dans aucun ordre particulier tel que fourni par les mécanismes de répertoire sous-jacents du système d’exploitation. Les entrées ajoutées ou supprimées lors de l’itération sur le répertoire peuvent ne pas être incluses dans les résultats de l’itération.</p><h4 id="dirreadsync" tabindex="-1"><code>dir.readSync()</code> <a class="header-anchor" href="#dirreadsync" aria-label="Permalink to “dir.readSync()”">​</a></h4><p><strong>Ajouté dans : v12.12.0</strong></p><ul><li>Retourne : <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Null_type" target="_blank" rel="noreferrer">&lt;null&gt;</a></li></ul><p>Lit de manière synchrone l’entrée de répertoire suivante comme un <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>. Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man3/readdir.3" target="_blank" rel="noreferrer"><code>readdir(3)</code></a> pour plus de détails.</p><p>S’il n’y a plus d’entrées de répertoire à lire, <code>null</code> sera renvoyé.</p><p>Les entrées de répertoire renvoyées par cette fonction ne sont dans aucun ordre particulier tel que fourni par les mécanismes de répertoire sous-jacents du système d’exploitation. Les entrées ajoutées ou supprimées lors de l’itération sur le répertoire peuvent ne pas être incluses dans les résultats de l’itération.</p><h4 id="dirsymbolasynciterator" tabindex="-1"><code>dir[Symbol.asyncIterator]()</code> <a class="header-anchor" href="#dirsymbolasynciterator" aria-label="Permalink to “dir[Symbol.asyncIterator]()”">​</a></h4><p><strong>Ajouté dans : v12.12.0</strong></p><ul><li>Retourne : <a href="https://tc39.github.io/ecma262/#sec-asynciterator-interface" target="_blank" rel="noreferrer">&lt;AsyncIterator&gt;</a> Un AsyncIterator de <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a></li></ul><p>Itère de manière asynchrone sur le répertoire jusqu&#39;à ce que toutes les entrées aient été lues. Consultez la documentation POSIX <a href="http://man7.org/linux/man-pages/man3/readdir.3" target="_blank" rel="noreferrer"><code>readdir(3)</code></a> pour plus de détails.</p><p>Les entrées renvoyées par l&#39;itérateur asynchrone sont toujours un <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>. Le cas <code>null</code> de <code>dir.read()</code> est géré en interne.</p><p>Voir <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a> pour un exemple.</p><p>Les entrées de répertoire renvoyées par cet itérateur ne sont dans aucun ordre particulier tel que fourni par les mécanismes de répertoire sous-jacents du système d&#39;exploitation. Les entrées ajoutées ou supprimées lors de l&#39;itération sur le répertoire peuvent ne pas être incluses dans les résultats de l&#39;itération.</p><h3 id="class-fsdirent" tabindex="-1">Class : <code>fs.Dirent</code> <a class="header-anchor" href="#class-fsdirent" aria-label="Permalink to “Class : fs.Dirent”">​</a></h3><p><strong>Ajouté dans : v10.10.0</strong></p><p>Une représentation d&#39;une entrée de répertoire, qui peut être un fichier ou un sous-répertoire dans le répertoire, tel que renvoyé par la lecture d&#39;un <a href="/fr/nodejs/api/fs#class-fsdir">&lt;fs.Dir&gt;</a>. L&#39;entrée de répertoire est une combinaison du nom de fichier et des paires de type de fichier.</p><p>De plus, lorsque <a href="/fr/nodejs/api/fs#fsreaddirpath-options-callback"><code>fs.readdir()</code></a> ou <a href="/fr/nodejs/api/fs#fsreaddirsyncpath-options"><code>fs.readdirSync()</code></a> est appelé avec l&#39;option <code>withFileTypes</code> définie sur <code>true</code>, le tableau résultant est rempli avec des objets <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a>, plutôt que des chaînes de caractères ou des <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>s.</p><h4 id="direntisblockdevice" tabindex="-1"><code>dirent.isBlockDevice()</code> <a class="header-anchor" href="#direntisblockdevice" aria-label="Permalink to “dirent.isBlockDevice()”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> décrit un périphérique de bloc.</p><h4 id="direntischaracterdevice" tabindex="-1"><code>dirent.isCharacterDevice()</code> <a class="header-anchor" href="#direntischaracterdevice" aria-label="Permalink to “dirent.isCharacterDevice()”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> décrit un périphérique de caractères.</p><h4 id="direntisdirectory" tabindex="-1"><code>dirent.isDirectory()</code> <a class="header-anchor" href="#direntisdirectory" aria-label="Permalink to “dirent.isDirectory()”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> décrit un répertoire du système de fichiers.</p><h4 id="direntisfifo" tabindex="-1"><code>dirent.isFIFO()</code> <a class="header-anchor" href="#direntisfifo" aria-label="Permalink to “dirent.isFIFO()”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> décrit un tube FIFO (premier entré, premier sorti).</p><h4 id="direntisfile" tabindex="-1"><code>dirent.isFile()</code> <a class="header-anchor" href="#direntisfile" aria-label="Permalink to “dirent.isFile()”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> décrit un fichier normal.</p><h4 id="direntissocket" tabindex="-1"><code>dirent.isSocket()</code> <a class="header-anchor" href="#direntissocket" aria-label="Permalink to “dirent.isSocket()”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> décrit un socket.</p><h4 id="direntissymboliclink" tabindex="-1"><code>dirent.isSymbolicLink()</code> <a class="header-anchor" href="#direntissymboliclink" aria-label="Permalink to “dirent.isSymbolicLink()”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> décrit un lien symbolique.</p><h4 id="direntname" tabindex="-1"><code>dirent.name</code> <a class="header-anchor" href="#direntname" aria-label="Permalink to “dirent.name”">​</a></h4><p><strong>Ajouté dans : v10.10.0</strong></p><ul><li><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>Le nom de fichier auquel cet objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> fait référence. Le type de cette valeur est déterminé par l&#39;<code>options.encoding</code> passée à <a href="/fr/nodejs/api/fs#fsreaddirpath-options-callback"><code>fs.readdir()</code></a> ou <a href="/fr/nodejs/api/fs#fsreaddirsyncpath-options"><code>fs.readdirSync()</code></a>.</p><h4 id="direntparentpath" tabindex="-1"><code>dirent.parentPath</code> <a class="header-anchor" href="#direntparentpath" aria-label="Permalink to “dirent.parentPath”">​</a></h4><p><strong>Ajouté dans : v21.4.0, v20.12.0, v18.20.0</strong></p><div class="warning custom-block"><p class="custom-block-title">[Stable: 1 - Experimental]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 1</a> <a href="/fr/nodejs/api/documentation#stability-index">Stabilité : 1</a> - Expérimental</p></div><ul><li><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>Le chemin d&#39;accès au répertoire parent du fichier auquel cet objet <a href="/fr/nodejs/api/fs#class-fsdirent">&lt;fs.Dirent&gt;</a> fait référence.</p><h4 id="direntpath" tabindex="-1"><code>dirent.path</code> <a class="header-anchor" href="#direntpath" aria-label="Permalink to “dirent.path”">​</a></h4><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v23.2.0</td><td>La propriété n’est plus en lecture seule.</td></tr><tr><td>v23.0.0</td><td>L’accès à cette propriété émet un avertissement. Elle est maintenant en lecture seule.</td></tr><tr><td>v21.5.0, v20.12.0, v18.20.0</td><td>Déprécié depuis : v21.5.0, v20.12.0, v18.20.0</td></tr><tr><td>v20.1.0, v18.17.0</td><td>Ajouté dans : v20.1.0, v18.17.0</td></tr></tbody></table></div><div class="danger custom-block"><p class="custom-block-title">[Stable: 0 - Déprécié]</p><p><a href="/fr/nodejs/api/documentation#stability-index">Stable: 0</a> <a href="/fr/nodejs/api/documentation#stability-index">Stabilité: 0</a> - Déprécié : Utilisez <a href="/fr/nodejs/api/fs#direntparentpath"><code>dirent.parentPath</code></a> à la place.</p></div><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a></li></ul><p>Alias de <code>dirent.parentPath</code>.</p><h3 id="class-fsfswatcher" tabindex="-1">Class: <code>fs.FSWatcher</code> <a class="header-anchor" href="#class-fsfswatcher" aria-label="Permalink to “Class: fs.FSWatcher”">​</a></h3><p><strong>Ajouté dans : v0.5.8</strong></p><ul><li>Hérite de <a href="/fr/nodejs/api/events#class-eventemitter">&lt;EventEmitter&gt;</a></li></ul><p>Un appel réussi à la méthode <a href="/fr/nodejs/api/fs#fswatchfilename-options-listener"><code>fs.watch()</code></a> renverra un nouvel objet <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a>.</p><p>Tous les objets <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> émettent un événement <code>&#39;change&#39;</code> chaque fois qu’un fichier surveillé spécifique est modifié.</p><h4 id="event-change" tabindex="-1">Event: <code>&#39;change&#39;</code> <a class="header-anchor" href="#event-change" aria-label="Permalink to “Event: &#39;change&#39;”">​</a></h4><p><strong>Ajouté dans : v0.5.8</strong></p><ul><li><code>eventType</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> Le type d’événement de modification qui s’est produit</li><li><code>filename</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> Le nom du fichier qui a été modifié (si pertinent/disponible)</li></ul><p>Émis lorsque quelque chose change dans un répertoire ou un fichier surveillé. Voir plus de détails dans <a href="/fr/nodejs/api/fs#fswatchfilename-options-listener"><code>fs.watch()</code></a>.</p><p>L’argument <code>filename</code> peut ne pas être fourni en fonction de la prise en charge du système d’exploitation. Si <code>filename</code> est fourni, il sera fourni sous la forme d’un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> si <code>fs.watch()</code> est appelé avec son option <code>encoding</code> définie sur <code>&#39;buffer&#39;</code>, sinon <code>filename</code> sera une chaîne UTF-8.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { watch } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Exemple lorsqu&#39;il est géré via l&#39;écouteur fs.watch()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">watch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./tmp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { encoding: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;buffer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">eventType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">filename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (filename) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filename);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Affiche : &lt;Buffer ...&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="event-close_1" tabindex="-1">Événement : <code>&#39;close&#39;</code> <a class="header-anchor" href="#event-close_1" aria-label="Permalink to “Événement : &#39;close&#39;”">​</a></h4><p><strong>Ajouté dans : v10.0.0</strong></p><p>Émis lorsque l&#39;observateur arrête de surveiller les changements. L&#39;objet <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> fermé n&#39;est plus utilisable dans le gestionnaire d&#39;événements.</p><h4 id="event-error" tabindex="-1">Événement : <code>&#39;error&#39;</code> <a class="header-anchor" href="#event-error" aria-label="Permalink to “Événement : &#39;error&#39;”">​</a></h4><p><strong>Ajouté dans : v0.5.8</strong></p><ul><li><code>error</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul><p>Émis lorsqu&#39;une erreur se produit lors de la surveillance du fichier. L&#39;objet <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> en erreur n&#39;est plus utilisable dans le gestionnaire d&#39;événements.</p><h4 id="watcherclose" tabindex="-1"><code>watcher.close()</code> <a class="header-anchor" href="#watcherclose" aria-label="Permalink to “watcher.close()”">​</a></h4><p><strong>Ajouté dans : v0.5.8</strong></p><p>Arrête de surveiller les changements sur le <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> donné. Une fois arrêté, l&#39;objet <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> n&#39;est plus utilisable.</p><h4 id="watcherref" tabindex="-1"><code>watcher.ref()</code> <a class="header-anchor" href="#watcherref" aria-label="Permalink to “watcher.ref()”">​</a></h4><p><strong>Ajouté dans : v14.3.0, v12.20.0</strong></p><ul><li>Retourne : <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a></li></ul><p>Lorsqu&#39;elle est appelée, demande à la boucle d&#39;événements Node.js de <em>ne pas</em> se terminer tant que le <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> est actif. Appeler <code>watcher.ref()</code> plusieurs fois n&#39;aura aucun effet.</p><p>Par défaut, tous les objets <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> sont &quot;ref&#39;ed&quot;, ce qui rend normalement inutile l&#39;appel à <code>watcher.ref()</code> sauf si <code>watcher.unref()</code> a été appelé précédemment.</p><h4 id="watcherunref" tabindex="-1"><code>watcher.unref()</code> <a class="header-anchor" href="#watcherunref" aria-label="Permalink to “watcher.unref()”">​</a></h4><p><strong>Ajouté dans : v14.3.0, v12.20.0</strong></p><ul><li>Retourne : <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a></li></ul><p>Lorsqu&#39;il est appelé, l&#39;objet <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> actif n&#39;exigera pas que la boucle d&#39;événements Node.js reste active. S&#39;il n&#39;y a pas d&#39;autre activité maintenant la boucle d&#39;événements en cours d&#39;exécution, le processus peut se terminer avant que le rappel de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsfswatcher">&lt;fs.FSWatcher&gt;</a> ne soit invoqué. Appeler <code>watcher.unref()</code> plusieurs fois n&#39;aura aucun effet.</p><h3 id="class-fsstatwatcher" tabindex="-1">Classe : <code>fs.StatWatcher</code> <a class="header-anchor" href="#class-fsstatwatcher" aria-label="Permalink to “Classe : fs.StatWatcher”">​</a></h3><p><strong>Ajouté dans : v14.3.0, v12.20.0</strong></p><ul><li>Hérite de <a href="/fr/nodejs/api/events#class-eventemitter">&lt;EventEmitter&gt;</a></li></ul><p>Un appel réussi à la méthode <code>fs.watchFile()</code> renverra un nouvel objet <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a>.</p><h4 id="watcherref_1" tabindex="-1"><code>watcher.ref()</code> <a class="header-anchor" href="#watcherref_1" aria-label="Permalink to “watcher.ref()”">​</a></h4><p><strong>Ajouté dans : v14.3.0, v12.20.0</strong></p><ul><li>Retourne : <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a></li></ul><p>Lorsqu&#39;elle est appelée, demande à la boucle d&#39;événements Node.js de <em>ne pas</em> se terminer tant que le <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a> est actif. Appeler <code>watcher.ref()</code> plusieurs fois n&#39;aura aucun effet.</p><p>Par défaut, tous les objets <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a> sont &quot;ref&#39;ed&quot;, ce qui rend normalement inutile l&#39;appel à <code>watcher.ref()</code> sauf si <code>watcher.unref()</code> a été appelé précédemment.</p><h4 id="watcherunref_1" tabindex="-1"><code>watcher.unref()</code> <a class="header-anchor" href="#watcherunref_1" aria-label="Permalink to “watcher.unref()”">​</a></h4><p><strong>Ajouté dans : v14.3.0, v12.20.0</strong></p><ul><li>Retourne : <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a></li></ul><p>Lorsqu&#39;il est appelé, l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a> actif n&#39;exigera pas que la boucle d&#39;événements Node.js reste active. S&#39;il n&#39;y a pas d&#39;autre activité maintenant la boucle d&#39;événements en cours d&#39;exécution, le processus peut se terminer avant que le rappel de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstatwatcher">&lt;fs.StatWatcher&gt;</a> ne soit invoqué. Appeler <code>watcher.unref()</code> plusieurs fois n&#39;aura aucun effet.</p><h3 id="class-fsreadstream" tabindex="-1">Class : <code>fs.ReadStream</code> <a class="header-anchor" href="#class-fsreadstream" aria-label="Permalink to “Class : fs.ReadStream”">​</a></h3><p><strong>Ajouté dans : v0.1.93</strong></p><ul><li>Étend : <a href="/fr/nodejs/api/stream#class-streamreadable">&lt;stream.Readable&gt;</a></li></ul><p>Les instances de <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a> sont créées et retournées à l&#39;aide de la fonction <a href="/fr/nodejs/api/fs#fscreatereadstreampath-options"><code>fs.createReadStream()</code></a>.</p><h4 id="event-close_2" tabindex="-1">Événement : <code>&#39;close&#39;</code> <a class="header-anchor" href="#event-close_2" aria-label="Permalink to “Événement : &#39;close&#39;”">​</a></h4><p><strong>Ajouté dans : v0.1.93</strong></p><p>Émis lorsque le descripteur de fichier sous-jacent de <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a> a été fermé.</p><h4 id="event-open" tabindex="-1">Événement : <code>&#39;open&#39;</code> <a class="header-anchor" href="#event-open" aria-label="Permalink to “Événement : &#39;open&#39;”">​</a></h4><p><strong>Ajouté dans : v0.1.93</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Descripteur de fichier entier utilisé par le <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a>.</li></ul><p>Émis lorsque le descripteur de fichier de <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a> a été ouvert.</p><h4 id="event-ready" tabindex="-1">Événement : <code>&#39;ready&#39;</code> <a class="header-anchor" href="#event-ready" aria-label="Permalink to “Événement : &#39;ready&#39;”">​</a></h4><p><strong>Ajouté dans : v9.11.0</strong></p><p>Émis lorsque le <a href="/fr/nodejs/api/fs#class-fsreadstream">&lt;fs.ReadStream&gt;</a> est prêt à être utilisé.</p><p>Déclenché immédiatement après <code>&#39;open&#39;</code>.</p><h4 id="readstreambytesread" tabindex="-1"><code>readStream.bytesRead</code> <a class="header-anchor" href="#readstreambytesread" aria-label="Permalink to “readStream.bytesRead”">​</a></h4><p><strong>Ajouté dans : v6.4.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a></li></ul><p>Le nombre d&#39;octets qui ont été lus jusqu&#39;à présent.</p><h4 id="readstreampath" tabindex="-1"><code>readStream.path</code> <a class="header-anchor" href="#readstreampath" aria-label="Permalink to “readStream.path”">​</a></h4><p><strong>Ajouté dans : v0.1.93</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" target="_blank" rel="noreferrer">&lt;string&gt;</a> | <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a></li></ul><p>Le chemin d&#39;accès au fichier à partir duquel le flux lit, tel que spécifié dans le premier argument de <code>fs.createReadStream()</code>. Si <code>path</code> est transmis en tant que chaîne, alors <code>readStream.path</code> sera une chaîne. Si <code>path</code> est transmis en tant que <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>, alors <code>readStream.path</code> sera un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>. Si <code>fd</code> est spécifié, alors <code>readStream.path</code> sera <code>undefined</code>.</p><h4 id="readstreampending" tabindex="-1"><code>readStream.pending</code> <a class="header-anchor" href="#readstreampending" aria-label="Permalink to “readStream.pending”">​</a></h4><p><strong>Ajouté dans : v11.2.0, v10.16.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Cette propriété est <code>true</code> si le fichier sous-jacent n&#39;a pas encore été ouvert, c&#39;est-à-dire avant que l&#39;événement <code>&#39;ready&#39;</code> ne soit émis.</p><h3 id="class-fsstats" tabindex="-1">Classe : <code>fs.Stats</code> <a class="header-anchor" href="#class-fsstats" aria-label="Permalink to “Classe : fs.Stats”">​</a></h3><div class="info custom-block"><p class="custom-block-title">[Historique]</p><table tabindex="0"><thead><tr><th>Version</th><th>Modifications</th></tr></thead><tbody><tr><td>v22.0.0, v20.13.0</td><td>Le constructeur public est obsolète.</td></tr><tr><td>v8.1.0</td><td>Ajout des heures sous forme de nombres.</td></tr><tr><td>v0.1.21</td><td>Ajouté dans : v0.1.21</td></tr></tbody></table></div><p>Un objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> fournit des informations sur un fichier.</p><p>Les objets renvoyés par <a href="/fr/nodejs/api/fs#fsstatpath-options-callback"><code>fs.stat()</code></a>, <a href="/fr/nodejs/api/fs#fslstatpath-options-callback"><code>fs.lstat()</code></a>, <a href="/fr/nodejs/api/fs#fsfstatfd-options-callback"><code>fs.fstat()</code></a> et leurs équivalents synchrones sont de ce type. Si <code>bigint</code> dans les <code>options</code> transmises à ces méthodes est vrai, les valeurs numériques seront <code>bigint</code> au lieu de <code>number</code>, et l&#39;objet contiendra des propriétés supplémentaires de précision nanoseconde suffixées par <code>Ns</code>. Les objets <code>Stat</code> ne doivent pas être créés directement à l&#39;aide du mot-clé <code>new</code>.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  dev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2114,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ino:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 48064969,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mode:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 33188,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  nlink:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  uid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 85,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  gid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rdev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  size:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 527,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blksize:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4096,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blocks:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000.1,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000.1,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000.1,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000.1,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>Version <code>bigint</code> :</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BigIntStats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  dev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2114n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ino:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 48064969n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mode:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 33188n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  nlink:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  uid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 85n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  gid:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 100n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rdev:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 0n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  size:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 527n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blksize:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4096n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blocks:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtimeMs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atimeNs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000000000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtimeNs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000000000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctimeNs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000000000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtimeNs:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1318289051000000000n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  atime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ctime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  birthtime:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mon,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Oct</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2011</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 23:24:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GMT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="statsisblockdevice" tabindex="-1"><code>stats.isBlockDevice()</code> <a class="header-anchor" href="#statsisblockdevice" aria-label="Permalink to “stats.isBlockDevice()”">​</a></h4><p><strong>Ajouté dans : v0.1.10</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> décrit un périphérique de bloc.</p><h4 id="statsischaracterdevice" tabindex="-1"><code>stats.isCharacterDevice()</code> <a class="header-anchor" href="#statsischaracterdevice" aria-label="Permalink to “stats.isCharacterDevice()”">​</a></h4><p><strong>Ajouté dans : v0.1.10</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> décrit un périphérique de caractères.</p><h4 id="statsisdirectory" tabindex="-1"><code>stats.isDirectory()</code> <a class="header-anchor" href="#statsisdirectory" aria-label="Permalink to “stats.isDirectory()”">​</a></h4><p><strong>Ajouté dans : v0.1.10</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> décrit un répertoire du système de fichiers.</p><p>Si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> a été obtenu en appelant <a href="/fr/nodejs/api/fs#fslstatpath-options-callback"><code>fs.lstat()</code></a> sur un lien symbolique qui pointe vers un répertoire, cette méthode renverra <code>false</code>. En effet, <a href="/fr/nodejs/api/fs#fslstatpath-options-callback"><code>fs.lstat()</code></a> renvoie des informations sur un lien symbolique lui-même et non sur le chemin vers lequel il pointe.</p><h4 id="statsisfifo" tabindex="-1"><code>stats.isFIFO()</code> <a class="header-anchor" href="#statsisfifo" aria-label="Permalink to “stats.isFIFO()”">​</a></h4><p><strong>Ajouté dans : v0.1.10</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> décrit un tube FIFO (first-in-first-out).</p><h4 id="statsisfile" tabindex="-1"><code>stats.isFile()</code> <a class="header-anchor" href="#statsisfile" aria-label="Permalink to “stats.isFile()”">​</a></h4><p><strong>Ajouté dans : v0.1.10</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> décrit un fichier standard.</p><h4 id="statsissocket" tabindex="-1"><code>stats.isSocket()</code> <a class="header-anchor" href="#statsissocket" aria-label="Permalink to “stats.isSocket()”">​</a></h4><p><strong>Ajouté dans : v0.1.10</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> décrit un socket.</p><h4 id="statsissymboliclink" tabindex="-1"><code>stats.isSymbolicLink()</code> <a class="header-anchor" href="#statsissymboliclink" aria-label="Permalink to “stats.isSymbolicLink()”">​</a></h4><p><strong>Ajouté dans : v0.1.10</strong></p><ul><li>Retourne : <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Renvoie <code>true</code> si l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> décrit un lien symbolique.</p><p>Cette méthode n&#39;est valide que lors de l&#39;utilisation de <a href="/fr/nodejs/api/fs#fslstatpath-options-callback"><code>fs.lstat()</code></a>.</p><h4 id="statsdev" tabindex="-1"><code>stats.dev</code> <a class="header-anchor" href="#statsdev" aria-label="Permalink to “stats.dev”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>L&#39;identifiant numérique du périphérique contenant le fichier.</p><h4 id="statsino" tabindex="-1"><code>stats.ino</code> <a class="header-anchor" href="#statsino" aria-label="Permalink to “stats.ino”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Le numéro &quot;Inode&quot; spécifique au système de fichiers pour le fichier.</p><h4 id="statsmode" tabindex="-1"><code>stats.mode</code> <a class="header-anchor" href="#statsmode" aria-label="Permalink to “stats.mode”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Un champ de bits décrivant le type de fichier et le mode.</p><h4 id="statsnlink" tabindex="-1"><code>stats.nlink</code> <a class="header-anchor" href="#statsnlink" aria-label="Permalink to “stats.nlink”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Le nombre de liens physiques qui existent pour le fichier.</p><h4 id="statsuid" tabindex="-1"><code>stats.uid</code> <a class="header-anchor" href="#statsuid" aria-label="Permalink to “stats.uid”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>L&#39;identifiant numérique de l&#39;utilisateur propriétaire du fichier (POSIX).</p><h4 id="statsgid" tabindex="-1"><code>stats.gid</code> <a class="header-anchor" href="#statsgid" aria-label="Permalink to “stats.gid”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>L&#39;identifiant numérique du groupe propriétaire du fichier (POSIX).</p><h4 id="statsrdev" tabindex="-1"><code>stats.rdev</code> <a class="header-anchor" href="#statsrdev" aria-label="Permalink to “stats.rdev”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Un identifiant numérique de périphérique si le fichier représente un périphérique.</p><h4 id="statssize" tabindex="-1"><code>stats.size</code> <a class="header-anchor" href="#statssize" aria-label="Permalink to “stats.size”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>La taille du fichier en octets.</p><p>Si le système de fichiers sous-jacent ne prend pas en charge la récupération de la taille du fichier, ce sera <code>0</code>.</p><h4 id="statsblksize" tabindex="-1"><code>stats.blksize</code> <a class="header-anchor" href="#statsblksize" aria-label="Permalink to “stats.blksize”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>La taille du bloc du système de fichiers pour les opérations d&#39;E/S.</p><h4 id="statsblocks" tabindex="-1"><code>stats.blocks</code> <a class="header-anchor" href="#statsblocks" aria-label="Permalink to “stats.blocks”">​</a></h4><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Le nombre de blocs alloués pour ce fichier.</p><h4 id="statsatimems" tabindex="-1"><code>stats.atimeMs</code> <a class="header-anchor" href="#statsatimems" aria-label="Permalink to “stats.atimeMs”">​</a></h4><p><strong>Ajouté dans : v8.1.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>L&#39;horodatage indiquant la dernière fois que ce fichier a été accédé, exprimé en millisecondes depuis l&#39;époque POSIX.</p><h4 id="statsmtimems" tabindex="-1"><code>stats.mtimeMs</code> <a class="header-anchor" href="#statsmtimems" aria-label="Permalink to “stats.mtimeMs”">​</a></h4><p><strong>Ajouté dans : v8.1.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>L&#39;horodatage indiquant la dernière fois que ce fichier a été modifié, exprimé en millisecondes depuis l&#39;époque POSIX.</p><h4 id="statsctimems" tabindex="-1"><code>stats.ctimeMs</code> <a class="header-anchor" href="#statsctimems" aria-label="Permalink to “stats.ctimeMs”">​</a></h4><p><strong>Ajouté dans : v8.1.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>L&#39;horodatage indiquant la dernière fois que l&#39;état du fichier a été modifié, exprimé en millisecondes depuis l&#39;époque POSIX.</p><h4 id="statsbirthtimems" tabindex="-1"><code>stats.birthtimeMs</code> <a class="header-anchor" href="#statsbirthtimems" aria-label="Permalink to “stats.birthtimeMs”">​</a></h4><p><strong>Ajouté dans : v8.1.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>L&#39;horodatage indiquant la date de création de ce fichier, exprimé en millisecondes depuis l&#39;époque POSIX.</p><h4 id="statsatimens" tabindex="-1"><code>stats.atimeNs</code> <a class="header-anchor" href="#statsatimens" aria-label="Permalink to “stats.atimeNs”">​</a></h4><p><strong>Ajouté dans : v12.10.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Présent uniquement si <code>bigint: true</code> est passé à la méthode qui génère l&#39;objet. L&#39;horodatage indiquant la dernière fois que ce fichier a été accédé, exprimé en nanosecondes depuis l&#39;époque POSIX.</p><h4 id="statsmtimens" tabindex="-1"><code>stats.mtimeNs</code> <a class="header-anchor" href="#statsmtimens" aria-label="Permalink to “stats.mtimeNs”">​</a></h4><p><strong>Ajouté dans : v12.10.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Présent uniquement lorsque <code>bigint: true</code> est passé à la méthode qui génère l’objet. L’horodatage indiquant la dernière modification de ce fichier exprimé en nanosecondes depuis l’époque POSIX.</p><h4 id="statsctimens" tabindex="-1"><code>stats.ctimeNs</code> <a class="header-anchor" href="#statsctimens" aria-label="Permalink to “stats.ctimeNs”">​</a></h4><p><strong>Ajouté dans : v12.10.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Présent uniquement lorsque <code>bigint: true</code> est passé à la méthode qui génère l’objet. L’horodatage indiquant la dernière modification de l’état du fichier exprimé en nanosecondes depuis l’époque POSIX.</p><h4 id="statsbirthtimens" tabindex="-1"><code>stats.birthtimeNs</code> <a class="header-anchor" href="#statsbirthtimens" aria-label="Permalink to “stats.birthtimeNs”">​</a></h4><p><strong>Ajouté dans : v12.10.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Présent uniquement lorsque <code>bigint: true</code> est passé à la méthode qui génère l’objet. L’horodatage indiquant la date de création de ce fichier exprimé en nanosecondes depuis l’époque POSIX.</p><h4 id="statsatime" tabindex="-1"><code>stats.atime</code> <a class="header-anchor" href="#statsatime" aria-label="Permalink to “stats.atime”">​</a></h4><p><strong>Ajouté dans : v0.11.13</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li></ul><p>L’horodatage indiquant la dernière fois que ce fichier a été accédé.</p><h4 id="statsmtime" tabindex="-1"><code>stats.mtime</code> <a class="header-anchor" href="#statsmtime" aria-label="Permalink to “stats.mtime”">​</a></h4><p><strong>Ajouté dans : v0.11.13</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li></ul><p>L’horodatage indiquant la dernière modification de ce fichier.</p><h4 id="statsctime" tabindex="-1"><code>stats.ctime</code> <a class="header-anchor" href="#statsctime" aria-label="Permalink to “stats.ctime”">​</a></h4><p><strong>Ajouté dans : v0.11.13</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li></ul><p>L’horodatage indiquant la dernière modification de l’état du fichier.</p><h4 id="statsbirthtime" tabindex="-1"><code>stats.birthtime</code> <a class="header-anchor" href="#statsbirthtime" aria-label="Permalink to “stats.birthtime”">​</a></h4><p><strong>Ajouté dans : v0.11.13</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer">&lt;Date&gt;</a></li></ul><p>L’horodatage indiquant la date de création de ce fichier.</p><h4 id="stat-time-values" tabindex="-1">Valeurs temporelles de Stat <a class="header-anchor" href="#stat-time-values" aria-label="Permalink to “Valeurs temporelles de Stat”">​</a></h4><p>Les propriétés <code>atimeMs</code>, <code>mtimeMs</code>, <code>ctimeMs</code>, <code>birthtimeMs</code> sont des valeurs numériques qui contiennent les temps correspondants en millisecondes. Leur précision est spécifique à la plateforme. Lorsque <code>bigint: true</code> est passé à la méthode qui génère l’objet, les propriétés seront des <a href="https://tc39.github.io/proposal-bigint" target="_blank" rel="noreferrer">bigints</a>, sinon elles seront des <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">nombres</a>.</p><p>Les propriétés <code>atimeNs</code>, <code>mtimeNs</code>, <code>ctimeNs</code>, <code>birthtimeNs</code> sont des <a href="https://tc39.github.io/proposal-bigint" target="_blank" rel="noreferrer">bigints</a> qui contiennent les temps correspondants en nanosecondes. Elles sont uniquement présentes lorsque <code>bigint: true</code> est passé à la méthode qui génère l’objet. Leur précision est spécifique à la plateforme.</p><p><code>atime</code>, <code>mtime</code>, <code>ctime</code> et <code>birthtime</code> sont des représentations alternatives d’objet <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noreferrer"><code>Date</code></a> des différents temps. Les valeurs <code>Date</code> et numériques ne sont pas connectées. L’attribution d’une nouvelle valeur numérique ou la modification de la valeur <code>Date</code> ne seront pas reflétées dans la représentation alternative correspondante.</p><p>Les temps dans l’objet stat ont la sémantique suivante :</p><ul><li><code>atime</code> &quot;Temps d’accès&quot; : Heure à laquelle les données du fichier ont été consultées pour la dernière fois. Modifié par les appels système <a href="http://man7.org/linux/man-pages/man2/mknod.2" target="_blank" rel="noreferrer"><code>mknod(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/utimes.2" target="_blank" rel="noreferrer"><code>utimes(2)</code></a> et <a href="http://man7.org/linux/man-pages/man2/read.2" target="_blank" rel="noreferrer"><code>read(2)</code></a>.</li><li><code>mtime</code> &quot;Temps modifié&quot; : Heure à laquelle les données du fichier ont été modifiées pour la dernière fois. Modifié par les appels système <a href="http://man7.org/linux/man-pages/man2/mknod.2" target="_blank" rel="noreferrer"><code>mknod(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/utimes.2" target="_blank" rel="noreferrer"><code>utimes(2)</code></a> et <a href="http://man7.org/linux/man-pages/man2/write.2" target="_blank" rel="noreferrer"><code>write(2)</code></a>.</li><li><code>ctime</code> &quot;Temps de modification&quot; : Heure à laquelle l’état du fichier a été modifié pour la dernière fois (modification des données d’inode). Modifié par les appels système <a href="http://man7.org/linux/man-pages/man2/chmod.2" target="_blank" rel="noreferrer"><code>chmod(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/chown.2" target="_blank" rel="noreferrer"><code>chown(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/link.2" target="_blank" rel="noreferrer"><code>link(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/mknod.2" target="_blank" rel="noreferrer"><code>mknod(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/rename.2" target="_blank" rel="noreferrer"><code>rename(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/unlink.2" target="_blank" rel="noreferrer"><code>unlink(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/utimes.2" target="_blank" rel="noreferrer"><code>utimes(2)</code></a>, <a href="http://man7.org/linux/man-pages/man2/read.2" target="_blank" rel="noreferrer"><code>read(2)</code></a> et <a href="http://man7.org/linux/man-pages/man2/write.2" target="_blank" rel="noreferrer"><code>write(2)</code></a>.</li><li><code>birthtime</code> &quot;Heure de naissance&quot; : Heure de création du fichier. Défini une fois lors de la création du fichier. Sur les systèmes de fichiers où <code>birthtime</code> n’est pas disponible, ce champ peut contenir soit <code>ctime</code>, soit <code>1970-01-01T00:00Z</code> (c’est-à-dire, l’horodatage de l’époque Unix <code>0</code>). Dans ce cas, cette valeur peut être supérieure à <code>atime</code> ou <code>mtime</code>. Sur Darwin et autres variantes FreeBSD, également défini si <code>atime</code> est explicitement défini sur une valeur antérieure à la <code>birthtime</code> actuelle à l’aide de l’appel système <a href="http://man7.org/linux/man-pages/man2/utimes.2" target="_blank" rel="noreferrer"><code>utimes(2)</code></a>.</li></ul><p>Avant Node.js 0.12, <code>ctime</code> contenait <code>birthtime</code> sur les systèmes Windows. À partir de 0.12, <code>ctime</code> n’est pas &quot;l’heure de création&quot;, et sur les systèmes Unix, il ne l’a jamais été.</p><h3 id="class-fsstatfs" tabindex="-1">Classe : <code>fs.StatFs</code> <a class="header-anchor" href="#class-fsstatfs" aria-label="Permalink to “Classe : fs.StatFs”">​</a></h3><p><strong>Ajoutée dans : v19.6.0, v18.15.0</strong></p><p>Fournit des informations sur un système de fichiers monté.</p><p>Les objets retournés par <a href="/fr/nodejs/api/fs#fsstatfspath-options-callback"><code>fs.statfs()</code></a> et son homologue synchrone sont de ce type. Si <code>bigint</code> dans les <code>options</code> passées à ces méthodes est <code>true</code>, les valeurs numériques seront <code>bigint</code> au lieu de <code>number</code>.</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">StatFs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1397114950,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  bsize :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4096,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blocks :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 121938943,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  bfree :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 61058895,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  bavail :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 61058895,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  files :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 999,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ffree :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000000</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Version <code>bigint</code> :</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">StatFs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1397114950n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  bsize :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4096n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  blocks :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 121938943n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  bfree :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 61058895n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  bavail :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 61058895n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  files :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 999n,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ffree :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1000000n</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="statfsbavail" tabindex="-1"><code>statfs.bavail</code> <a class="header-anchor" href="#statfsbavail" aria-label="Permalink to “statfs.bavail”">​</a></h4><p><strong>Ajoutée dans : v19.6.0, v18.15.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Blocs libres disponibles pour les utilisateurs non privilégiés.</p><h4 id="statfsbfree" tabindex="-1"><code>statfs.bfree</code> <a class="header-anchor" href="#statfsbfree" aria-label="Permalink to “statfs.bfree”">​</a></h4><p><strong>Ajoutée dans : v19.6.0, v18.15.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Blocs libres dans le système de fichiers.</p><h4 id="statfsblocks" tabindex="-1"><code>statfs.blocks</code> <a class="header-anchor" href="#statfsblocks" aria-label="Permalink to “statfs.blocks”">​</a></h4><p><strong>Ajoutée dans : v19.6.0, v18.15.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Nombre total de blocs de données dans le système de fichiers.</p><h4 id="statfsbsize" tabindex="-1"><code>statfs.bsize</code> <a class="header-anchor" href="#statfsbsize" aria-label="Permalink to “statfs.bsize”">​</a></h4><p><strong>Ajoutée dans : v19.6.0, v18.15.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Taille de bloc de transfert optimale.</p><h4 id="statfsffree" tabindex="-1"><code>statfs.ffree</code> <a class="header-anchor" href="#statfsffree" aria-label="Permalink to “statfs.ffree”">​</a></h4><p><strong>Ajoutée dans : v19.6.0, v18.15.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Nœuds de fichiers libres dans le système de fichiers.</p><h4 id="statfsfiles" tabindex="-1"><code>statfs.files</code> <a class="header-anchor" href="#statfsfiles" aria-label="Permalink to “statfs.files”">​</a></h4><p><strong>Ajouté dans : v19.6.0, v18.15.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Nombre total de nœuds de fichiers dans le système de fichiers.</p><h4 id="statfstype" tabindex="-1"><code>statfs.type</code> <a class="header-anchor" href="#statfstype" aria-label="Permalink to “statfs.type”">​</a></h4><p><strong>Ajouté dans : v19.6.0, v18.15.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;number&gt;</a> | <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt" target="_blank" rel="noreferrer">&lt;bigint&gt;</a></li></ul><p>Type de système de fichiers.</p><h3 id="class-fswritestream" tabindex="-1">Class: <code>fs.WriteStream</code> <a class="header-anchor" href="#class-fswritestream" aria-label="Permalink to “Class: fs.WriteStream”">​</a></h3><p><strong>Ajouté dans : v0.1.93</strong></p><ul><li>Étend <a href="/fr/nodejs/api/stream#class-streamwritable">&lt;stream.Writable&gt;</a></li></ul><p>Les instances de <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a> sont créées et renvoyées à l&#39;aide de la fonction <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a>.</p><h4 id="event-close_3" tabindex="-1">Event: <code>&#39;close&#39;</code> <a class="header-anchor" href="#event-close_3" aria-label="Permalink to “Event: &#39;close&#39;”">​</a></h4><p><strong>Ajouté dans : v0.1.93</strong></p><p>Émis lorsque le descripteur de fichier sous-jacent de <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a> a été fermé.</p><h4 id="event-open_1" tabindex="-1">Event: <code>&#39;open&#39;</code> <a class="header-anchor" href="#event-open_1" aria-label="Permalink to “Event: &#39;open&#39;”">​</a></h4><p><strong>Ajouté dans : v0.1.93</strong></p><ul><li><code>fd</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" target="_blank" rel="noreferrer">&lt;integer&gt;</a> Descripteur de fichier entier utilisé par <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a>.</li></ul><p>Émis lorsque le fichier de <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a> est ouvert.</p><h4 id="event-ready_1" tabindex="-1">Event: <code>&#39;ready&#39;</code> <a class="header-anchor" href="#event-ready_1" aria-label="Permalink to “Event: &#39;ready&#39;”">​</a></h4><p><strong>Ajouté dans : v9.11.0</strong></p><p>Émis lorsque <a href="/fr/nodejs/api/fs#class-fswritestream">&lt;fs.WriteStream&gt;</a> est prêt à être utilisé.</p><p>Déclenché immédiatement après <code>&#39;open&#39;</code>.</p><h4 id="writestreambyteswritten" tabindex="-1"><code>writeStream.bytesWritten</code> <a class="header-anchor" href="#writestreambyteswritten" aria-label="Permalink to “writeStream.bytesWritten”">​</a></h4><p><strong>Ajouté dans : v0.4.7</strong></p><p>Le nombre d&#39;octets écrits jusqu&#39;à présent. N&#39;inclut pas les données qui sont toujours en file d&#39;attente pour l&#39;écriture.</p><h4 id="writestreamclosecallback" tabindex="-1"><code>writeStream.close([callback])</code> <a class="header-anchor" href="#writestreamclosecallback" aria-label="Permalink to “writeStream.close([callback])”">​</a></h4><p><strong>Ajouté dans : v0.9.4</strong></p><ul><li><code>callback</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" target="_blank" rel="noreferrer">&lt;Function&gt;</a><ul><li><code>err</code> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" target="_blank" rel="noreferrer">&lt;Error&gt;</a></li></ul></li></ul><p>Ferme <code>writeStream</code>. Accepte facultativement un rappel qui sera exécuté une fois que <code>writeStream</code> sera fermé.</p><h4 id="writestreampath" tabindex="-1"><code>writeStream.path</code> <a class="header-anchor" href="#writestreampath" aria-label="Permalink to “writeStream.path”">​</a></h4><p><strong>Ajouté dans : v0.1.93</strong></p><p>Le chemin d’accès au fichier dans lequel le flux écrit, tel que spécifié dans le premier argument de <a href="/fr/nodejs/api/fs#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a>. Si <code>path</code> est transmis en tant que chaîne, alors <code>writeStream.path</code> sera une chaîne. Si <code>path</code> est transmis en tant que <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>, alors <code>writeStream.path</code> sera un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>.</p><h4 id="writestreampending" tabindex="-1"><code>writeStream.pending</code> <a class="header-anchor" href="#writestreampending" aria-label="Permalink to “writeStream.pending”">​</a></h4><p><strong>Ajouté dans : v11.2.0</strong></p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" target="_blank" rel="noreferrer">&lt;boolean&gt;</a></li></ul><p>Cette propriété est <code>true</code> si le fichier sous-jacent n’a pas encore été ouvert, c’est-à-dire avant que l’événement <code>&#39;ready&#39;</code> ne soit émis.</p><h3 id="fsconstants" tabindex="-1"><code>fs.constants</code> <a class="header-anchor" href="#fsconstants" aria-label="Permalink to “fs.constants”">​</a></h3><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" rel="noreferrer">&lt;Object&gt;</a></li></ul><p>Renvoie un objet contenant des constantes couramment utilisées pour les opérations du système de fichiers.</p><h4 id="fs-constants" tabindex="-1">Constantes FS <a class="header-anchor" href="#fs-constants" aria-label="Permalink to “Constantes FS”">​</a></h4><p>Les constantes suivantes sont exportées par <code>fs.constants</code> et <code>fsPromises.constants</code>.</p><p>Toutes les constantes ne seront pas disponibles sur tous les systèmes d’exploitation ; ceci est particulièrement important pour Windows, où de nombreuses définitions spécifiques à POSIX ne sont pas disponibles. Pour les applications portables, il est recommandé de vérifier leur présence avant de les utiliser.</p><p>Pour utiliser plusieurs constantes, utilisez l’opérateur OU bit à bit <code>|</code>.</p><p>Exemple :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, constants } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  O_RDWR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  O_CREAT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  O_EXCL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> constants;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/path/to/my/file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">O_RDWR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> O_CREAT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> O_EXCL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="file-access-constants" tabindex="-1">Constantes d’accès aux fichiers <a class="header-anchor" href="#file-access-constants" aria-label="Permalink to “Constantes d’accès aux fichiers”">​</a></h5><p>Les constantes suivantes sont destinées à être utilisées comme paramètre <code>mode</code> transmis à <a href="/fr/nodejs/api/fs#fspromisesaccesspath-mode"><code>fsPromises.access()</code></a>, <a href="/fr/nodejs/api/fs#fsaccesspath-mode-callback"><code>fs.access()</code></a> et <a href="/fr/nodejs/api/fs#fsaccesssyncpath-mode"><code>fs.accessSync()</code></a>.</p><table tabindex="0"><thead><tr><th>Constante</th><th>Description</th></tr></thead><tbody><tr><td><code>F_OK</code></td><td>Indicateur signalant que le fichier est visible par le processus appelant. C’est utile pour déterminer si un fichier existe, mais ne dit rien sur les autorisations <code>rwx</code>. Valeur par défaut si aucun mode n’est spécifié.</td></tr><tr><td><code>R_OK</code></td><td>Indicateur signalant que le fichier peut être lu par le processus appelant.</td></tr><tr><td><code>W_OK</code></td><td>Indicateur signalant que le fichier peut être écrit par le processus appelant.</td></tr><tr><td><code>X_OK</code></td><td>Indicateur signalant que le fichier peut être exécuté par le processus appelant. Cela n’a aucun effet sur Windows (se comportera comme <code>fs.constants.F_OK</code>).</td></tr><tr><td>Les définitions sont également disponibles sur Windows.</td><td></td></tr></tbody></table><h5 id="file-copy-constants" tabindex="-1">Constantes de copie de fichier <a class="header-anchor" href="#file-copy-constants" aria-label="Permalink to “Constantes de copie de fichier”">​</a></h5><p>Les constantes suivantes sont destinées à être utilisées avec <a href="/fr/nodejs/api/fs#fscopyfilesrc-dest-mode-callback"><code>fs.copyFile()</code></a>.</p><table tabindex="0"><thead><tr><th>Constante</th><th>Description</th></tr></thead><tbody><tr><td><code>COPYFILE_EXCL</code></td><td>Si elle est présente, l&#39;opération de copie échouera avec une erreur si le chemin de destination existe déjà.</td></tr><tr><td><code>COPYFILE_FICLONE</code></td><td>Si elle est présente, l&#39;opération de copie tentera de créer un reflink de copie sur écriture. Si la plateforme sous-jacente ne prend pas en charge la copie sur écriture, un mécanisme de copie de repli est utilisé.</td></tr><tr><td><code>COPYFILE_FICLONE_FORCE</code></td><td>Si elle est présente, l&#39;opération de copie tentera de créer un reflink de copie sur écriture. Si la plateforme sous-jacente ne prend pas en charge la copie sur écriture, l&#39;opération échouera avec une erreur.</td></tr></tbody></table><p>Les définitions sont également disponibles sur Windows.</p><h5 id="file-open-constants" tabindex="-1">Constantes d&#39;ouverture de fichier <a class="header-anchor" href="#file-open-constants" aria-label="Permalink to “Constantes d&#39;ouverture de fichier”">​</a></h5><p>Les constantes suivantes sont destinées à être utilisées avec <code>fs.open()</code>.</p><table tabindex="0"><thead><tr><th>Constante</th><th>Description</th></tr></thead><tbody><tr><td><code>O_RDONLY</code></td><td>Drapeau indiquant d&#39;ouvrir un fichier en accès lecture seule.</td></tr><tr><td><code>O_WRONLY</code></td><td>Drapeau indiquant d&#39;ouvrir un fichier en accès écriture seule.</td></tr><tr><td><code>O_RDWR</code></td><td>Drapeau indiquant d&#39;ouvrir un fichier en accès lecture-écriture.</td></tr><tr><td><code>O_CREAT</code></td><td>Drapeau indiquant de créer le fichier s&#39;il n&#39;existe pas déjà.</td></tr><tr><td><code>O_EXCL</code></td><td>Drapeau indiquant que l&#39;ouverture d&#39;un fichier doit échouer si le drapeau <code>O_CREAT</code> est défini et que le fichier existe déjà.</td></tr><tr><td><code>O_NOCTTY</code></td><td>Drapeau indiquant que si le chemin identifie un périphérique terminal, l&#39;ouverture du chemin ne doit pas faire de ce terminal le terminal de contrôle du processus (si le processus n&#39;en a pas déjà un).</td></tr><tr><td><code>O_TRUNC</code></td><td>Drapeau indiquant que si le fichier existe et est un fichier régulier, et que le fichier est ouvert avec succès en accès écriture, sa longueur doit être tronquée à zéro.</td></tr><tr><td><code>O_APPEND</code></td><td>Drapeau indiquant que les données seront ajoutées à la fin du fichier.</td></tr><tr><td><code>O_DIRECTORY</code></td><td>Drapeau indiquant que l&#39;ouverture doit échouer si le chemin n&#39;est pas un répertoire.</td></tr><tr><td><code>O_NOATIME</code></td><td>Drapeau indiquant que les accès en lecture au système de fichiers n&#39;entraîneront plus de mise à jour des informations <code>atime</code> associées au fichier. Ce drapeau est disponible uniquement sur les systèmes d&#39;exploitation Linux.</td></tr><tr><td><code>O_NOFOLLOW</code></td><td>Drapeau indiquant que l&#39;ouverture doit échouer si le chemin est un lien symbolique.</td></tr><tr><td><code>O_SYNC</code></td><td>Drapeau indiquant que le fichier est ouvert pour E/S synchronisée avec les opérations d&#39;écriture en attente de l&#39;intégrité du fichier.</td></tr><tr><td><code>O_DSYNC</code></td><td>Drapeau indiquant que le fichier est ouvert pour E/S synchronisée avec les opérations d&#39;écriture en attente de l&#39;intégrité des données.</td></tr><tr><td><code>O_SYMLINK</code></td><td>Drapeau indiquant d&#39;ouvrir le lien symbolique lui-même plutôt que la ressource vers laquelle il pointe.</td></tr><tr><td><code>O_DIRECT</code></td><td>Lorsqu&#39;il est défini, une tentative sera faite pour minimiser les effets de mise en cache des E/S de fichiers.</td></tr><tr><td><code>O_NONBLOCK</code></td><td>Drapeau indiquant d&#39;ouvrir le fichier en mode non bloquant lorsque cela est possible.</td></tr><tr><td><code>UV_FS_O_FILEMAP</code></td><td>Lorsqu&#39;il est défini, un mappage de fichier mémoire est utilisé pour accéder au fichier. Ce drapeau est disponible uniquement sur les systèmes d&#39;exploitation Windows. Sur les autres systèmes d&#39;exploitation, ce drapeau est ignoré.</td></tr></tbody></table><p>Sur Windows, seuls <code>O_APPEND</code>, <code>O_CREAT</code>, <code>O_EXCL</code>, <code>O_RDONLY</code>, <code>O_RDWR</code>, <code>O_TRUNC</code>, <code>O_WRONLY</code> et <code>UV_FS_O_FILEMAP</code> sont disponibles.</p><h5 id="file-type-constants" tabindex="-1">Constantes de type de fichier <a class="header-anchor" href="#file-type-constants" aria-label="Permalink to “Constantes de type de fichier”">​</a></h5><p>Les constantes suivantes sont destinées à être utilisées avec la propriété <code>mode</code> de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour déterminer le type d&#39;un fichier.</p><table tabindex="0"><thead><tr><th>Constante</th><th>Description</th></tr></thead><tbody><tr><td><code>S_IFMT</code></td><td>Masque de bits utilisé pour extraire le code de type de fichier.</td></tr><tr><td><code>S_IFREG</code></td><td>Constante de type de fichier pour un fichier régulier.</td></tr><tr><td><code>S_IFDIR</code></td><td>Constante de type de fichier pour un répertoire.</td></tr><tr><td><code>S_IFCHR</code></td><td>Constante de type de fichier pour un fichier de périphérique orienté caractère.</td></tr><tr><td><code>S_IFBLK</code></td><td>Constante de type de fichier pour un fichier de périphérique orienté bloc.</td></tr><tr><td><code>S_IFIFO</code></td><td>Constante de type de fichier pour un FIFO/pipe.</td></tr><tr><td><code>S_IFLNK</code></td><td>Constante de type de fichier pour un lien symbolique.</td></tr><tr><td><code>S_IFSOCK</code></td><td>Constante de type de fichier pour un socket.</td></tr><tr><td>Sur Windows, seuls <code>S_IFCHR</code>, <code>S_IFDIR</code>, <code>S_IFLNK</code>, <code>S_IFMT</code> et <code>S_IFREG</code> sont disponibles.</td><td></td></tr></tbody></table><h5 id="file-mode-constants" tabindex="-1">Constantes de mode de fichier <a class="header-anchor" href="#file-mode-constants" aria-label="Permalink to “Constantes de mode de fichier”">​</a></h5><p>Les constantes suivantes sont destinées à être utilisées avec la propriété <code>mode</code> de l&#39;objet <a href="/fr/nodejs/api/fs#class-fsstats">&lt;fs.Stats&gt;</a> pour déterminer les autorisations d&#39;accès d&#39;un fichier.</p><table tabindex="0"><thead><tr><th>Constante</th><th>Description</th></tr></thead><tbody><tr><td><code>S_IRWXU</code></td><td>Mode de fichier indiquant que le propriétaire peut lire, écrire et exécuter.</td></tr><tr><td><code>S_IRUSR</code></td><td>Mode de fichier indiquant que le propriétaire peut lire.</td></tr><tr><td><code>S_IWUSR</code></td><td>Mode de fichier indiquant que le propriétaire peut écrire.</td></tr><tr><td><code>S_IXUSR</code></td><td>Mode de fichier indiquant que le propriétaire peut exécuter.</td></tr><tr><td><code>S_IRWXG</code></td><td>Mode de fichier indiquant que le groupe peut lire, écrire et exécuter.</td></tr><tr><td><code>S_IRGRP</code></td><td>Mode de fichier indiquant que le groupe peut lire.</td></tr><tr><td><code>S_IWGRP</code></td><td>Mode de fichier indiquant que le groupe peut écrire.</td></tr><tr><td><code>S_IXGRP</code></td><td>Mode de fichier indiquant que le groupe peut exécuter.</td></tr><tr><td><code>S_IRWXO</code></td><td>Mode de fichier indiquant que les autres peuvent lire, écrire et exécuter.</td></tr><tr><td><code>S_IROTH</code></td><td>Mode de fichier indiquant que les autres peuvent lire.</td></tr><tr><td><code>S_IWOTH</code></td><td>Mode de fichier indiquant que les autres peuvent écrire.</td></tr><tr><td><code>S_IXOTH</code></td><td>Mode de fichier indiquant que les autres peuvent exécuter.</td></tr><tr><td>Sur Windows, seuls <code>S_IRUSR</code> et <code>S_IWUSR</code> sont disponibles.</td><td></td></tr></tbody></table><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to “Notes”">​</a></h2><h3 id="ordering-of-callback-and-promise-based-operations" tabindex="-1">Ordre des opérations basées sur des rappels et des promesses <a class="header-anchor" href="#ordering-of-callback-and-promise-based-operations" aria-label="Permalink to “Ordre des opérations basées sur des rappels et des promesses”">​</a></h3><p>Comme elles sont exécutées de manière asynchrone par le pool de threads sous-jacent, il n&#39;y a pas d&#39;ordre garanti lors de l&#39;utilisation des méthodes basées sur des rappels ou des promesses.</p><p>Par exemple, le code suivant est sujet à erreur car l&#39;opération <code>fs.stat()</code> peut se terminer avant l&#39;opération <code>fs.rename()</code> :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;renamed complete&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`stats: ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Il est important d&#39;ordonner correctement les opérations en attendant les résultats de l&#39;une avant d&#39;invoquer l&#39;autre :</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-14563" id="tab-14564" checked><label data-title="ESM" for="tab-14564">ESM</label><input type="radio" name="group-14563" id="tab-14565"><label data-title="CJS" for="tab-14565">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { rename, stat } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> oldPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> newPath</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(oldPath, newPath);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stats</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newPath);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`stats: ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;there was an error:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">oldPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">newPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(oldPath, newPath);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stats</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(newPath);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`stats: ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;there was an error:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, error.message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div></div><p>Ou, lors de l&#39;utilisation des API de rappel, déplacez l&#39;appel <code>fs.stat()</code> dans le rappel de l&#39;opération <code>fs.rename()</code> :</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-14570" id="tab-14571" checked><label data-title="ESM" for="tab-14571">ESM</label><input type="radio" name="group-14570" id="tab-14572"><label data-title="CJS" for="tab-14572">CJS</label></div><div class="blocks"><div class="language-js active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { rename, stat } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`stats: ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/tmp/world&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`stats: ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stats</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div></div><h3 id="file-paths" tabindex="-1">Chemins de fichiers <a class="header-anchor" href="#file-paths" aria-label="Permalink to “Chemins de fichiers”">​</a></h3><p>La plupart des opérations <code>fs</code> acceptent les chemins de fichiers qui peuvent être spécifiés sous la forme d&#39;une chaîne de caractères, d&#39;un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a>, ou d&#39;un objet <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> utilisant le protocole <code>file:</code>.</p><h4 id="string-paths" tabindex="-1">Chemins de type chaîne de caractères <a class="header-anchor" href="#string-paths" aria-label="Permalink to “Chemins de type chaîne de caractères”">​</a></h4><p>Les chemins de type chaîne de caractères sont interprétés comme des séquences de caractères UTF-8 identifiant le nom de fichier absolu ou relatif. Les chemins relatifs seront résolus par rapport au répertoire de travail courant tel que déterminé en appelant <code>process.cwd()</code>.</p><p>Exemple utilisant un chemin absolu sur POSIX :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/open/some/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Faire quelque chose avec le fichier</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Exemple utilisant un chemin relatif sur POSIX (par rapport à <code>process.cwd()</code>) :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Faire quelque chose avec le fichier</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="file-url-paths" tabindex="-1">Chemins d&#39;URL de fichier <a class="header-anchor" href="#file-url-paths" aria-label="Permalink to “Chemins d&#39;URL de fichier”">​</a></h4><p><strong>Ajouté dans : v7.6.0</strong></p><p>Pour la plupart des fonctions du module <code>node:fs</code>, l&#39;argument <code>path</code> ou <code>filename</code> peut être passé comme un objet <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> utilisant le protocole <code>file:</code>.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Les URL <code>file:</code> sont toujours des chemins absolus.</p><h5 id="platform-specific-considerations" tabindex="-1">Considérations spécifiques à la plateforme <a class="header-anchor" href="#platform-specific-considerations" aria-label="Permalink to “Considérations spécifiques à la plateforme”">​</a></h5><p>Sous Windows, les <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> <code>file:</code> avec un nom d&#39;hôte sont converties en chemins UNC, tandis que les <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> <code>file:</code> avec des lettres de lecteur sont converties en chemins absolus locaux. Les <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> <code>file:</code> sans nom d&#39;hôte ni lettre de lecteur entraîneront une erreur :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sous Windows :</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Les URL de fichier WHATWG avec un nom d&#39;hôte sont converties en chemin UNC</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// file://hostname/p/a/t/h/file =&gt; \\hostname\p\a\t\h\file</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file://hostname/p/a/t/h/file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Les URL de fichier WHATWG avec des lettres de lecteur sont converties en chemin absolu</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// file:///C:/tmp/hello =&gt; C:\tmp\hello</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///C:/tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Les URL de fichier WHATWG sans nom d&#39;hôte doivent avoir une lettre de lecteur</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///notdriveletter/p/a/t/h/file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///c/p/a/t/h/file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TypeError [ERR_INVALID_FILE_URL_PATH] : Le chemin d&#39;URL de fichier doit être absolu</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>Les <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> <code>file:</code> avec des lettres de lecteur doivent utiliser <code>:</code> comme séparateur juste après la lettre de lecteur. L&#39;utilisation d&#39;un autre séparateur entraînera une erreur.</p><p>Sur toutes les autres plates-formes, les <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> <code>file:</code> avec un nom d&#39;hôte ne sont pas prises en charge et entraîneront une erreur :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sur les autres plateformes :</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Les URL de fichier WHATWG avec un nom d&#39;hôte ne sont pas prises en charge</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// file://hostname/p/a/t/h/file =&gt; throw !</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file://hostname/p/a/t/h/file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TypeError [ERR_INVALID_FILE_URL_PATH] : doit être absolu</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// - Les URL de fichier WHATWG sont converties en chemin absolu</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// file:///tmp/hello =&gt; /tmp/hello</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///tmp/hello&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Une <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> <code>file:</code> ayant des caractères de barre oblique encodés entraînera une erreur sur toutes les plateformes :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sous Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///C:/p/a/t/h/%2F&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///C:/p/a/t/h/%2f&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* TypeError [ERR_INVALID_FILE_URL_PATH] : Le chemin d&#39;URL de fichier ne doit pas inclure de caractères \ ou / encodés */</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sous POSIX</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///p/a/t/h/%2F&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///p/a/t/h/%2f&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* TypeError [ERR_INVALID_FILE_URL_PATH] : Le chemin d&#39;URL de fichier ne doit pas inclure de caractères / encodés */</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>Sous Windows, les <a href="/fr/nodejs/api/url#the-whatwg-url-api">&lt;URL&gt;</a> <code>file:</code> ayant une barre oblique inversée encodée entraîneront une erreur :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { readFileSync } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Sous Windows</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///C:/path/%5C&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readFileSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;file:///C:/path/%5c&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* TypeError [ERR_INVALID_FILE_URL_PATH] : Le chemin d&#39;URL de fichier ne doit pas inclure de caractères \ ou / encodés */</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="buffer-paths" tabindex="-1">Chemins d&#39;accès Buffer <a class="header-anchor" href="#buffer-paths" aria-label="Permalink to “Chemins d&#39;accès Buffer”">​</a></h4><p>Les chemins d&#39;accès spécifiés à l&#39;aide d&#39;un <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> sont principalement utiles sur certains systèmes d&#39;exploitation POSIX qui traitent les chemins de fichiers comme des séquences d&#39;octets opaques. Sur ces systèmes, il est possible qu&#39;un seul chemin de fichier contienne des sous-séquences qui utilisent plusieurs encodages de caractères. Comme pour les chemins de chaînes, les chemins <a href="/fr/nodejs/api/buffer#class-buffer">&lt;Buffer&gt;</a> peuvent être relatifs ou absolus :</p><p>Exemple d&#39;utilisation d&#39;un chemin absolu sur POSIX :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Buffer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:buffer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  fd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/open/some/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // Do something with the file</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fd?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="per-drive-working-directories-on-windows" tabindex="-1">Répertoires de travail par lecteur sous Windows <a class="header-anchor" href="#per-drive-working-directories-on-windows" aria-label="Permalink to “Répertoires de travail par lecteur sous Windows”">​</a></h4><p>Sous Windows, Node.js suit le concept de répertoire de travail par lecteur. Ce comportement peut être observé lors de l&#39;utilisation d&#39;un chemin de lecteur sans barre oblique inverse. Par exemple, <code>fs.readdirSync(&#39;C:\\&#39;)</code> peut potentiellement renvoyer un résultat différent de <code>fs.readdirSync(&#39;C:&#39;)</code>. Pour plus d&#39;informations, consultez <a href="https://docs.microsoft.com/en-us/windows/desktop/FileIO/naming-a-file#fully-qualified-vs-relative-paths" target="_blank" rel="noreferrer">cette page MSDN</a>.</p><h3 id="file-descriptors_1" tabindex="-1">Descripteurs de fichiers <a class="header-anchor" href="#file-descriptors_1" aria-label="Permalink to “Descripteurs de fichiers”">​</a></h3><p>Sur les systèmes POSIX, pour chaque processus, le noyau conserve une table des fichiers et des ressources actuellement ouverts. Chaque fichier ouvert se voit attribuer un identifiant numérique simple appelé <em>descripteur de fichier</em>. Au niveau du système, toutes les opérations du système de fichiers utilisent ces descripteurs de fichiers pour identifier et suivre chaque fichier spécifique. Les systèmes Windows utilisent un mécanisme différent, mais conceptuellement similaire, pour suivre les ressources. Pour simplifier les choses pour les utilisateurs, Node.js fait abstraction des différences entre les systèmes d&#39;exploitation et attribue à tous les fichiers ouverts un descripteur de fichier numérique.</p><p>Les méthodes <code>fs.open()</code> basées sur des rappels et <code>fs.openSync()</code> synchrones ouvrent un fichier et allouent un nouveau descripteur de fichier. Une fois alloué, le descripteur de fichier peut être utilisé pour lire des données, écrire des données ou demander des informations sur le fichier.</p><p>Les systèmes d&#39;exploitation limitent le nombre de descripteurs de fichiers qui peuvent être ouverts à un moment donné. Il est donc essentiel de fermer le descripteur une fois les opérations terminées. Le non-respect de cette consigne entraînera une fuite de mémoire qui finira par provoquer le plantage d&#39;une application.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open, close, fstat } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/open/some/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    fstat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // use stat</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    closeFd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fd);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>Les API basées sur des promesses utilisent un objet <a href="/fr/nodejs/api/fs#class-filehandle">&lt;FileHandle&gt;</a> à la place du descripteur de fichier numérique. Ces objets sont mieux gérés par le système pour garantir qu&#39;aucune ressource n&#39;est perdue. Cependant, il est toujours nécessaire de les fermer une fois les opérations terminées :</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { open } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;node:fs/promises&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/open/some/file.txt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;r&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // use stat</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="threadpool-usage" tabindex="-1">Utilisation du pool de threads <a class="header-anchor" href="#threadpool-usage" aria-label="Permalink to “Utilisation du pool de threads”">​</a></h3><p>Toutes les API du système de fichiers basées sur des rappels et des promesses (à l&#39;exception de <code>fs.FSWatcher()</code>) utilisent le pool de threads de libuv. Cela peut avoir des implications de performances surprenantes et négatives pour certaines applications. Voir la documentation <a href="/fr/nodejs/api/cli#uv-threadpool-sizesize"><code>UV_THREADPOOL_SIZE</code></a> pour plus d&#39;informations.</p><h3 id="file-system-flags" tabindex="-1">Flags du système de fichiers <a class="header-anchor" href="#file-system-flags" aria-label="Permalink to “Flags du système de fichiers”">​</a></h3><p>Les flags suivants sont disponibles partout où l&#39;option <code>flag</code> prend une chaîne de caractères.</p><ul><li><code>&#39;a&#39;</code> : ouvre le fichier pour ajout. Le fichier est créé s&#39;il n&#39;existe pas.</li><li><code>&#39;ax&#39;</code> : comme <code>&#39;a&#39;</code>, mais échoue si le chemin existe.</li><li><code>&#39;a+&#39;</code> : ouvre le fichier pour lecture et ajout. Le fichier est créé s&#39;il n&#39;existe pas.</li><li><code>&#39;ax+&#39;</code> : comme <code>&#39;a+&#39;</code>, mais échoue si le chemin existe.</li><li><code>&#39;as&#39;</code> : ouvre le fichier pour ajout en mode synchrone. Le fichier est créé s&#39;il n&#39;existe pas.</li><li><code>&#39;as+&#39;</code> : ouvre le fichier pour lecture et ajout en mode synchrone. Le fichier est créé s&#39;il n&#39;existe pas.</li><li><code>&#39;r&#39;</code> : ouvre le fichier en lecture seule. Une exception se produit si le fichier n&#39;existe pas.</li><li><code>&#39;rs&#39;</code> : ouvre le fichier en lecture seule en mode synchrone. Une exception se produit si le fichier n&#39;existe pas.</li><li><code>&#39;r+&#39;</code> : ouvre le fichier en lecture et en écriture. Une exception se produit si le fichier n&#39;existe pas.</li><li><code>&#39;rs+&#39;</code> : ouvre le fichier en lecture et en écriture en mode synchrone. Demande au système d&#39;exploitation de contourner le cache du système de fichiers local. Ceci est principalement utile pour ouvrir des fichiers sur des montages NFS, car cela permet de contourner le cache local potentiellement obsolète. Cela a un impact très réel sur les performances d&#39;E/S, il est donc déconseillé d&#39;utiliser ce flag, sauf si cela est nécessaire. Cela ne transforme pas <code>fs.open()</code> ou <code>fsPromises.open()</code> en un appel bloquant synchrone. Si une opération synchrone est souhaitée, quelque chose comme <code>fs.openSync()</code> doit être utilisé.</li><li><code>&#39;w&#39;</code> : ouvre le fichier en écriture. Le fichier est créé (s&#39;il n&#39;existe pas) ou tronqué (s&#39;il existe).</li><li><code>&#39;wx&#39;</code> : comme <code>&#39;w&#39;</code>, mais échoue si le chemin existe.</li><li><code>&#39;w+&#39;</code> : ouvre le fichier en lecture et en écriture. Le fichier est créé (s&#39;il n&#39;existe pas) ou tronqué (s&#39;il existe).</li><li><code>&#39;wx+&#39;</code> : comme <code>&#39;w+&#39;</code>, mais échoue si le chemin existe.</li></ul><p><code>flag</code> peut aussi être un nombre, comme documenté par <a href="http://man7.org/linux/man-pages/man2/open.2" target="_blank" rel="noreferrer"><code>open(2)</code></a> ; les constantes couramment utilisées sont disponibles dans <code>fs.constants</code>. Sous Windows, les flags sont traduits en leurs équivalents, le cas échéant, par exemple <code>O_WRONLY</code> en <code>FILE_GENERIC_WRITE</code>, ou <code>O_EXCL|O_CREAT</code> en <code>CREATE_NEW</code>, tels qu&#39;acceptés par <code>CreateFileW</code>.</p><p>Le flag exclusif <code>&#39;x&#39;</code> (flag <code>O_EXCL</code> dans <a href="http://man7.org/linux/man-pages/man2/open.2" target="_blank" rel="noreferrer"><code>open(2)</code></a>) fait en sorte que l&#39;opération renvoie une erreur si le chemin existe déjà. Sur POSIX, si le chemin est un lien symbolique, l&#39;utilisation de <code>O_EXCL</code> renvoie une erreur même si le lien pointe vers un chemin qui n&#39;existe pas. Le flag exclusif peut ne pas fonctionner avec les systèmes de fichiers réseau.</p><p>Sous Linux, les écritures positionnelles ne fonctionnent pas lorsque le fichier est ouvert en mode ajout. Le noyau ignore l&#39;argument de position et ajoute toujours les données à la fin du fichier.</p><p>Modifier un fichier plutôt que de le remplacer peut nécessiter que l&#39;option <code>flag</code> soit définie sur <code>&#39;r+&#39;</code> plutôt que sur la valeur par défaut <code>&#39;w&#39;</code>.</p><p>Le comportement de certains flags est spécifique à la plateforme. Ainsi, l&#39;ouverture d&#39;un répertoire sur macOS et Linux avec le flag <code>&#39;a+&#39;</code>, comme dans l&#39;exemple ci-dessous, renverra une erreur. En revanche, sous Windows et FreeBSD, un descripteur de fichier ou un <code>FileHandle</code> sera renvoyé.</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// macOS et Linux</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;directory&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a+&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // =&gt; [Error: EISDIR: illegal operation on a directory, open &lt;directory&gt;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Windows et FreeBSD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fs.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;directory&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;a+&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">fd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // =&gt; null, &lt;fd&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Sous Windows, l&#39;ouverture d&#39;un fichier caché existant à l&#39;aide du flag <code>&#39;w&#39;</code> (que ce soit via <code>fs.open()</code>, <code>fs.writeFile()</code> ou <code>fsPromises.open()</code>) échouera avec <code>EPERM</code>. Les fichiers cachés existants peuvent être ouverts en écriture avec le flag <code>&#39;r+&#39;</code>.</p><p>Un appel à <code>fs.ftruncate()</code> ou <code>filehandle.truncate()</code> peut être utilisé pour réinitialiser le contenu du fichier.</p></div></div></main><footer class="VPDocFooter" data-v-d668f7cc data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><!----><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Dernière mise à jour: <time datetime="2025-06-09T10:21:38.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/fr/nodejs/api/domain" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Page précédente</span><span class="title" data-v-1bcd8184>Domaine</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/fr/nodejs/api/path" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Page suivante</span><span class="title" data-v-1bcd8184>Chemins</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-4539713c data-v-5b9946f5><div class="container" data-v-5b9946f5><p class="message" data-v-5b9946f5><a href="https://idoc.dev/fr/privacy">Politique de confidentialité</a></p><p class="copyright" data-v-5b9946f5>Tous droits réservés © 2024-présent <a href="https://idoc.dev/fr/">iDoc.dev</a></p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>